{"version":3,"sources":["chico.js"],"names":[],"mappings":"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","file":"chico.js","sourcesContent":["/*!\n * Chico UI v2.0.4\n * http://chico-ui.com.ar/\n *\n * Copyright (c) 2016, MercadoLibre.com\n * Released under the MIT license.\n * http://chico-ui.com.ar/license\n */\n\n(function (window) {\n\t'use strict';\n\n    /**\n     * An object which contains all the public members. A short alias for el.querySelectorAll\n     * @param {String} selector Valid CSS selector expression\n     * @param {String|HTMLElement} context A DOM Element, Document, or selector string to use as query context\n     * @returns {NodeList} A collection of matched elements\n     *\n     * @namespace\n     *\n     * @example\n     * // Get all first level headings\n     * var headings = ch('h1');\n     *\n     * // Get a list of p children elements under a container, whose parent is a div that has the class 'wrapper'\n     * var paragraphs = ch('p', ch('div.wrapper'));\n     * // The same as above\n     * var paragraphs = ch('p', 'div.wrapper');\n     */\n    /*eslint-disable no-unused-vars*/\n    var ch = function(selector, context) {\n        if (!context) {\n            context = document;\n        } else if (typeof context === 'string') {\n            context = document.querySelector(context);\n        }\n        // Since NodeList is an array-like object but Array.isArray is always falsy\n        // we should detect the NodeList\n        // Please replace NodeList detection with `context instanceof NodeList && context.length > 0`\n        //   when IE8 support will be dropped\n        // Please replace Object.prototype.hasOwnProperty.call with `context.hasOwnProperty` when IE8\n        //   support will be dropped\n        if (typeof context === 'object' &&\n            /^\\[object (HTMLCollection|NodeList|Object)\\]$/.test(Object.prototype.toString.call(context)) &&\n            Object.prototype.hasOwnProperty.call(context, 'length') && context.length > 0 && context[0].nodeType > 0) {\n            context = context[0];\n        }\n\n        if (context === null || !context.nodeType) {\n            context = document;\n        }\n\n        return context.querySelectorAll(selector);\n    };\n    /*eslint-enable no-unused-vars*/\n\n    /**\n     * Tab key event.\n     * @constant\n     * @memberof ch\n     * @type {String}\n     */\n    ch.onkeytab = 'tab';\n\n    /**\n     * Enter key event.\n     * @constant\n     * @memberof ch\n     * @type {String}\n     */\n    ch.onkeyenter = 'enter';\n\n    /**\n     * Esc key event.\n     * @constant\n     * @memberof ch\n     * @type {String}\n     */\n    ch.onkeyesc = 'esc';\n\n    /**\n     * Left arrow key event.\n     * @constant\n     * @memberof ch\n     * @type {String}\n     */\n    ch.onkeyleftarrow = 'left_arrow';\n\n    /**\n     * Up arrow key event.\n     * @constant\n     * @memberof ch\n     * @type {String}\n     */\n    ch.onkeyuparrow = 'up_arrow';\n\n    /**\n     * Rigth arrow key event.\n     * @constant\n     * @memberof ch\n     * @type {String}\n     */\n    ch.onkeyrightarrow = 'right_arrow';\n\n    /**\n     * Down arrow key event.\n     * @constant\n     * @memberof ch\n     * @type {String}\n     */\n    ch.onkeydownarrow = 'down_arrow';\n\n    /**\n     * Backspace key event.\n     * @constant\n     * @memberof ch\n     * @type {String}\n     */\n    ch.onkeybackspace = 'backspace';\n\n    /**\n     * Method in change of expose a friendly interface of the Chico constructors.\n     *\n     * @memberof ch\n     * @param {Object} Klass Direct reference to the constructor from where the $-plugin will be created.\n     * @link http://docs.jquery.com/Plugins/Authoring | Authoring\n     */\n    ch.factory = function (Klass) {\n        /**\n         * Identification of the constructor, in lowercases.\n         * @type {String}\n         */\n        var name = Klass.prototype.name;\n\n        // Uses the function.name property (non-standard) on the newest browsers OR\n        // uppercases the first letter from the identification name of the constructor\n        ch[(name.charAt(0).toUpperCase() + name.substr(1))] = Klass;\n    };\n\n// Remove the no-js classname from html tag\ntiny.removeClass(document.documentElement, 'no-js');\n\n// Expose event names\nfor (var m in tiny) {\n    if (/^on\\w+/.test(m) && typeof tiny[m] === 'string') {\n        ch[m] = tiny[m];\n    }\n}\n\n\tch.version = '2.0.4';\n\twindow.ch = ch;\n}(this));\n(function (ch) {\n    'use strict';\n\n    /**\n     * Add a function to manage components content.\n     * @memberOf ch\n     * @mixin\n     * @returns {Function}\n     */\n    function Content() {\n\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this,\n            defaults = {\n                'method': this._options.method,\n                'params': this._options.params,\n                'cache': this._options.cache,\n                'waiting': this._options.waiting\n            };\n\n        /**\n         * Set async content into component's container and emits the current event.\n         * @private\n         */\n        function setAsyncContent(event) {\n\n            that._content.innerHTML = event.response;\n\n            /**\n             * Event emitted when the content change.\n             * @event ch.Content#contentchange\n             * @private\n             */\n            that.emit('_contentchange');\n\n            /**\n             * Event emitted if the content is loaded successfully.\n             * @event ch.Content#contentdone\n             * @ignore\n             */\n\n            /**\n             * Event emitted when the content is loading.\n             * @event ch.Content#contentwaiting\n             * @example\n             * // Subscribe to \"contentwaiting\" event.\n             * component.on('contentwaiting', function (event) {\n             *     // Some code here!\n             * });\n             */\n\n            /**\n             * Event emitted if the content isn't loaded successfully.\n             * @event ch.Content#contenterror\n             * @example\n             * // Subscribe to \"contenterror\" event.\n             * component.on('contenterror', function (event) {\n             *     // Some code here!\n             * });\n             */\n\n            that.emit('content' + event.status, event);\n        }\n\n        /**\n         * Set content into component's container and emits the contentdone event.\n         * @private\n         */\n        function setContent(content) {\n\n            if (content.nodeType !== undefined) {\n                that._content.innerHTML = '';\n                that._content.appendChild(content);\n            } else {\n                that._content.innerHTML = content;\n            }\n\n\n            that._options.cache = true;\n\n            /**\n             * Event emitted when the content change.\n             * @event ch.Content#contentchange\n             * @private\n             */\n            that.emit('_contentchange');\n\n            /**\n             * Event emitted if the content is loaded successfully.\n             * @event ch.Content#contentdone\n             * @example\n             * // Subscribe to \"contentdone\" event.\n             * component.on('contentdone', function (event) {\n             *     // Some code here!\n             * });\n             */\n            that.emit('contentdone');\n        }\n\n        /**\n         * Get async content with given URL.\n         * @private\n         */\n        function getAsyncContent(url, options) {\n            var requestCfg;\n            // Initial options to be merged with the user's options\n            options = tiny.extend({\n                'method': 'GET',\n                'params': '',\n                'waiting': '<div class=\"ch-loading-large\"></div>'\n            }, defaults, options);\n\n            // Set loading\n            setAsyncContent({\n                'status': 'waiting',\n                'response': options.waiting\n            });\n\n            requestCfg = {\n                method: options.method,\n                success: function(resp) {\n                    setAsyncContent({\n                        'status': 'done',\n                        'response': resp\n                    });\n                },\n                error: function(err) {\n                    setAsyncContent({\n                        'status': 'error',\n                        'response': '<p>Error on ajax call.</p>',\n                        'data': err.message || JSON.stringify(err)\n                    });\n                }\n            };\n\n            if (options.cache !== undefined) {\n                that._options.cache = options.cache;\n            }\n\n            if (options.cache === false && ['GET', 'HEAD'].indexOf(options.method.toUpperCase()) !== -1) {\n                requestCfg.cache = false;\n            }\n\n            if (options.params) {\n                if (['GET', 'HEAD'].indexOf(options.method.toUpperCase()) !== -1) {\n                    url += (url.indexOf('?') !== -1 || options.params[0] === '?' ? '' : '?') + options.params;\n                } else {\n                    requestCfg.data = options.params;\n                }\n            }\n\n            // Make a request\n            tiny.ajax(url, requestCfg);\n        }\n\n        /**\n         * Allows to manage the components content.\n         * @function\n         * @memberof! ch.Content#\n         * @param {(String | HTMLElement)} content The content that will be used by a component.\n         * @param {Object} [options] A custom options to be used with content loaded by ajax.\n         * @param {String} [options.method] The type of request (\"POST\" or \"GET\") to load content by ajax. Default: \"GET\".\n         * @param {String} [options.params] Params like query string to be sent to the server.\n         * @param {Boolean} [options.cache] Force to cache the request by the browser. Default: true. false value will work only with HEAD and GET requests\n         * @param {(String | HTMLElement)} [options.waiting] Temporary content to use while the ajax request is loading.\n         * @example\n         * // Update content with some string.\n         * component.content('Some new content here!');\n         * @example\n         * // Update content that will be loaded by ajax with custom options.\n         * component.content('http://chico-ui.com.ar/ajax', {\n         *     'cache': false,\n         *     'params': 'x-request=true'\n         * });\n         */\n        this.content = function (content, options) {\n            var parent;\n\n            // Returns the last updated content.\n            if (content === undefined) {\n                return that._content.innerHTML;\n            }\n\n            that._options.content = content;\n\n            if (that._options.cache === undefined) {\n                that._options.cache = true;\n            }\n\n            if (typeof content === 'string') {\n                // Case 1: AJAX call\n                if ((/^(((https|http|ftp|file):\\/\\/)|www\\.|\\.\\/|(\\.\\.\\/)+|(\\/{1,2})|(\\d{1,3}\\.){3}\\d{1,3})(((\\w+|-)(\\.?)(\\/?))+)(\\:\\d{1,5}){0,1}(((\\w+|-)(\\.?)(\\/?)(#?))+)((\\?)(\\w+=(\\w?)+(&?))+)?(\\w+#\\w+)?$/).test(content)) {\n                    getAsyncContent(content.replace(/#.+/, ''), options);\n                // Case 2: Plain text\n                } else {\n                    setContent(content);\n                }\n            // Case 3: HTML Element\n            } else if (content.nodeType !== undefined) {\n\n                tiny.removeClass(content, 'ch-hide');\n                parent = tiny.parent(content);\n\n                setContent(content);\n\n                if (!that._options.cache) {\n                    parent.removeChild(content);\n                }\n\n            }\n\n            return that;\n        };\n\n        // Loads content once. If the cache is disabled the content loads in each show.\n        this.once('_show', function () {\n\n            that.content(that._options.content);\n\n            that.on('show', function () {\n                if (!that._options.cache) {\n                    that.content(that._options.content);\n                }\n            });\n        });\n    }\n\n    ch.Content = Content;\n\n}(this.ch));\n\n(function (ch) {\n    'use strict';\n\n    var toggleEffects = {\n        'slideDown': 'slideUp',\n        'slideUp': 'slideDown',\n        'fadeIn': 'fadeOut',\n        'fadeOut': 'fadeIn'\n    };\n\n    /**\n     * The Collapsible class gives to components the ability to shown or hidden its container.\n     * @memberOf ch\n     * @mixin\n     * @returns {Function} Returns a private function.\n     */\n    function Collapsible() {\n\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this,\n            triggerClass = 'ch-' + this.name + '-trigger-on',\n            fx = this._options.fx,\n            useEffects = (tiny.support.transition && fx !== 'none' && fx !== false),\n            pt, pb;\n\n        function showCallback(e) {\n            if (useEffects) {\n                tiny.removeClass(that.container, 'ch-fx-' + fx);\n\n                // TODO: Use original height when it is defined\n                if (/^slide/.test(fx)) {\n                    that.container.style.height = '';\n                }\n            }\n            tiny.removeClass(that.container, 'ch-hide');\n            that.container.setAttribute('aria-hidden', 'false');\n\n            if (e) {\n                e.target.removeEventListener(e.type, showCallback);\n            }\n\n            /**\n             * Event emitted when the component is shown.\n             * @event ch.Collapsible#show\n             * @example\n             * // Subscribe to \"show\" event.\n             * collapsible.on('show', function () {\n             *     // Some code here!\n             * });\n             */\n            that.emit('show');\n        }\n\n        function hideCallback(e) {\n            if (useEffects) {\n                tiny.removeClass(that.container, 'ch-fx-' + toggleEffects[fx]);\n                that.container.style.display = '';\n                if (/^slide/.test(fx)) {\n                    that.container.style.height = '';\n                }\n            }\n            tiny.addClass(that.container, 'ch-hide');\n            that.container.setAttribute('aria-hidden', 'true');\n\n            if (e) {\n                e.target.removeEventListener(e.type, hideCallback);\n            }\n\n            /**\n             * Event emitted when the component is hidden.\n             * @event ch.Collapsible#hide\n             * @example\n             * // Subscribe to \"hide\" event.\n             * collapsible.on('hide', function () {\n             *     // Some code here!\n             * });\n             */\n            that.emit('hide');\n        }\n\n        this._shown = false;\n\n        /**\n         * Shows the component container.\n         * @function\n         * @private\n         */\n        this._show = function () {\n\n            that._shown = true;\n\n            if (that.trigger !== undefined) {\n                tiny.addClass(that.trigger, triggerClass);\n            }\n\n            /**\n             * Event emitted before the component is shown.\n             * @event ch.Collapsible#beforeshow\n             * @example\n             * // Subscribe to \"beforeshow\" event.\n             * collapsible.on('beforeshow', function () {\n             *     // Some code here!\n             * });\n             */\n            that.emit('beforeshow');\n\n            // Animate or not\n            if (useEffects) {\n                var _h = 0;\n\n                // Be sure to remove an opposite class that probably exist and\n                // transitionend listener for an opposite transition, aka $.fn.stop(true, true)\n                tiny.off(that.container, tiny.support.transition.end, hideCallback);\n                tiny.removeClass(that.container, 'ch-fx-' + toggleEffects[fx]);\n\n                tiny.on(that.container, tiny.support.transition.end, showCallback);\n\n                // Reveal an element before the transition\n                that.container.style.display = 'block';\n\n                // Set margin and padding to 0 to prevent content jumping at the transition end\n                if (/^slide/.test(fx)) {\n                    // Cache the original paddings for the first time\n                    if (!pt || !pb) {\n                        pt = tiny.css(that.container, 'padding-top');\n                        pb = tiny.css(that.container, 'padding-bottom');\n\n                        that.container.style.marginTop = that.container.style.marginBottom =\n                            that.container.style.paddingTop = that.container.style.paddingBottom ='0px';\n                    }\n\n                    that.container.style.opacity = '0.01';\n                    _h = that.container.offsetHeight;\n                    that.container.style.opacity = '';\n                    that.container.style.height = '0px';\n                }\n\n                // Transition cannot be applied at the same time when changing the display property\n                setTimeout(function() {\n                    if (/^slide/.test(fx)) {\n                        that.container.style.height = _h + 'px';\n                    }\n                    that.container.style.paddingTop = pt;\n                    that.container.style.paddingBottom = pb;\n                    tiny.addClass(that.container, 'ch-fx-' + fx);\n                }, 0);\n            } else {\n                showCallback();\n            }\n\n            that.emit('_show');\n\n            return that;\n        };\n\n        /**\n         * Hides the component container.\n         * @function\n         * @private\n         */\n        this._hide = function () {\n\n            that._shown = false;\n\n            if (that.trigger !== undefined) {\n                tiny.removeClass(that.trigger, triggerClass);\n            }\n\n            /**\n             * Event emitted before the component is hidden.\n             * @event ch.Collapsible#beforehide\n             * @example\n             * // Subscribe to \"beforehide\" event.\n             * collapsible.on('beforehide', function () {\n             *     // Some code here!\n             * });\n             */\n            that.emit('beforehide');\n\n            // Animate or not\n            if (useEffects) {\n                // Be sure to remove an opposite class that probably exist and\n                // transitionend listener for an opposite transition, aka $.fn.stop(true, true)\n                tiny.off(that.container, tiny.support.transition.end, showCallback);\n                tiny.removeClass(that.container, 'ch-fx-' + fx);\n\n                tiny.on(that.container, tiny.support.transition.end, hideCallback);\n                // Set margin and padding to 0 to prevent content jumping at the transition end\n                if (/^slide/.test(fx)) {\n                    that.container.style.height = tiny.css(that.container, 'height');\n                    // Uses nextTick to trigger the height change\n                    setTimeout(function() {\n                        that.container.style.height = '0px';\n                        that.container.style.paddingTop = that.container.style.paddingBottom ='0px';\n                        tiny.addClass(that.container, 'ch-fx-' + toggleEffects[fx]);\n                    }, 0);\n                } else {\n                    setTimeout(function() {\n                        tiny.addClass(that.container, 'ch-fx-' + toggleEffects[fx]);\n                    }, 0);\n                }\n            } else {\n                hideCallback();\n            }\n\n            return that;\n        };\n\n        /**\n         * Shows or hides the component.\n         * @function\n         * @private\n         */\n        this._toggle = function () {\n\n            if (that._shown) {\n                that.hide();\n            } else {\n                that.show();\n            }\n\n            return that;\n        };\n\n        this.on('disable', this.hide);\n    }\n\n    ch.Collapsible = Collapsible;\n\n}(this.ch));\n\n(function (window, ch) {\n    'use strict';\n\n    var resized = false,\n        scrolled = false,\n        requestAnimFrame = (function () {\n            return window.requestAnimationFrame ||\n                window.webkitRequestAnimationFrame ||\n                window.mozRequestAnimationFrame ||\n                function (callback) {\n                    window.setTimeout(callback, 1000 / 60);\n                };\n        }());\n\n    function update() {\n\n        var eve = (resized ? ch.onresize : ch.onscroll);\n\n        // Refresh viewport\n        this.refresh();\n\n        // Change status\n        resized = false;\n        scrolled = false;\n\n        /**\n         * Event emitted when the dimensions of the viewport changes.\n         * @event ch.viewport#resize\n         * @example\n         * ch.viewport.on('resize', function () {\n         *     // Some code here!\n         * });\n         */\n\n        /**\n         * Event emitted when the viewport is scrolled.\n         * @event ch.viewport#scroll\n         * @example\n         * ch.viewport.on('scroll', function () {\n         *     // Some code here!\n         * });\n         */\n\n        // Emits the current event\n        this.emit(eve);\n    }\n\n    /**\n     * The Viewport is a component to ease viewport management. You can get the dimensions of the viewport and beyond, which can be quite helpful to perform some checks with JavaScript.\n     * @memberof ch\n     * @constructor\n     * @augments tiny.EventEmitter\n     * @returns {viewport} Returns a new instance of Viewport.\n     */\n    function Viewport() {\n        this._init();\n    }\n\n    tiny.inherits(Viewport, tiny.EventEmitter);\n\n    /**\n     * Initialize a new instance of Viewport.\n     * @memberof! ch.Viewport.prototype\n     * @function\n     * @private\n     * @returns {viewport}\n     */\n    Viewport.prototype._init = function () {\n        // Set emitter to zero for unlimited listeners to avoid the warning in console\n        // @see https://nodejs.org/api/events.html#events_emitter_setmaxlisteners_n\n        this.setMaxListeners(0);\n\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this;\n\n        /**\n         * Element representing the visible area.\n         * @memberof! ch.viewport#element\n         * @type {Object}\n         */\n        this.el = window;\n\n        this.refresh();\n\n\n        function viewportResize() {\n            // No changing, exit\n            if (!resized) {\n                resized = true;\n\n                /**\n                 * requestAnimationFrame\n                 */\n                requestAnimFrame(function updateResize() {\n                    update.call(that);\n                });\n            }\n        }\n\n        function viewportScroll() {\n            // No changing, exit\n            if (!scrolled) {\n                scrolled = true;\n\n                /**\n                 * requestAnimationFrame\n                 */\n                requestAnimFrame(function updateScroll() {\n                    update.call(that);\n                });\n            }\n        }\n\n        tiny.on(window, ch.onscroll, viewportScroll, false);\n        tiny.on(window, ch.onresize, viewportResize, false);\n    };\n\n    /**\n     * Calculates/updates the client rects of viewport (in pixels).\n     * @memberof! ch.Viewport.prototype\n     * @function\n     * @returns {viewport}\n     * @example\n     * // Update the client rects of the viewport.\n     * ch.viewport.calculateClientRect();\n     */\n    Viewport.prototype.calculateClientRect = function () {\n        /**\n         * The current top client rect of the viewport (in pixels).\n         * @public\n         * @name ch.Viewport#top\n         * @type {Number}\n         * @example\n         * // Checks if the top client rect of the viewport is equal to 0.\n         * (ch.viewport.top === 0) ? 'Yes': 'No';\n         */\n\n         /**\n         * The current left client rect of the viewport (in pixels).\n         * @public\n         * @name ch.Viewport#left\n         * @type {Number}\n         * @example\n         * // Checks if the left client rect of the viewport is equal to 0.\n         * (ch.viewport.left === 0) ? 'Yes': 'No';\n         */\n        this.top = this.left = 0;\n\n        /**\n         * The current bottom client rect of the viewport (in pixels).\n         * @public\n         * @name ch.Viewport#bottom\n         * @type {Number}\n         * @example\n         * // Checks if the bottom client rect of the viewport is equal to a number.\n         * (ch.viewport.bottom === 900) ? 'Yes': 'No';\n         */\n        this.bottom = Math.max(this.el.innerHeight || 0, document.documentElement.clientHeight);\n\n        /**\n         * The current right client rect of the viewport (in pixels).\n         * @public\n         * @name ch.Viewport#right\n         * @type {Number}\n         * @example\n         * // Checks if the right client rect of the viewport is equal to a number.\n         * (ch.viewport.bottom === 1200) ? 'Yes': 'No';\n         */\n        this.right = Math.max(this.el.innerWidth || 0, document.documentElement.clientWidth);\n\n        return this;\n    };\n\n    /**\n     * Calculates/updates the dimensions (width and height) of the viewport (in pixels).\n     * @memberof! ch.Viewport.prototype\n     * @function\n     * @returns {viewport}\n     * @example\n     * // Update the dimensions values of the viewport.\n     * ch.viewport.calculateDimensions();\n     */\n    Viewport.prototype.calculateDimensions = function () {\n        this.calculateClientRect();\n\n        /**\n         * The current height of the viewport (in pixels).\n         * @public\n         * @name ch.Viewport#height\n         * @type Number\n         * @example\n         * // Checks if the height of the viewport is equal to a number.\n         * (ch.viewport.height === 700) ? 'Yes': 'No';\n         */\n        this.height = this.bottom;\n\n        /**\n         * The current width of the viewport (in pixels).\n         * @public\n         * @name ch.Viewport#width\n         * @type Number\n         * @example\n         * // Checks if the height of the viewport is equal to a number.\n         * (ch.viewport.width === 1200) ? 'Yes': 'No';\n         */\n        this.width = this.right;\n\n        return this;\n    };\n\n    /**\n     * Calculates/updates the viewport position.\n     * @memberof! ch.Viewport.prototype\n     * @function\n     * @returns {viewport}\n     * @example\n     * // Update the offest values of the viewport.\n     * ch.viewport.calculateOffset();\n     */\n    Viewport.prototype.calculateOffset = function () {\n\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var scroll = tiny.scroll();\n\n        /**\n         * The offset top of the viewport.\n         * @memberof! ch.Viewport#offsetTop\n         * @type {Number}\n         * @example\n         * // Checks if the offset top of the viewport is equal to a number.\n         * (ch.viewport.offsetTop === 200) ? 'Yes': 'No';\n         */\n        this.offsetTop = scroll.top;\n\n        /**\n         * The offset left of the viewport.\n         * @memberof! ch.Viewport#offsetLeft\n         * @type {Number}\n         * @example\n         * // Checks if the offset left of the viewport is equal to a number.\n         * (ch.viewport.offsetLeft === 200) ? 'Yes': 'No';\n         */\n        this.offsetLeft = scroll.left;\n\n        /**\n         * The offset right of the viewport.\n         * @memberof! ch.Viewport#offsetRight\n         * @type {Number}\n         * @example\n         * // Checks if the offset right of the viewport is equal to a number.\n         * (ch.viewport.offsetRight === 200) ? 'Yes': 'No';\n         */\n        this.offsetRight = this.left + this.width;\n\n        /**\n         * The offset bottom of the viewport.\n         * @memberof! ch.Viewport#offsetBottom\n         * @type {Number}\n         * @example\n         * // Checks if the offset bottom of the viewport is equal to a number.\n         * (ch.viewport.offsetBottom === 200) ? 'Yes': 'No';\n         */\n        this.offsetBottom = this.offsetTop + this.height;\n\n        return this;\n    };\n\n    /**\n     * Rertuns/updates the viewport orientation: landscape or portrait.\n     * @memberof! ch.Viewport.prototype\n     * @function\n     * @returns {viewport}\n     * @example\n     * // Update the dimensions values of the viewport.\n     * ch.viewport.calculateDimensions();\n     */\n    Viewport.prototype.calculateOrientation = function () {\n        /** The viewport orientation: landscape or portrait.\n         * @memberof! ch.Viewport#orientation\n         * @type {String}\n         * @example\n         * // Checks if the orientation is \"landscape\".\n         * (ch.viewport.orientation === 'landscape') ? 'Yes': 'No';\n         */\n        this.orientation = (Math.abs(this.el.orientation) === 90) ? 'landscape' : 'portrait';\n\n        return this;\n    };\n\n    /**\n     * Calculates if an element is completely located in the viewport.\n     * @memberof! ch.Viewport.prototype\n     * @function\n     * @returns {Boolean}\n     * @params {HTMLElement} el A given HMTLElement.\n     * @example\n     * // Checks if an element is in the viewport.\n     * ch.viewport.inViewport(HTMLElement) ? 'Yes': 'No';\n     */\n    Viewport.prototype.inViewport = function (el) {\n        var r = el.getBoundingClientRect();\n\n        return (r.top > 0) && (r.right < this.width) && (r.bottom < this.height) && (r.left > 0);\n    };\n\n    /**\n     * Calculates if an element is visible in the viewport.\n     * @memberof! ch.Viewport.prototype\n     * @function\n     * @returns {Boolean}\n     * @params {HTMLElement} el A given HTMLElement.\n     * @example\n     * // Checks if an element is visible.\n     * ch.viewport.isVisisble(HTMLElement) ? 'Yes': 'No';\n     */\n    Viewport.prototype.isVisible = function (el) {\n        var r = el.getBoundingClientRect();\n\n        return (r.height >= this.offsetTop);\n    };\n\n    /**\n     * Upadtes the viewport dimension, viewport positions and orietation.\n     * @memberof! ch.Viewport.prototype\n     * @function\n     * @returns {viewport}\n     * @example\n     * // Refreshs the viewport.\n     * ch.viewport.refresh();\n     */\n    Viewport.prototype.refresh = function () {\n        this.calculateDimensions();\n        this.calculateOffset();\n        this.calculateOrientation();\n\n        return this;\n    };\n\n    // Creates an instance of the Viewport into ch namespace.\n    ch.viewport = new Viewport();\n\n}(this, this.ch));\n\n(function (window, ch) {\n    'use strict';\n\n    /**\n     * The Positioner lets you position elements on the screen and changes its positions.\n     * @memberof ch\n     * @constructor\n     * @param {Object} options Configuration object.\n     * @param {String} options.target A HTMLElement that reference to the element to be positioned.\n     * @param {String} [options.reference] A HTMLElement that it's a reference to position and size of element that will be considered to carry out the position. If it isn't defined through configuration, it will be the ch.viewport.\n     * @param {String} [options.side] The side option where the target element will be positioned. You must use: \"left\", \"right\", \"top\", \"bottom\" or \"center\". Default: \"center\".\n     * @param {String} [options.align] The align options where the target element will be positioned. You must use: \"left\", \"right\", \"top\", \"bottom\" or \"center\". Default: \"center\".\n     * @param {Number} [options.offsetX] Distance to displace the target horizontally. Default: 0.\n     * @param {Number} [options.offsetY] Distance to displace the target vertically. Default: 0.\n     * @param {String} [options.position] Thethe type of positioning used. You must use: \"absolute\" or \"fixed\". Default: \"fixed\".\n     * @requires ch.Viewport\n     * @returns {positioner} Returns a new instance of Positioner.\n     * @example\n     * // Instance the Positioner It requires a little configuration.\n     * // The default behavior place an element center into the Viewport.\n     * var positioned = new ch.Positioner({\n     *     'target': document.querySelector('.target'),\n     *     'reference': document.querySelector('.reference'),\n     *     'side': 'top',\n     *     'align': 'left',\n     *     'offsetX': 20,\n     *     'offsetY': 10\n     * });\n     * @example\n     * // offsetX: The Positioner could be configurated with an offsetX.\n     * // This example show an element displaced horizontally by 10px of defined position.\n     * var positioned = new ch.Positioner({\n     *     'target': document.querySelector('.target'),\n     *     'reference': document.querySelector('.reference'),\n     *     'side': 'top',\n     *     'align': 'left',\n     *     'offsetX': 10\n     * });\n     * @example\n     * // offsetY: The Positioner could be configurated with an offsetY.\n     * // This example show an element displaced vertically by 10px of defined position.\n     * var positioned = new ch.Positioner({\n     *     'target': document.querySelector('.target'),\n     *     'reference': document.querySelector('.reference'),\n     *     'side': 'top',\n     *     'align': 'left',\n     *     'offsetY': 10\n     * });\n     * @example\n     * // positioned: The positioner could be configured to work with fixed or absolute position value.\n     * var positioned = new ch.Positioner({\n     *     'target': document.querySelector('.target'),\n     *     'reference': document.querySelector('.reference'),\n     *     'position': 'fixed'\n     * });\n     */\n    function Positioner(options) {\n\n        if (options === undefined) {\n            throw new window.Error('ch.Positioner: Expected options defined.');\n        }\n\n        // Creates its private options\n        this._options = tiny.clone(this._defaults);\n\n        // Init\n        this._configure(options);\n    }\n\n    /**\n     * The name of the component.\n     * @memberof! ch.Positioner.prototype\n     * @type {String}\n     */\n    Positioner.prototype.name = 'positioner';\n\n    /**\n     * Returns a reference to the Constructor function that created the instance's prototype.\n     * @memberof! ch.Positioner.prototype\n     * @function\n     * @private\n     */\n    Positioner.prototype._constructor = Positioner;\n\n    /**\n     * Configuration by default.\n     * @type {Object}\n     * @private\n     */\n    Positioner.prototype._defaults = {\n        'offsetX': 0,\n        'offsetY': 0,\n        'side': 'center',\n        'align': 'center',\n        'reference': ch.viewport,\n        'position': 'fixed'\n    };\n\n    /**\n     * Configures the positioner instance with a given options.\n     * @memberof! ch.Positioner.prototype\n     * @function\n     * @private\n     * @returns {positioner}\n     * @params {Object} options A configuration object.\n     */\n    Positioner.prototype._configure = function (options) {\n\n        // Merge user options with its options\n        tiny.extend(this._options, options);\n\n        this._options.offsetX = parseInt(this._options.offsetX, 10);\n        this._options.offsetY = parseInt(this._options.offsetY, 10);\n\n        /**\n         * Reference to the element to be positioned.\n         * @type {HTMLElement}\n         */\n        this.target = options.target || this.target;\n\n\n        /**\n         * It's a reference to position and size of element that will be considered to carry out the position.\n         * @type {HTMLElement}\n         */\n        this.reference = options.reference || this.reference;\n        this._reference = this._options.reference;\n\n        this.target.style.position = this._options.position;\n\n        return this;\n    };\n\n    /**\n     * Updates the current position with a given options\n     * @memberof! ch.Positioner.prototype\n     * @function\n     * @returns {positioner}\n     * @params {Object} options A configuration object.\n     * @example\n     * // Updates the current position.\n     * positioned.refresh();\n     * @example\n     * // Updates the current position with new offsetX and offsetY.\n     * positioned.refresh({\n     *     'offestX': 100,\n     *     'offestY': 10\n     * });\n     */\n    Positioner.prototype.refresh = function (options) {\n\n        if (options !== undefined) {\n            this._configure(options);\n        }\n\n        if (this._reference !== ch.viewport) {\n            this._calculateReference();\n        }\n\n        this._calculateTarget();\n\n        // the object that stores the top, left reference to set to the target\n        this._setPoint();\n\n        return this;\n    };\n\n    /**\n     * Calculates the reference (element or ch.viewport) of the position.\n     * @memberof! ch.Positioner.prototype\n     * @function\n     * @private\n     * @returns {positioner}\n     */\n    Positioner.prototype._calculateReference = function () {\n\n        var reference = this.reference,\n            offset;\n\n        reference.setAttribute('data-side', this._options.side);\n        reference.setAttribute('data-align', this._options.align);\n\n        this._reference = this._getOuterDimensions(reference);\n\n        if (reference.offsetParent === this.target.offsetParent) {\n            this._reference.left = reference.offsetLeft;\n            this._reference.top = reference.offsetTop;\n\n        } else {\n            offset = tiny.offset(reference);\n            this._reference.left = offset.left;\n            this._reference.top = offset.top;\n        }\n\n        return this;\n    };\n\n    /**\n     * Calculates the positioned element.\n     * @memberof! ch.Positioner.prototype\n     * @function\n     * @private\n     * @returns {positioner}\n     */\n    Positioner.prototype._calculateTarget = function () {\n\n        var target = this.target;\n        target.setAttribute('data-side', this._options.side);\n        target.setAttribute('data-align', this._options.align);\n\n        this._target = this._getOuterDimensions(target);\n\n        return this;\n    };\n\n    /**\n     * Get the current outer dimensions of an element.\n     *\n     * @memberof ch.Positioner.prototype\n     * @param {HTMLElement} el A given HTMLElement.\n     * @returns {Object}\n     */\n    Positioner.prototype._getOuterDimensions = function (el) {\n        var obj = el.getBoundingClientRect();\n\n        return {\n            'width': (obj.right - obj.left),\n            'height': (obj.bottom - obj.top)\n        };\n    };\n\n    /**\n     * Calculates the points.\n     * @memberof! ch.Positioner.prototype\n     * @function\n     * @private\n     * @returns {positioner}\n     */\n    Positioner.prototype._setPoint = function () {\n        var side = this._options.side,\n            orientation = (side === 'top' || side === 'bottom') ? 'horizontal' : ((side === 'right' || side === 'left') ? 'vertical' : 'center'),\n            coors,\n            orientationMap;\n\n        // take the side and calculate the alignment and make the CSSpoint\n        if (orientation === 'center') {\n            // calculates the coordinates related to the center side to locate the target\n            coors = {\n                'top': (this._reference.top + (this._reference.height / 2 - this._target.height / 2)),\n                'left': (this._reference.left + (this._reference.width / 2 - this._target.width / 2))\n            };\n\n        } else if (orientation === 'horizontal') {\n            // calculates the coordinates related to the top or bottom side to locate the target\n            orientationMap = {\n                'left': this._reference.left,\n                'center': (this._reference.left + (this._reference.width / 2 - this._target.width / 2)),\n                'right': (this._reference.left + this._reference.width - this._target.width),\n                'top': this._reference.top - this._target.height,\n                'bottom': (this._reference.top + this._reference.height)\n            };\n\n            coors = {\n                'top': orientationMap[side],\n                'left': orientationMap[this._options.align]\n            };\n\n        } else {\n            // calculates the coordinates related to the right or left side to locate the target\n            orientationMap = {\n                'top': this._reference.top,\n                'center': (this._reference.top + (this._reference.height / 2 - this._target.height / 2)),\n                'bottom': (this._reference.top + this._reference.height - this._target.height),\n                'right': (this._reference.left + this._reference.width),\n                'left': (this._reference.left - this._target.width)\n            };\n\n            coors = {\n                'top': orientationMap[this._options.align],\n                'left': orientationMap[side]\n            };\n        }\n\n        coors.top += this._options.offsetY;\n        coors.left += this._options.offsetX;\n\n        this.target.style.top = coors.top + 'px';\n        this.target.style.left = coors.left + 'px';\n\n        return this;\n    };\n\n    ch.Positioner = Positioner;\n\n}(this, this.ch));\n\n(function (window, ch) {\n    'use strict';\n\n    var document = window.document,\n        codeMap = {\n            '8': ch.onkeybackspace,\n            '9': ch.onkeytab,\n            '13': ch.onkeyenter,\n            '27': ch.onkeyesc,\n            '37': ch.onkeyleftarrow,\n            '38': ch.onkeyuparrow,\n            '39': ch.onkeyrightarrow,\n            '40': ch.onkeydownarrow\n        },\n\n        /**\n         * Shortcuts\n         * @memberof ch\n         * @namespace\n         */\n        shortcuts = {\n\n            '_active': null,\n\n            '_queue': [],\n\n            '_collection': {},\n\n            /**\n             * Add a callback to a shortcut with given name.\n             * @param {(ch.onkeybackspace | ch.onkeytab | ch.onkeyenter | ch.onkeyesc | ch.onkeyleftarrow | ch.onkeyuparrow | ch.onkeyrightarrow | ch.onkeydownarrow)} shortcut Shortcut to subscribe.\n             * @param {String} name A name to add in the collection.\n             * @param {Function} callback A given function.\n             * @returns {Object} Retuns the ch.shortcuts.\n             * @example\n             * // Add a callback to ESC key with \"component\" name.\n             * ch.shortcuts.add(ch.onkeyesc, 'component', component.hide);\n             */\n            'add': function (shortcut, name, callback) {\n\n                if (this._collection[name] === undefined) {\n                    this._collection[name] = {};\n                }\n\n                if (this._collection[name][shortcut] === undefined) {\n                    this._collection[name][shortcut] = [];\n                }\n\n                this._collection[name][shortcut].push(callback);\n\n                return this;\n\n            },\n\n            /**\n             * Removes a callback from a shortcut with given name.\n             * @param {String} name A name to remove from the collection.\n             * @param {(ch.onkeybackspace | ch.onkeytab | ch.onkeyenter | ch.onkeyesc | ch.onkeyleftarrow | ch.onkeyuparrow | ch.onkeyrightarrow | ch.onkeydownarrow)} [shortcut] Shortcut to unsubscribe.\n             * @param {Function} callback A given function.\n             * @returns {Object} Retuns the ch.shortcuts.\n             * @example\n             * // Remove a callback from ESC key with \"component\" name.\n             * ch.shortcuts.remove(ch.onkeyesc, 'component', component.hide);\n             */\n            'remove': function (name, shortcut, callback) {\n                var evt,\n                    evtCollection,\n                    evtCollectionLenght;\n\n                if (name === undefined) {\n                    throw new Error('Shortcuts - \"remove(name, shortcut, callback)\": \"name\" parameter must be defined.');\n                }\n\n                if (shortcut === undefined) {\n                    delete this._collection[name];\n                    return this;\n                }\n\n                if (callback === undefined) {\n                    delete this._collection[name][shortcut];\n                    return this;\n                }\n\n                evtCollection = this._collection[name][shortcut];\n\n                evtCollectionLenght = evtCollection.length;\n\n                for (evt = 0; evt < evtCollectionLenght; evt += 1) {\n\n                    if (evtCollection[evt] === callback) {\n                        evtCollection.splice(evt, 1);\n                    }\n                }\n\n                return this;\n\n            },\n\n            /**\n             * Turn on shortcuts associated to a given name.\n             * @param {String} name A given name from the collection.\n             * @returns {Object} Retuns the ch.shortcuts.\n             * @example\n             * // Turn on shortcuts associated to \"component\" name.\n             * ch.shortcuts.on('component');\n             */\n            'on': function (name) {\n                var queueLength = this._queue.length,\n                    item = queueLength - 1;\n\n                // check if the instance exist and move the order, adds it at the las position and removes the current\n                for (item; item >= 0; item -= 1) {\n                    if (this._queue[item] === name) {\n                        this._queue.splice(item, 1);\n                    }\n                }\n\n                this._queue.push(name);\n                this._active = name;\n\n                return this;\n            },\n\n            /**\n             * Turn off shortcuts associated to a given name.\n             * @param {String} name A given name from the collection.\n             * @returns {Object} Retuns the ch.shortcuts.\n             * @example\n             * // Turn off shortcuts associated to \"component\" name.\n             * ch.shortcuts.off('component');\n             */\n            'off': function (name) {\n                var queueLength = this._queue.length,\n                    item = queueLength - 1;\n\n                for (item; item >= 0; item -= 1) {\n                    if (this._queue[item] === name) {\n                        // removes the instance that I'm setting off\n                        this._queue.splice(item, 1);\n\n                        // the queue is full\n                        if (this._queue.length > 0) {\n                            this._active = this._queue[this._queue.length - 1];\n                        } else {\n                        // the queue no has elements\n                            this._active = null;\n                        }\n                    }\n                }\n\n                return this;\n            }\n        },\n        shortcutsEmitter = function (event) {\n            var keyCode = event.keyCode.toString(),\n                shortcut = codeMap[keyCode],\n                callbacks,\n                callbacksLenght,\n                i = 0;\n\n            if (shortcut !== undefined && shortcuts._active !== null) {\n                callbacks = shortcuts._collection[shortcuts._active][shortcut];\n\n                event.shortcut = shortcut;\n\n\n                if (callbacks !== undefined) {\n\n                    callbacksLenght = callbacks.length;\n\n                    for (i = 0; i < callbacksLenght; i += 1) {\n                        callbacks[i](event);\n                    }\n\n                }\n\n            }\n        };\n\n    tiny.on(document, 'keydown', shortcutsEmitter);\n\n    ch.shortcuts = shortcuts;\n\n}(this, this.ch));\n\n(function (window, ch) {\n    'use strict';\n\n    var uid = 0;\n\n    /**\n     * Base class for all components.\n     *\n     * @memberof ch\n     * @constructor\n     * @augments tiny.EventEmitter\n     * @param {HTMLElement} [el] It must be a HTMLElement.\n     * @param {Object} [options] Configuration options.\n     * @returns {component} Returns a new instance of Component.\n     * @example\n     * // Create a new Component.\n     * var component = new ch.Component();\n     * var component = new ch.Component('.my-component', {'option': 'value'});\n     * var component = new ch.Component('.my-component');\n     * var component = new ch.Component({'option': 'value'});\n     */\n    function Component(el, options) {\n\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this;\n\n        this._init(el, options);\n\n        if (this.initialize !== undefined) {\n            /**\n             * If you define an initialize method, it will be executed when a new Expandable is created.\n             * @memberof! ch.Expandable.prototype\n             * @function\n             */\n            this.initialize();\n        }\n\n        /**\n         * Event emitted when the component is ready to use.\n         * @event ch.Component#ready\n         * @example\n         * // Subscribe to \"ready\" event.\n         * component.on('ready', function () {\n         *     // Some code here!\n         * });\n         */\n        window.setTimeout(function () { that.emit('ready'); }, 50);\n    }\n\n    tiny.inherits(Component, tiny.EventEmitter);\n\n    /**\n     * The name of a component.\n     * @memberof! ch.Component.prototype\n     * @type {String}\n     */\n    Component.prototype.name = 'component';\n\n    /**\n     * Returns a reference to the constructor function.\n     * @memberof! ch.Component.prototype\n     * @function\n     */\n    Component.prototype.constructor = Component;\n\n    /**\n     * Initialize a new instance of Component and merge custom options with defaults options.\n     * @memberof! ch.Component.prototype\n     * @function\n     * @private\n     * @returns {component}\n     */\n    Component.prototype._init = function (el, options) {\n        // Set emitter to zero for unlimited listeners to avoid the warning in console\n        // @see https://nodejs.org/api/events.html#events_emitter_setmaxlisteners_n\n        this.setMaxListeners(0);\n\n        // Clones defaults or creates a defaults object\n        var defaults = (this._defaults) ? tiny.clone(this._defaults) : {};\n\n        if (el === null) {\n            throw new Error('The \"el\" parameter is not present in the DOM');\n        }\n\n        /**\n         * A unique id to identify the instance of a component.\n         * @type {Number}\n         */\n        this.uid = (uid += 1);\n\n        // el is HTMLElement\n        // IE8 and earlier don't define the node type constants, 1 === document.ELEMENT_NODE\n        if (el !== undefined && el.nodeType !== undefined && el.nodeType === 1) {\n\n            this._el = el;\n\n            // set the uid to the element to help search for the instance in the collection instances\n            this._el.setAttribute('data-uid', this.uid);\n\n            // we extend defaults with options parameter\n            this._options = tiny.extend(defaults, options);\n\n        // el is an object configuration\n        } else if (el === undefined || el.nodeType === undefined && typeof el === 'object') {\n\n            // creates a empty element becouse the user not set a DOM elment to use, but we requires one\n            // this._el = document.createElement('div');\n\n            // we extend defaults with the object that is in el parameter object\n            this._options = tiny.extend(defaults, el);\n        }\n\n        /**\n         * Indicates if a component is enabled.\n         * @type {Boolean}\n         * @private\n         */\n        this._enabled = true;\n\n        /**\n         * Stores all instances created\n         * @type {Object}\n         * @public\n         */\n        ch.instances = ch.instances || {};\n        ch.instances[this.uid] = this;\n    };\n\n\n    /**\n     * Adds functionality or abilities from other classes.\n     * @memberof! ch.Component.prototype\n     * @function\n     * @returns {component}\n     * @params {...String} var_args The name of the abilities to will be used.\n     * @example\n     * // You can require some abilitiest to use in your component.\n     * // For example you should require the collpasible abitliy.\n     * var component = new Component(element, options);\n     * component.require('Collapsible');\n     */\n    Component.prototype.require = function () {\n\n        var arg,\n            i = 0,\n            len = arguments.length;\n\n        for (i; i < len; i += 1) {\n            arg = arguments[i];\n\n            if (this[arg.toLowerCase()] === undefined) {\n                ch[arg].call(this);\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Enables an instance of Component.\n     * @memberof! ch.Component.prototype\n     * @function\n     * @returns {component}\n     * @example\n     * // Enabling an instance of Component.\n     * component.enable();\n     */\n    Component.prototype.enable = function () {\n        this._enabled = true;\n\n        /**\n         * Emits when a component is enabled.\n         * @event ch.Component#enable\n         * @example\n         * // Subscribe to \"enable\" event.\n         * component.on('enable', function () {\n         *     // Some code here!\n         * });\n         */\n        this.emit('enable');\n\n        return this;\n    };\n\n    /**\n     * Disables an instance of Component.\n     * @memberof! ch.Component.prototype\n     * @function\n     * @returns {component}\n     * @example\n     * // Disabling an instance of Component.\n     * component.disable();\n     */\n    Component.prototype.disable = function () {\n        this._enabled = false;\n\n        /**\n         * Emits when a component is disable.\n         * @event ch.Component#disable\n         * @example\n         * // Subscribe to \"disable\" event.\n         * component.on('disable', function () {\n         *     // Some code here!\n         * });\n         */\n        this.emit('disable');\n\n        return this;\n    };\n\n    /**\n     * Destroys an instance of Component and remove its data from asociated element.\n     * @memberof! ch.Component.prototype\n     * @function\n     * @example\n     * // Destroy a component\n     * component.destroy();\n     * // Empty the component reference\n     * component = undefined;\n     */\n    Component.prototype.destroy = function () {\n\n        this.disable();\n\n        if (this._el !== undefined) {\n            delete ch.instances[this._el.getAttribute('data-uid')];\n            this._el.removeAttribute('data-uid');\n        }\n\n        /**\n         * Emits when a component is destroyed.\n         * @event ch.Component#destroy\n         * @exampleDescription\n         * @example\n         * // Subscribe to \"destroy\" event.\n         * component.on('destroy', function () {\n         *     // Some code here!\n         * });\n         */\n        this.emit('destroy');\n\n        return;\n    };\n\n    ch.Component = Component;\n\n}(this, this.ch));\n\n(function (window, ch) {\n    'use strict';\n\n    /**\n     * Form is a controller of DOM's HTMLFormElement.\n     * @memberof ch\n     * @constructor\n     * @augments ch.Component\n     * @requires ch.Validations\n     * @param {HTMLElement} el A HTMLElement to create an instance of ch.Form.\n     * @param {Object} [options] Options to customize an instance.\n     * @param {Object} [options.messages] A collections of validations messages.\n     * @param {String} [options.messages.required] A validation message.\n     * @param {String} [options.messages.string] A validation message.\n     * @param {String} [options.messages.url] A validation message.\n     * @param {String} [options.messages.email] A validation message.\n     * @param {String} [options.messages.maxLength] A validation message.\n     * @param {String} [options.messages.minLength] A validation message.\n     * @param {String} [options.messages.custom] A validation message.\n     * @param {String} [options.messages.number] A validation message.\n     * @param {String} [options.messages.min] A validation message.\n     * @param {String} [options.messages.max] A validation message.\n     * @returns {form} Returns a new instance of Form.\n     * @example\n     * // Create a new Form.\n     * var form = new ch.Form(el, [options]);\n     * @example\n     * // Create a new Form with custom messages.\n     * var form = new ch.Form({\n     *     'messages': {\n     *          'required': 'Some message!',\n     *          'email': 'Another message!'\n     *     }\n     * });\n     */\n    function Form(el, options) {\n\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this;\n\n        that._init(el, options);\n\n        if (this.initialize !== undefined) {\n            /**\n             * If you define an initialize method, it will be executed when a new Form is created.\n             * @memberof! ch.Form.prototype\n             * @function\n             */\n            this.initialize();\n        }\n\n        /**\n         * It emits an event when the form is ready to use.\n         * @event ch.Form#ready\n         * @example\n         * // Subscribe to \"ready\" event.\n         * form.on('ready', function () {\n         *     // Some code here!\n         * });\n         */\n        window.setTimeout(function () { that.emit('ready'); }, 50);\n    }\n\n    // Inheritance\n    tiny.inherits(Form, ch.Component);\n\n    var parent = Form.super_.prototype;\n\n    /**\n     * The name of the component.\n     * @memberof! ch.Form.prototype\n     * @type {String}\n     */\n    Form.prototype.name = 'form';\n\n    /**\n     * Returns a reference to the constructor function.\n     * @memberof! ch.Form.prototype\n     * @function\n     */\n    Form.prototype.constructor = Form;\n\n    /**\n     * Initialize a new instance of Form and merge custom options with defaults options.\n     * @memberof! ch.Form.prototype\n     * @function\n     * @private\n     * @returns {form}\n     */\n    Form.prototype._init = function (el, options) {\n        // Call to its parent init method\n        parent._init.call(this, el, options);\n\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this;\n\n        /**\n         * A collection of active errors.\n         * @type {Array}\n         */\n        this.errors = [];\n\n        /**\n         * Collection of defined messages.\n         * @type {Object}\n         * @private\n         */\n        this._messages = this._options.messages || {};\n\n        /**\n         * A collection of validations instances.\n         * @type {Array}\n         */\n        this.validations = [];\n\n        /**\n         * The form container.\n         * @type {HTMLElement}\n         */\n        this.container = this._el;\n            // Add classname\n        tiny.addClass(this.container, 'ch-form');\n            // Disable HTML5 browser-native validations\n        this.container.setAttribute('novalidate', 'novalidate');\n            // Bind the submit\n        tiny.on(this.container, 'submit', function (event) {\n            // Runs validations\n            that.validate(event);\n        });\n\n        // Bind the reset\n        if (this.container.querySelector('input[type=\"reset\"]')) {\n            tiny.on(this.container.querySelector('input[type=\"reset\"]'), ch.onpointertap, function (event) {\n                event.preventDefault();\n                that.reset();\n            });\n        }\n        // Stub for EventEmitter to prevent the errors throwing\n        this.on('error', function(){});\n\n        // Clean validations\n        this.on('disable', this.clear);\n\n        return this;\n    };\n\n    /**\n     * Executes all validations.\n     * @memberof! ch.Form.prototype\n     * @function\n     * @returns {form}\n     */\n    Form.prototype.validate = function (event) {\n\n        if (!this._enabled) {\n            return this;\n        }\n\n        /**\n         * It emits an event when the form will be validated.\n         * @event ch.Form#beforevalidate\n         * @example\n         * // Subscribe to \"beforevalidate\" event.\n         * component.on('beforevalidate', function () {\n         *     // Some code here!\n         * });\n         */\n        this.emit('beforevalidate');\n\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this,\n            i = 0,\n            j = that.validations.length,\n            validation,\n            firstError,\n            firstErrorVisible,\n            triggerError;\n\n        this.errors.length = 0;\n\n        // Run validations\n        for (i; i < j; i += 1) {\n            validation = that.validations[i];\n\n            // Validate\n            validation.validate();\n\n            // Store validations with errors\n            if (validation.isShown()) {\n                that.errors.push(validation);\n            }\n        }\n\n        // Is there's an error\n        if (that.errors.length > 0) {\n            firstError = that.errors[0];\n            firstErrorVisible = firstError.trigger;\n\n            // Find the closest visible parent if current element is hidden\n            while (tiny.css(firstErrorVisible, 'display') === 'none' && firstErrorVisible !== document.documentElement) {\n                firstErrorVisible = firstErrorVisible.parentElement;\n            }\n\n            firstErrorVisible.scrollIntoView();\n\n            // Issue UI-332: On validation must focus the first field with errors.\n            // Doc: http://wiki.ml.com/display/ux/Mensajes+de+error\n            triggerError = firstError.trigger;\n\n            if (triggerError.tagName === 'DIV') {\n                firstError.trigger.querySelector('input:first-child').focus();\n            }\n\n            if (triggerError.type !== 'hidden' || triggerError.tagName === 'SELECT') {\n                triggerError.focus();\n            }\n\n            if (event && event.preventDefault) {\n                event.preventDefault();\n            }\n\n            /**\n             * It emits an event when a form has got errors.\n             * @event ch.Form#error\n             * @example\n             * // Subscribe to \"error\" event.\n             * form.on('error', function (errors) {\n             *     console.log(errors.length);\n             * });\n             */\n            this.emit('error', this.errors);\n\n        } else {\n\n            /**\n             * It emits an event when a form hasn't got errors.\n             * @event ch.Form#success\n             * @example\n             * // Subscribe to \"success\" event.\n             * form.on(\"submit\",function () {\n             *     // Some code here!\n             * });\n             * @example\n             * // Subscribe to \"success\" event and prevent the submit event.\n             * form.on(\"submit\",function (event) {\n             *     event.preventDefault();\n             *     // Some code here!\n             * });\n             */\n            this.emit('success', event);\n        }\n\n        return this;\n    };\n\n    /**\n     * Checks if the form has got errors but it doesn't show bubbles.\n     * @memberof! ch.Form.prototype\n     * @function\n     * @returns {Boolean}\n     * @example\n     * // Checks if a form has errors and do something.\n     * if (form.hasError()) {\n     *     // Some code here!\n     * };\n     */\n    Form.prototype.hasError = function () {\n\n        if (!this._enabled) {\n            return false;\n        }\n\n        this.errors.length = 0;\n\n        var i = 0,\n            j = this.validations.length,\n            validation;\n\n        // Run hasError\n        for (i; i < j; i += 1) {\n\n            validation = this.validations[i];\n\n            if (validation.hasError()) {\n                this.errors.push(validation);\n            }\n\n        }\n\n        return this.errors.length > 0;\n    };\n\n    /**\n     * Clear all active errors.\n     * @memberof! ch.Form.prototype\n     * @function\n     * @returns {form}\n     * @example\n     * // Clear active errors.\n     * form.clear();\n     */\n    Form.prototype.clear = function () {\n        var i = 0,\n            j = this.validations.length;\n\n        for (i; i < j; i += 1) {\n            this.validations[i].clear();\n        }\n\n        /**\n         * It emits an event when the form is cleaned.\n         * @event ch.Form#clear\n         * @example\n         * // Subscribe to \"clear\" event.\n         * form.on('clear', function () {\n         *     // Some code here!\n         * });\n         */\n        this.emit('clear');\n\n        return this;\n    };\n\n    /**\n     * Clear all active errors and executes the reset() native mehtod.\n     * @memberof! ch.Form.prototype\n     * @function\n     * @returns {form}\n     * @example\n     * // Resets form fields and clears active errors.\n     * form.reset();\n     */\n    Form.prototype.reset = function () {\n\n        // Clears all shown validations\n        this.clear();\n\n        // Executes the native reset() method\n        this._el.reset();\n\n        /**\n         * It emits an event when a form resets its fields.\n         * @event ch.Form#reset\n         * @example\n         * // Subscribe to \"reset\" event.\n         * form.on('reset', function () {\n         *     // Some code here!\n         * });\n         */\n        this.emit('reset');\n\n        return this;\n    };\n\n    /**\n     * Destroys a Form instance.\n     * @memberof! ch.Form.prototype\n     * @function\n     * @example\n     * // Destroy a form\n     * form.destroy();\n     * // Empty the form reference\n     * form = undefined;\n     */\n    Form.prototype.destroy = function () {\n\n        // this.$container.off('.form')\n        this.container.removeAttribute('novalidate');\n\n        this.validations.forEach(function (e) {\n            e.destroy();\n        });\n\n        parent.destroy.call(this);\n\n        return;\n    };\n\n    // Factorize\n    ch.factory(Form);\n\n}(this, this.ch));\n\n(function (ch) {\n    'use strict';\n\n    // Private Members\n    var conditions = {\n        'string': {\n            'fn': function (value) {\n                // the following regular expression has the utf code for the lating characters\n                // the ranges are A,EI,O,U,a,ei,o,u,ç,Ç please for reference see http://www.fileformat.info/info/charset/UTF-8/list.htm\n                return (/^([a-zA-Z\\u00C0-\\u00C4\\u00C8-\\u00CF\\u00D2-\\u00D6\\u00D9-\\u00DC\\u00E0-\\u00E4\\u00E8-\\u00EF\\u00F2-\\u00F6\\u00E9-\\u00FC\\u00C7\\u00E7\\s]*)$/i).test(value);\n            },\n            'message': 'Use only letters.'\n        },\n        'email': {\n            'fn': function (value) {\n                return (/^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/i).test(value);\n            },\n            'message': 'Use a valid e-mail such as name@example.com.'\n        },\n        'url': {\n            'fn': function (value) {\n                return (/^((https?|ftp|file):\\/\\/|((www|ftp)\\.)|(\\/|.*\\/)*)[a-z0-9-]+((\\.|\\/)[a-z0-9-]+)+([/?].*)?$/i).test(value);\n            },\n            'message': 'It must be a valid URL.'\n        },\n        'minLength': {\n            'fn': function (a, b) { return a.length >= b; },\n            'message': 'Enter at least {#num#} characters.'\n        },\n        'maxLength': {\n            'fn': function (a, b) { return a.length <= b; },\n            'message': 'The maximum amount of characters is {#num#}.'\n        },\n        'number': {\n            'fn': function (value) {\n                return (/^(-?[0-9]+)$/i).test(value);\n            },\n            'message': 'Use only numbers.'\n        },\n        'max': {\n            'fn': function (a, b) { return a <= b; },\n            'message': 'The amount must be smaller than {#num#}.'\n        },\n        'min': {\n            'fn': function (a, b) { return a >= b; },\n            'message': 'The amount must be higher than {#num#}.'\n        },\n        'required': {\n            'fn': function (value) {\n\n                var tag = tiny.hasClass(this.trigger, 'ch-form-options') ? 'OPTIONS' : this._el.tagName,\n                    validated;\n\n                switch (tag) {\n                case 'OPTIONS':\n                    validated = this.trigger.querySelectorAll('input:checked').length !== 0;\n                    break;\n\n                case 'SELECT':\n                    validated = (value !== '-1' && value !== '');\n                    break;\n\n                // INPUTS and TEXTAREAS\n                default:\n                    validated = value.replace(/^\\s+|\\s+$/g, '').length !== 0;\n                    break;\n                }\n\n                return validated;\n            },\n            'message': 'Fill in this information.'\n        },\n        'custom': {\n            // I don't have pre-conditions, comes within conf.fn argument\n            'message': 'Error'\n        }\n    };\n\n    /**\n     * Condition utility.\n     * @memberof ch\n     * @constructor\n     * @requires ch.Validation\n     * @param {Array} [condition] A conditions to validate.\n     * @param {String} [condition.name] The name of the condition.\n     * @param {String} [condition.message] The given error message to the condition.\n     * @param {String} [condition.fn] The method to validate a given condition.\n     * @returns {condition} Returns a new instance of Condition.\n     * @example\n     * // Create a new condition object with patt.\n     * var condition = ch.Condition({\n     *     'name': 'string',\n     *     'patt': /^([a-zA-Z\\u00C0-\\u00C4\\u00C8-\\u00CF\\u00D2-\\u00D6\\u00D9-\\u00DC\\u00E0-\\u00E4\\u00E8-\\u00EF\\u00F2-\\u00F6\\u00E9-\\u00FC\\u00C7\\u00E7\\s]*)$/,\n     *     'message': 'Some message here!'\n     * });\n     * @example\n     * //Create a new condition object with expr.\n     * var condition = ch.Condition({\n     *     'name': 'maxLength',\n     *     'patt': function(a,b) { return a.length <= b },\n     *     'message': 'Some message here!',\n     *     'value': 4\n     * });\n     * @example\n     * // Create a new condition object with func.\n     * var condition = ch.Condition({\n     *     'name': 'custom',\n     *     'patt': function (value) {\n     *         if (value === 'ChicoUI') {\n     *\n     *             // Some code here!\n     *\n     *             return true;\n     *         };\n     *\n     *         return false;\n     *     },\n     *     'message': 'Your message here!'\n     * });\n     */\n    function Condition(condition) {\n\n        tiny.extend(this, conditions[condition.name], condition);\n\n        // replaces the condition default message in the following conditions max, min, minLenght, maxLenght\n        if (this.name === 'min' || this.name === 'max' || this.name === 'minLength' || this.name === 'maxLength') {\n            this.message = this.message.replace('{#num#}', this.num);\n        }\n\n        this._enabled = true;\n\n        return this;\n    }\n\n    /**\n     * The name of the component.\n     * @memberof! ch.Condition.prototype\n     * @type {String}\n     */\n    Condition.prototype.name = 'condition';\n\n    /**\n     * Returns a reference to the constructor function.\n     * @memberof! ch.Condition.prototype\n     * @function\n     */\n    Condition.prototype.constructor = Condition;\n\n    /**\n     * Enables an instance of condition.\n     * @memberof! ch.Condition.prototype\n     * @function\n     * @returns {condition}\n     * @example\n     * // Enabling an instance of Condition.\n     * condition.enable();\n     * @example\n     * // Enabling a condition.\n     * condition.enable();\n     */\n    Condition.prototype.enable = function () {\n        this._enabled = true;\n\n        return this;\n    };\n\n    /**\n     * Disables an instance of a condition.\n     * @memberof! ch.Condition.prototype\n     * @function\n     * @returns {condition}\n     * @example\n     * // Disabling an instance of Condition.\n     * condition.disable();\n     * @example\n     * // Disabling a condition.\n     * condition.disable();\n     */\n    Condition.prototype.disable = function () {\n        this._enabled = false;\n\n        return this;\n    };\n\n    /**\n     * Enables an instance of condition.\n     * @memberof! ch.Condition.prototype\n     * @function\n     * @param {(String | Number)} value A given value.\n     * @param {condition} validation A given validation to execute.\n     * @returns {Boolean} Returns a boolean indicating whether the condition fails or not.\n     * @example\n     * // Testing a condition.\n     * condition.test('foobar', validationA);\n     */\n    Condition.prototype.test = function (value, validation) {\n\n        if (!this._enabled) {\n            return true;\n        }\n\n        return this.fn.call(validation, value, this.num);\n    };\n\n    ch.Condition = Condition;\n\n}(this.ch));\n\n(function (window, ch) {\n    'use strict';\n\n    /**\n     * Validation is an engine to validate HTML forms elements.\n     * @memberof ch\n     * @constructor\n     * @augments ch.Component\n     * @requires ch.Condition\n     * @requires ch.Form\n     * @requires ch.Bubble\n     * @param {HTMLElement} el A HTMLElement to create an instance of ch.Validation.\n     * @param {Object} [options] Options to customize an instance.\n     * @param {Array} [options.conditions] A collection of conditions to validate.\n     * @param {String} [options.conditions.name] The name of the condition.\n     * @param {String} [options.conditions.message] The given error message to the condition.\n     * @param {String} [options.conditions.fn] The method to validate a given condition.\n     * @param {HTMLElement} [options.reference] It's a reference to position and size of element that will be considered to carry out the position.\n     * @param {String} [options.side] The side option where the target element will be positioned. Default: \"right\".\n     * @param {String} [options.align] The align options where the target element will be positioned. Default: \"top\".\n     * @param {Number} [options.offsetX] Distance to displace the target horizontally. Default: 10.\n     * @param {Number} [options.offsetY] Distance to displace the target vertically. Default: 0.\n     * @param {String} [options.position] The type of positioning used. Default: \"absolute\".\n     * @returns {validation} Returns a new instance of Validation.\n     * @example\n     * // Create a new Validation.\n     * var validation = new ch.Validation(document.querySelector('.name-field'), [options]);\n     * @example\n     * // Create a validation with with custom options.\n     * var validation = new ch.Validation({\n     *     'conditions': [\n     *         {\n     *             'name': 'required',\n     *             'message': 'Please, fill in this information.'\n     *         },\n     *         {\n     *             'name': 'custom-email',\n     *             'fn': function (value) { return value === \"customail@custom.com\"; },\n     *             'message': 'Use a valid e-mail such as name@custom.com.'\n     *         }\n     *     ],\n     *     'offsetX': 0,\n     *     'offsetY': 10,\n     *     'side': 'bottom',\n     *     'align': 'left'\n     * });\n     */\n    function Validation(el, options) {\n\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this;\n\n        this._init(el, options);\n\n        if (this.initialize !== undefined) {\n            /**\n             * If you define an initialize method, it will be executed when a new Validation is created.\n             * @memberof! ch.Validation.prototype\n             * @function\n             */\n            this.initialize();\n        }\n\n        /**\n         * Event emitted when the component is ready to use.\n         * @event ch.Validation#ready\n         * @example\n         * // Subscribe to \"ready\" event.\n         * validation.on('ready', function () {\n         *     // Some code here!\n         * });\n         */\n        window.setTimeout(function () { that.emit('ready'); }, 50);\n    }\n\n    // Inheritance\n    tiny.inherits(Validation, ch.Component);\n\n    var parent = Validation.super_.prototype,\n        // Creates methods enable and disable into the prototype.\n        methods = ['enable', 'disable'],\n        len = methods.length;\n\n    function createMethods(method) {\n        Validation.prototype[method] = function (condition) {\n            var key;\n\n            // Specific condition\n            if (condition !== undefined && this.conditions[condition] !== undefined) {\n\n                this.conditions[condition][method]();\n\n            } else {\n\n                // all conditions\n                for (key in this.conditions) {\n                    if (this.conditions[key] !== undefined) {\n                        this.conditions[key][method]();\n                    }\n                }\n\n                parent[method].call(this);\n            }\n\n            return this;\n        };\n    }\n\n    /**\n     * The name of the component.\n     * @memberof! ch.Validation.prototype\n     * @type {String}\n     */\n    Validation.prototype.name = 'validation';\n\n    /**\n     * Returns a reference to the constructor function.\n     * @memberof! ch.Validation.prototype\n     * @function\n     */\n    Validation.prototype.constructor = Validation;\n\n    /**\n     * Configuration by default.\n     * @type {Object}\n     * @private\n     */\n    Validation.prototype._defaults = {\n        'offsetX': 10\n    };\n\n    /**\n     * Initialize a new instance of Validation and merge custom options with defaults options.\n     * @memberof! ch.Validation.prototype\n     * @function\n     * @private\n     * @returns {validation}\n     */\n    Validation.prototype._init = function (el, options) {\n\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this;\n\n        parent._init.call(this, el, options);\n\n        /**\n         * The validation trigger.\n         * @type {HTMLElement}\n         */\n        this.trigger = this._el;\n\n        /**\n         * The validation container.\n         * @type {HTMLElement}\n         */\n        this._configureContainer();\n\n        /**\n         * The collection of conditions.\n         * @type {Object}\n         */\n        this.conditions = {};\n\n        // Merge conditions\n        this._mergeConditions(options.conditions);\n\n        /**\n         * Flag that let you know if there's a validation going on.\n         * @type {Boolean}\n         * @private\n         */\n        this._shown = false;\n\n        /**\n         * The current error. If the validations has not error is \"null\".\n         * @type {Object}\n         */\n        this.error = null;\n\n        this\n            // Clean the validation if is shown;\n            .on('disable', this.clear);\n\n        this.on('error', this._handleError);\n\n        /**\n         * Reference to a Form instance. If there isn't any, the Validation instance will create one.\n         * @type {form}\n         */\n        this.form = (ch.instances[tiny.parent(that.trigger, 'form').getAttribute('data-uid')] || new ch.Form(tiny.parent(that.trigger, 'form')));\n\n        this.form.validations.push(this);\n\n        /**\n         * Set a validation event to add listeners.\n         * @private\n         */\n        this._validationEvent = (tiny.hasClass(this.trigger, 'ch-form-options') || this._el.tagName === 'SELECT' || (this._el.tagName === 'INPUT' && this._el.type === 'range')) ? 'change' : 'blur';\n\n        return this;\n    };\n\n    /**\n     * Merges the collection of conditions with a given conditions.\n     * @function\n     * @private\n     */\n    Validation.prototype._mergeConditions = function (conditions) {\n        var i = 0,\n            j = conditions.length;\n\n        for (i; i < j; i += 1) {\n            this.conditions[conditions[i].name] = new ch.Condition(conditions[i]);\n        }\n\n        return this;\n    };\n\n    /**\n     * Validates the value of $el.\n     * @memberof! ch.Validation.prototype\n     * @function\n     * @returns {validation}\n     */\n    Validation.prototype.validate = function () {\n\n        if (this.hasError()) {\n            this._error();\n        } else {\n            this._success();\n        }\n\n        return this;\n    };\n\n    /**\n     * If the validation has got an error executes this function.\n     * @private\n     */\n    Validation.prototype._error = function () {\n\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this,\n            previousValue;\n\n        // It must happen only once.\n        tiny.on(this.trigger, this._validationEvent, function () {\n\n            if (previousValue !== this.value || that._validationEvent === 'change' && that.isShown()) {\n                previousValue = this.value;\n                that.validate();\n            }\n\n            if (that.conditions.required === undefined && this.value === '') {\n                that.clear();\n            }\n\n        });\n\n        /**\n         * It emits an error event when a validation got an error.\n         * @event ch.Validation#error\n         *\n         * @example\n         * // Subscribe to \"error\" event.\n         * validation.on('error', function (errors) {\n         *     console.log(errors.length);\n         * });\n         */\n        this.emit('error', this.error);\n\n        return this;\n    };\n\n    /**\n     * Internal error handler, shows the errors when needed\n     *\n     * @param err {Object} A ch.Validation#error object that contain the error message and the error condition\n     * @private\n     */\n    Validation.prototype._handleError = function(err) {\n        var that = this;\n\n        if (!that._previousError.condition || !that._shown) {\n            if (that._el.nodeName === 'INPUT' || that._el.nodeName === 'TEXTAREA') {\n                tiny.addClass(that.trigger, 'ch-validation-error');\n            }\n\n            that._showErrorMessage(err.message || 'Error');\n        }\n\n        if (err.condition !== that._previousError.condition) {\n            that._showErrorMessage(err.message || that.form._messages[err.condition] || 'Error');\n        }\n\n        that._shown = true;\n    };\n\n    /**\n     * If the validation hasn't got an error executes this function.\n     * @private\n     */\n    Validation.prototype._success = function () {\n\n        // Status OK (with previous error) this._previousError\n        if (this._shown || !this._enabled) {\n            // Public status OK\n            this._shown = false;\n        }\n\n        this.trigger.removeAttribute('aria-label');\n        tiny.removeClass(this.trigger, 'ch-validation-error');\n\n\n        this._hideErrorMessage();\n\n        /**\n         * It emits an event when a validation hasn't got an error.\n         * @event ch.Validation#success\n         * @example\n         * // Subscribe to \"success\" event.\n         * validation.on(\"submit\",function () {\n         *     // Some code here!\n         * });\n         */\n        this.emit('success');\n\n        return this;\n    };\n\n    /**\n     * Checks if the validation has got errors but it doesn't show bubbles.\n     * @memberof! ch.Validation.prototype\n     * @function\n     * @returns {Boolean}\n     * @example\n     * // Checks if a validation has errors and do something.\n     * if (validation.hasError()) {\n     *     // Some code here!\n     * };\n     */\n    Validation.prototype.hasError = function () {\n\n        // Pre-validation: Don't validate disabled\n        if (this.trigger.getAttribute('disabled') || !this._enabled) {\n            return false;\n        }\n\n        var condition,\n            required = this.conditions.required,\n            value = this._el.value;\n\n        // Avoid fields that aren't required when they are empty or de-activated\n        if (!required && value === '' && this._shown === false) {\n            // Has got an error? Nop\n            return false;\n        }\n\n        /**\n         * Stores the previous error object\n         * @private\n         */\n        this._previousError = tiny.clone(this.error);\n\n        // for each condition\n        for (condition in this.conditions) {\n\n            if (this.conditions[condition] !== undefined && !this.conditions[condition].test(value, this)) {\n                // Update the error object\n                this.error = {\n                    'condition': condition,\n                    'message': this.conditions[condition].message\n                };\n\n                // Has got an error? Yeah\n                return true;\n            }\n\n        }\n\n        // Update the error object\n        this.error = null;\n\n        // Has got an error? No\n        return false;\n    };\n\n    /**\n     * Clear active error.\n     * @memberof! ch.Validation.prototype\n     * @function\n     * @returns {validation}\n     * @example\n     * // Clear active error.\n     * validation.clear();\n     */\n    Validation.prototype.clear = function () {\n\n        this.trigger.removeAttribute('aria-label');\n        tiny.removeClass(this.trigger, 'ch-validation-error');\n\n        this.error = null;\n\n        this._hideErrorMessage();\n\n        this._shown = false;\n\n        /**\n         * It emits an event when a validation is cleaned.\n         * @event ch.Validation#clear\n         * @example\n         * // Subscribe to \"clear\" event.\n         * validation.on('clear', function () {\n         *     // Some code here!\n         * });\n         */\n        this.emit('clear');\n\n        return this;\n    };\n\n    /**\n     * Indicates if the validation is shown.\n     * @memberof! ch.Validation.prototype\n     * @function\n     * @returns {Boolean}\n     * @example\n     * // Execute a function if the validation is shown.\n     * if (validation.isShown()) {\n     *     fn();\n     * }\n     */\n    Validation.prototype.isShown = function () {\n        return this._shown;\n    };\n\n    /**\n     * Sets or gets messages to specifics conditions.\n     * @memberof! ch.Validation.prototype\n     * @function\n     * @returns {(validation | String)}\n     * @example\n     * // Gets a message from a condition\n     * validation.message('required');\n     * @example\n     * // Sets a new message\n     * validation.message('required', 'New message for required validation');\n     */\n    Validation.prototype.message = function (condition, message) {\n\n        if (condition === undefined) {\n            throw new Error('validation.message(condition, message): Please, a condition parameter is required.');\n        }\n\n        // Get a new message from a condition\n        if (message === undefined) {\n            return this.conditions[condition].message;\n        }\n\n        // Sets a new message\n        this.conditions[condition].message = message;\n\n        if (this.isShown() && this.error.condition === condition) {\n            this._showErrorMessage(message);\n        }\n\n        return this;\n    };\n\n    /**\n     * Enables an instance of validation or a specific condition.\n     * @memberof! ch.Validation.prototype\n     * @name enable\n     * @function\n     * @param {String} [condition] - A given number of fold to enable.\n     * @returns {validation} Returns an instance of Validation.\n     * @example\n     * // Enabling an instance of Validation.\n     * validation.enable();\n     * @example\n     * // Enabling the \"max\" condition.\n     * validation.enable('max');\n     */\n\n    /**\n     * Disables an instance of a validation or a specific condition.\n     * @memberof! ch.Validation.prototype\n     * @name disable\n     * @function\n     * @param {String} [condition] - A given number of fold to disable.\n     * @returns {validation} Returns an instance of Validation.\n     * @example\n     * // Disabling an instance of Validation.\n     * validation.disable();\n     * @example\n     * // Disabling the \"email\" condition.\n     * validation.disable('email');\n     */\n    while (len) {\n        createMethods(methods[len -= 1]);\n    }\n\n    /**\n     * Destroys a Validation instance.\n     * @memberof! ch.Validation.prototype\n     * @function\n     * @example\n     * // Destroying an instance of Validation.\n     * validation.destroy();\n     */\n    Validation.prototype.destroy = function () {\n\n        // this.$trigger.off('.validation')\n        this.trigger.removeAttribute('data-side data-align');\n\n        parent.destroy.call(this);\n\n        return;\n    };\n\n    // Factorize\n    ch.factory(Validation);\n\n}(this, this.ch));\n\n(function (ch) {\n    'use strict';\n\n    /**\n     * Creates a bubble to show the validation message.\n     * @memberof! ch.Validation.prototype\n     * @function\n     * @private\n     * @returns {validation}\n     */\n    ch.Validation.prototype._configureContainer = function () {\n\n        var that = this;\n\n        /**\n         * Is the little sign that popover showing the validation message. It's a Popover component, so you can change it's content, width or height and change its visibility state.\n         * @type {Bubble}\n         * @see ch.Bubble\n         */\n        this.bubble = this._container = new ch.Bubble({\n            'reference': that._options.reference || (function () {\n                var reference,\n                    trigger = that.trigger,\n                    h4,\n                    span;\n                // CHECKBOX, RADIO\n                // TODO: when old forms be deprecated we must only support ch-form-options class\n                if (tiny.hasClass(trigger, 'ch-form-options')) {\n                // Helper reference from will be fired\n                    if (trigger.querySelectorAll('h4').length > 0) {\n                        // Wrap content with inline element\n                        h4 = trigger.querySelector('h4'); // Find h4\n                        span = document.createElement('span');\n                        span.insertAdjacentHTML('beforeend', h4.innerHTML);\n                        h4.innerHTML = '';\n                        h4.insertBefore(span, h4.firstChild);\n                        reference = h4.children[0]; // Inline element in h4 like helper reference\n                    // Legend\n                    } else if (trigger.previousElementSibling && trigger.previousElementSibling.tagName === 'LEGEND') {\n                        reference = trigger.previousElementSibling; // Legend like helper reference\n                    } else {\n                        reference = trigger.querySelector('label');\n                    }\n                // INPUT, SELECT, TEXTAREA\n                } else {\n                    reference = trigger;\n                }\n\n                return reference;\n            }()),\n            'align': that._options.align,\n            'side': that._options.side,\n            'offsetY': that._options.offsetY,\n            'offsetX': that._options.offsetX\n            // 'position': that._options.position\n        });\n\n    };\n\n    /**\n     * Shows the validation message.\n     * @memberof! ch.Validation.prototype\n     * @function\n     * @private\n     * @returns {validation}\n     */\n    ch.Validation.prototype._showErrorMessage = function (message) {\n        this.bubble.content(message).show();\n        this.trigger.setAttribute('aria-label', 'ch-' + this.bubble.name + '-' + this.bubble.uid);\n\n        return this;\n    };\n\n    /**\n     * Hides the validation message.\n     * @memberof! ch.Validation.prototype\n     * @function\n     * @private\n     * @returns {validation}\n     */\n    ch.Validation.prototype._hideErrorMessage = function () {\n        this.bubble.hide();\n        this.trigger.removeAttribute('aria-label');\n\n        return this;\n    };\n\n    /**\n     * Sets or gets positioning configuration. Use it without arguments to get actual configuration. Pass an argument to define a new positioning configuration.\n     * @memberof! ch.Validation.prototype\n     * @function\n     * @returns {validation}\n     * @example\n     * // Change validaton bubble's position.\n     * validation.refreshPosition({\n     *     offsetY: -10,\n     *     side: 'top',\n     *     align: 'left'\n     * });\n     */\n    ch.Validation.prototype.refreshPosition = function (options) {\n\n        if (options === undefined) {\n            return this.bubble._position;\n        }\n\n        this.bubble.refreshPosition(options);\n\n        return this;\n    };\n\n}(this.ch));\n\n(function (window, ch) {\n    'use strict';\n\n    function normalizeOptions(options) {\n        if (typeof options === 'string' || options instanceof HTMLElement) {\n            options = {\n                'content': options\n            };\n        }\n        return options;\n    }\n\n    /**\n     * Expandable lets you show or hide content. Expandable needs a pair: a title and a container related to title.\n     * @memberof ch\n     * @constructor\n     * @augments ch.Component\n     * @mixes ch.Collapsible\n     * @mixes ch.Content\n     * @param {HTMLElement} el A HTMLElement to create an instance of ch.Expandable.\n     * @param {Object} [options] Options to customize an instance.\n     * @param {String} [options.fx] Enable or disable UI effects. You must use: \"slideDown\", \"fadeIn\" or \"none\". Default: \"none\".\n     * @param {Boolean} [options.toggle] Customize toggle behavior. Default: true.\n     * @param {HTMLElement} [options.container] The container where the expanbdale puts its content. Default: the next sibling of el parameter.\n     * @param {(String | HTMLElement)} [options.content] The content to be shown into the expandable container.\n     * @returns {expandable} Returns a new instance of Expandable.\n     * @example\n     * // Create a new Expandable.\n     * var expandable = new ch.Expandable([el], [options]);\n     * @example\n     * // Create a new Expandable with custom options.\n     * var expandable = new ch.Expandable({\n     *     'container': document.querySelector('.my-container'),\n     *     'toggle': false,\n     *     'fx': 'slideDown',\n     *     'content': 'http://ui.ml.com:3040/ajax'\n     * });\n     * @example\n     * // Create a new Expandable using the shorthand way (content as parameter).\n     * var expandable = new ch.Expandable('http://ui.ml.com:3040/ajax');\n     */\n    function Expandable(el, options) {\n\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this;\n\n        this._init(el, options);\n\n        if (this.initialize !== undefined) {\n            /**\n             * If you define an initialize method, it will be executed when a new Expandable is created.\n             * @memberof! ch.Expandable.prototype\n             * @function\n             */\n            this.initialize();\n        }\n\n        /**\n         * Event emitted when the component is ready to use.\n         * @event ch.Expandable#ready\n         * @example\n         * // Subscribe to \"ready\" event.\n         * expandable.on('ready', function () {\n         *     // Some code here!\n         * });\n         */\n        window.setTimeout(function () { that.emit('ready'); }, 50);\n    }\n\n    // Inheritance\n    tiny.inherits(Expandable, ch.Component);\n\n    var parent = Expandable.super_.prototype;\n\n    /**\n     * The name of the component.\n     * @memberof! ch.Expandable.prototype\n     * @type {String}\n     */\n    Expandable.prototype.name = 'expandable';\n\n    /**\n     * Returns a reference to the constructor function.\n     * @memberof! ch.Expandable.prototype\n     * @function\n     */\n    Expandable.prototype.constructor = Expandable;\n\n    /**\n     * Configuration by default.\n     * @type {Object}\n     * @private\n     */\n    Expandable.prototype._defaults = {\n        '_classNameTrigger': 'ch-expandable-trigger',\n        '_classNameIcon': 'ch-expandable-ico',\n        '_classNameContainer': 'ch-expandable-container',\n        'fx': false,\n        'toggle': true\n    };\n\n    /**\n     * Initialize a new instance of Expandable and merge custom options with defaults options.\n     * @memberof! ch.Expandable.prototype\n     * @function\n     * @private\n     * @returns {expandable}\n     */\n    Expandable.prototype._init = function (el, options) {\n        // Call to its parent init method\n        parent._init.call(this, el, options);\n\n        // Requires abilities\n        this.require('Collapsible', 'Content');\n\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this;\n\n        /**\n         * The expandable trigger.\n         * @type {HTMLElement}\n         * @example\n         * // Gets the expandable trigger.\n         * expandable.trigger;\n         */\n        this.trigger = this._el;\n        tiny.addClass(this.trigger, this._options._classNameTrigger);\n        tiny.addClass(this.trigger, this._options._classNameIcon);\n\n        if (navigator.pointerEnabled) {\n            tiny.on(this._el, 'click', function(e) {\n                if (e.target.tagName === 'A') {\n                    e.preventDefault();\n                }\n            });\n        }\n\n        tiny.on(this.trigger, ch.onpointertap, function (event) {\n            if (ch.pointerCanceled) {\n                return;\n            }\n\n            event.preventDefault();\n\n            if (that._options.toggle) {\n                that._toggle();\n            } else {\n                that.show();\n            }\n        });\n\n        /**\n         * The expandable container.\n         * @type {HTMLElement}\n         * @example\n         * // Gets the expandable container.\n         * expandable.container;\n         */\n        this.container = this._content = (this._options.container ?\n            this._options.container : tiny.next(this._el));\n        tiny.addClass(this.container, this._options._classNameContainer);\n        tiny.addClass(this.container, 'ch-hide');\n        if (tiny.support.transition && this._options.fx !== 'none' && this._options.fx !== false) {\n            tiny.addClass(this.container, 'ch-fx');\n        }\n        this.container.setAttribute('aria-expanded', 'false');\n\n        /**\n         * Default behavior\n         */\n        if (this.container.getAttribute('id') === '') {\n            this.container.setAttribute('id', 'ch-expandable-' + this.uid);\n        }\n\n        this.trigger.setAttribute('aria-controls', this.container.getAttribute('id'));\n\n        this\n            .on('show', function () {\n                tiny.trigger(window.document, ch.onlayoutchange);\n            })\n            .on('hide', function () {\n                tiny.trigger(window.document, ch.onlayoutchange);\n            });\n\n        this.trigger.setAttribute('unselectable', 'on');\n        tiny.addClass(this.trigger, 'ch-user-no-select');\n\n        return this;\n    };\n\n    /**\n     * Shows expandable's content.\n     * @memberof! ch.Expandable.prototype\n     * @function\n     * @param {(String | HTMLElement)} [content] The content that will be used by expandable.\n     * @param {Object} [options] A custom options to be used with content loaded by ajax.\n     * @param {String} [options.method] The type of request (\"POST\" or \"GET\") to load content by ajax. Default: \"GET\".\n     * @param {String} [options.params] Params like query string to be sent to the server.\n     * @param {Boolean} [options.cache] Force to cache the request by the browser. Default: true.\n     * @param {Boolean} [options.async] Force to sent request asynchronously. Default: true.\n     * @param {(String | HTMLElement)} [options.waiting] Temporary content to use while the ajax request is loading.\n     * @returns {expandable}\n     * @example\n     * // Shows a basic expandable.\n     * component.show();\n     * @example\n     * // Shows an expandable with new content.\n     * component.show('Some new content here!');\n     * @example\n     * // Shows an expandable with a new content that will be loaded by ajax and some custom options.\n     * component.show('http://chico-ui.com.ar/ajax', {\n     *     'cache': false,\n     *     'params': 'x-request=true'\n     * });\n     */\n    Expandable.prototype.show = function (content, options) {\n\n        if (!this._enabled) {\n            return this;\n        }\n\n        this._show();\n\n        // Update ARIA\n        this.container.setAttribute('aria-expanded', 'true');\n\n        // Set new content\n        if (content !== undefined) {\n            this.content(content, options);\n        }\n\n        return this;\n    };\n\n    /**\n     * Hides component's container.\n     * @memberof! ch.Expandable.prototype\n     * @function\n     * @returns {expandable}\n     * @example\n     * // Close an expandable.\n     * expandable.hide();\n     */\n    Expandable.prototype.hide = function () {\n\n        if (!this._enabled) {\n            return this;\n        }\n\n        this._hide();\n\n        this.container.setAttribute('aria-expanded', 'false');\n\n        return this;\n    };\n\n\n    /**\n     * Returns a Boolean specifying if the component's core behavior is shown. That means it will return 'true' if the component is on, and it will return false otherwise.\n     * @memberof! ch.Expandable.prototype\n     * @function\n     * @returns {Boolean}\n     * @example\n     * // Execute a function if the component is shown.\n     * if (expandable.isShown()) {\n     *     fn();\n     * }\n     */\n    Expandable.prototype.isShown = function () {\n        return this._shown;\n    };\n\n    /**\n     * Destroys an Expandable instance.\n     * @memberof! ch.Expandable.prototype\n     * @function\n     * @example\n     * // Destroy an expandable\n     * expandable.destroy();\n     * // Empty the expandable reference\n     * expandable = undefined;\n     */\n    Expandable.prototype.destroy = function () {\n        var trigger = this.trigger;\n\n        [\n            'ch-expandable-trigger',\n            'ch-expandable-ico',\n            'ch-user-no-select'\n        ].forEach(function(className){\n            tiny.removeClass(trigger, className);\n        });\n\n        this.trigger.removeAttribute('unselectable');\n        this.trigger.removeAttribute('aria-controls');\n        tiny.removeClass(this.container, 'ch-expandable-container');\n        tiny.removeClass(this.container, 'ch-hide');\n        this.container.removeAttribute('aria-expanded');\n        this.container.removeAttribute('aria-hidden');\n\n        tiny.trigger(window.document, ch.onlayoutchange);\n\n        parent.destroy.call(this);\n\n        return;\n    };\n\n    // Factorize\n    ch.factory(Expandable, normalizeOptions);\n\n}(this, this.ch));\n\n(function (window, ch) {\n    'use strict';\n\n    /**\n     * Menu lets you organize the links by categories.\n     * @memberof ch\n     * @constructor\n     * @augments ch.Component\n     * @requires ch.Expandable\n     * @param {HTMLElement} el A HTMLElement to create an instance of ch.Menu.\n     * @param {Object} [options] Options to customize an instance.\n     * @param {String} [options.fx] Enable or disable UI effects. You should use: \"slideDown\", \"fadeIn\" or \"none\". Default: \"slideDown\".\n     * @returns {menu} Returns a new instance of Menu.\n     * @example\n     * // Create a new Menu.\n     * var menu = new ch.Menu(el, [options]);\n     * @example\n     * // Create a new Menu with custom options.\n     * var menu = new ch.Menu({\n     *     'fx': 'none'\n     * });\n     */\n    function Menu(el, options) {\n\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this;\n\n        that._init(el, options);\n\n        if (this.initialize !== undefined) {\n            /**\n             * If you define an initialize method, it will be executed when a new Menu is created.\n             * @memberof! ch.Menu.prototype\n             * @function\n             */\n            this.initialize();\n        }\n\n        /**\n         * Event emitted when the component is ready to use.\n         * @event ch.Menu#ready\n         * @example\n         * // Subscribe to \"ready\" event.\n         * menu.on('ready', function () {\n         *     // Some code here!\n         * });\n         */\n        window.setTimeout(function () { that.emit('ready'); }, 50);\n    }\n\n    // Inheritance\n    tiny.inherits(Menu, ch.Component);\n\n    var parent = Menu.super_.prototype,\n\n        // Creates methods enable and disable into the prototype.\n        methods = ['enable', 'disable'],\n        len = methods.length;\n\n    function createMethods(method) {\n        Menu.prototype[method] = function (child) {\n            var i,\n                fold = this.folds[child - 1];\n\n            // Enables or disables a specific expandable fold\n            if (fold && fold.name === 'expandable') {\n\n                fold[method]();\n\n            // Enables or disables Expandable folds\n            } else {\n\n                i = this.folds.length;\n\n                while (i) {\n\n                    fold = this.folds[i -= 1];\n\n                    if (fold.name === 'expandable') {\n                        fold[method]();\n                    }\n                }\n\n                // Executes parent method\n                parent[method].call(this);\n\n                // Updates \"aria-disabled\" attribute\n                this._el.setAttribute('aria-disabled', !this._enabled);\n            }\n\n            return this;\n        };\n    }\n\n    /**\n     * The name of the component.\n     * @memberof! ch.Menu.prototype\n     * @type {String}\n     */\n    Menu.prototype.name = 'menu';\n\n    /**\n     * Returns a reference to the constructor function.\n     * @memberof! ch.Menu.prototype\n     * @function\n     */\n    Menu.prototype.constructor = Menu;\n\n    /**\n     * Configuration by default.\n     * @type {Object}\n     * @private\n     */\n    Menu.prototype._defaults = {\n        'fx': 'slideDown'\n    };\n\n    /**\n     * Initialize a new instance of Menu and merge custom options with defaults options.\n     * @memberof! ch.Menu.prototype\n     * @function\n     * @private\n     * @returns {menu}\n     */\n    Menu.prototype._init = function (el, options) {\n        // Call to its parent init method\n        parent._init.call(this, el, options);\n\n        // cloneNode(true) > parameters is required. Opera & IE throws and internal error. Opera mobile breaks.\n        this._snippet = this._el.cloneNode(true);\n\n        /**\n         * The menu container.\n         * @type {HTMLElement}\n         */\n        this.container = this._el;\n        this.container.setAttribute('role', 'navigation');\n        tiny.addClass(this.container, 'ch-menu');\n\n        this._options._className ? tiny.addClass(this.container, this._options._className) : null;\n        this._options.addClass ? tiny.addClass(this.container, this._options.addClass) : null;\n\n        /**\n         * A collection of folds.\n         * @type {Array}\n         */\n        this.folds = [];\n\n        // Inits an expandable component on each list inside main HTML code snippet\n        this._createExpandables();\n\n        return this;\n    };\n\n    /**\n     * Inits an Expandable component on each list inside main HTML code snippet.\n     * @function\n     * @private\n     */\n    Menu.prototype._createExpandables = function () {\n\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this,\n            child;\n\n        function createExpandable(li, i) {\n            var expandable,\n                menu;\n\n            // List element\n            tiny.addClass(li, 'ch-menu-fold');\n\n            // Children of list elements\n            child = li.children[0];\n\n            // Anchor inside list\n            if (child.tagName === 'A') {\n                // Add attr role to match wai-aria\n                li.setAttribute('role', 'presentation');\n                //\n                tiny.addClass(child, 'ch-fold-trigger');\n                // Add anchor to that.fold\n                that.folds.push(child);\n\n            } else {\n                // List inside list, inits an Expandable\n                expandable = new ch.Expandable(child, {\n                    // Show/hide on IE8- instead slideUp/slideDown\n                    'fx': that._options.fx\n                });\n\n                expandable\n                    .on('show', function () {\n                        /**\n                         * Event emitted when the menu shows a fold.\n                         * @event ch.Menu#show\n                         * @example\n                         * // Subscribe to \"show\" event.\n                         * menu.on('show', function (shown) {\n                         *     // Some code here!\n                         * });\n                         */\n                        that.emit('show', i + 1);\n                    })\n                    .on('hide', function () {\n                        /**\n                         * Event emitted when the menu hides a fold.\n                         * @event ch.Menu#hide\n                         * @example\n                         * // Subscribe to \"hide\" event.\n                         * menu.on('hide', function () {\n                         *     // Some code here!\n                         * });\n                         */\n                        that.emit('hide');\n                    });\n\n                menu = tiny.next(child);\n                menu.setAttribute('role', 'menu');\n\n                Array.prototype.forEach.call(menu.children, function (item){\n                    item.setAttribute('role', 'presentation');\n                    item.children[0] ? item.children[0].setAttribute('role', 'menuitem') : null;\n                });\n\n                // Add expandable to that.fold\n                that.folds.push(expandable);\n            }\n        }\n\n        Array.prototype.forEach.call(this.container.children, createExpandable);\n\n        return this;\n    };\n\n    /**\n     * Shows a specific fold.\n     * @memberof! ch.Menu.prototype\n     * @function\n     * @param {Number} child - A given number of fold.\n     * @returns {menu}\n     * @example\n     * // Shows the second fold.\n     * menu.show(2);\n     */\n    Menu.prototype.show = function (child) {\n\n        this.folds[child - 1].show();\n\n        return this;\n    };\n\n    /**\n     * Hides a specific fold.\n     * @memberof! ch.Menu.prototype\n     * @function\n     * @param {Number} child - A given number of fold.\n     * @returns {menu}\n     * @example\n     * // Hides the second fold.\n     * menu.hide(2);\n     */\n    Menu.prototype.hide = function (child) {\n\n        this.folds[child - 1].hide();\n\n        return this;\n    };\n\n    /**\n     * Allows to manage the menu content.\n     * @param {Number} fold A given fold to change its content.\n     * @param {(String | HTMLElement)} content The content that will be used by a fold.\n     * @param {Object} [options] A custom options to be used with content loaded by ajax.\n     * @param {String} [options.method] The type of request (\"POST\" or \"GET\") to load content by ajax. Default: \"GET\".\n     * @param {String} [options.params] Params like query string to be sent to the server.\n     * @param {Boolean} [options.cache] Force to cache the request by the browser. Default: true.\n     * @param {Boolean} [options.async] Force to sent request asynchronously. Default: true.\n     * @param {(String | HTMLElement)} [options.waiting] Temporary content to use while the ajax request is loading.\n     * @example\n     * // Updates the content of the second fold with some string.\n     * menu.content(2, 'http://ajax.com', {'cache': false});\n     */\n    Menu.prototype.content = function (fold, content, options) {\n        if (fold === undefined || typeof fold !== 'number') {\n            throw new window.Error('Menu.content(fold, content, options): Expected number of fold.');\n        }\n\n        if (content === undefined) {\n            return this.folds[fold - 1].content();\n        }\n\n        this.folds[fold - 1].content(content, options);\n\n        return this;\n    };\n\n    while (len) {\n        createMethods(methods[len -= 1]);\n    }\n\n    /**\n     * Destroys a Menu instance.\n     * @memberof! ch.Menu.prototype\n     * @function\n     * @example\n     * // Destroy a menu\n     * menu.destroy();\n     * // Empty the menu reference\n     * menu = undefined;\n     */\n    Menu.prototype.destroy = function () {\n\n        this.folds.forEach(function (e) {\n            if (e.destroy !== undefined) {\n                e.destroy();\n            }\n        });\n\n        this._el.parentNode.replaceChild(this._snippet, this._el);\n\n        tiny.trigger(window.document, ch.onlayoutchange);\n\n        parent.destroy.call(this);\n\n        return;\n    };\n\n    ch.factory(Menu);\n\n}(this, this.ch));\n\n(function (window, ch) {\n    'use strict';\n\n    /**\n     * Popover is the basic unit of a dialog window.\n     * @memberof ch\n     * @constructor\n     * @augments ch.Component\n     * @mixes ch.Collapsible\n     * @mixes ch.Content\n     * @requires ch.Positioner\n     * @param {HTMLElement} el A HTMLElement to create an instance of ch.Popover.\n     * @param {Object} [options] Options to customize an instance.\n     * @param {String} [options.addClass] CSS class names that will be added to the container on the component initialization.\n     * @param {String} [options.fx] Enable or disable UI effects. You must use: \"slideDown\", \"fadeIn\" or \"none\". Default: \"fadeIn\".\n     * @param {String} [options.width] Set a width for the container. Default: \"auto\".\n     * @param {String} [options.height] Set a height for the container. Default: \"auto\".\n     * @param {String} [options.shownby] Determines how to interact with the trigger to show the container. You must use: \"pointertap\", \"pointerenter\" or \"none\". Default: \"pointertap\".\n     * @param {String} [options.hiddenby] Determines how to hide the component. You must use: \"button\", \"pointers\", \"pointerleave\", \"all\" or \"none\". Default: \"button\".\n     * @param {HTMLElement} [options.reference] It's a HTMLElement reference to position and size of element that will be considered to carry out the position. Default: the trigger element.\n     * @param {String} [options.side] The side option where the target element will be positioned. Its value can be: \"left\", \"right\", \"top\", \"bottom\" or \"center\". Default: \"center\".\n     * @param {String} [options.align] The align options where the target element will be positioned. Its value can be: \"left\", \"right\", \"top\", \"bottom\" or \"center\". Default: \"center\".\n     * @param {Number} [options.offsetX] Distance to displace the target horizontally. Default: 0.\n     * @param {Number} [options.offsetY] Distance to displace the target vertically. Default: 0.\n     * @param {String} [options.position] The type of positioning used. Its value must be \"absolute\" or \"fixed\". Default: \"absolute\".\n     * @param {String} [options.method] The type of request (\"POST\" or \"GET\") to load content by ajax. Default: \"GET\".\n     * @param {String} [options.params] Params like query string to be sent to the server.\n     * @param {Boolean} [options.cache] Force to cache the request by the browser. Default: true.\n     * @param {Boolean} [options.async] Force to sent request asynchronously. Default: true.\n     * @param {(String | HTMLElement)} [options.waiting] Temporary content to use while the ajax request is loading. Default: '&lt;div class=\"ch-loading ch-loading-centered\"&gt;&lt;/div&gt;'.\n     * @param {(String | HTMLElement)} [options.content] The content to be shown into the Popover container.\n     * @param {(Boolean | String)} [options.wrapper] Wrap the reference element and place the container into it instead of body. When value is a string it will be applied as additional wrapper class. Default: false.\n     *\n     * @returns {popover} Returns a new instance of Popover.\n     *\n     * @example\n     * // Create a new Popover.\n     * var popover = new ch.Popover([el], [options]);\n     * @example\n     * // Create a new Popover with disabled effects.\n     * var popover = new ch.Popover(el, {\n     *     'fx': 'none'\n     * });\n     * @example\n     * // Create a new Popover using the shorthand way (content as parameter).\n     * var popover = new ch.Popover(document.querySelector('.popover'), {'content': 'http://ui.ml.com:3040/ajax'});\n     */\n    function Popover(el, options) {\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this;\n\n        this._init(el, options);\n\n        if (this.initialize !== undefined) {\n            /**\n             * If you define an initialize method, it will be executed when a new Popover is created.\n             * @memberof! ch.Popover.prototype\n             * @function\n             */\n            this.initialize();\n        }\n\n        /**\n         * Event emitted when the component is ready to use.\n         * @event ch.Popover#ready\n         * @example\n         * // Subscribe to \"ready\" event.\n         * popover.on('ready', function () {\n         *     // Some code here!\n         * });\n         */\n        window.setTimeout(function () { that.emit('ready'); }, 50);\n    }\n\n    // Inheritance\n    tiny.inherits(Popover, ch.Component);\n\n    var document = window.document,\n        parent = Popover.super_.prototype,\n        shownbyEvent = {\n            'pointertap': ch.onpointertap,\n            'pointerenter': ch.onpointerenter\n        };\n\n    /**\n     * The name of the component.\n     * @memberof! ch.Popover.prototype\n     * @type {String}\n     */\n    Popover.prototype.name = 'popover';\n\n    /**\n     * Returns a reference to the constructor function.\n     * @memberof! ch.Popover.prototype\n     * @function\n     */\n    Popover.prototype.constructor = Popover;\n\n    /**\n     * Configuration by default.\n     * @memberof! ch.Popover.prototype\n     * @type {Object}\n     * @private\n     */\n    Popover.prototype._defaults = {\n        '_ariaRole': 'dialog',\n        '_className': '',\n        '_hideDelay': 400,\n        'addClass': '',\n        'fx': 'fadeIn',\n        'width': 'auto',\n        'height': 'auto',\n        'shownby': 'pointertap',\n        'hiddenby': 'button',\n        'waiting': '<div class=\"ch-loading ch-loading-centered\"></div>',\n        'position': 'absolute',\n        'wrapper': false\n    };\n\n    /**\n     * Initialize a new instance of Popover and merge custom options with defaults options.\n     * @memberof! ch.Popover.prototype\n     * @function\n     * @private\n     * @returns {popover}\n     */\n    Popover.prototype._init = function (el, options) {\n        // Call to its parent init method\n        parent._init.call(this, el, options);\n\n        // Require abilities\n        this.require('Collapsible', 'Content');\n\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this,\n            container = document.createElement('div');\n\n        this._configureWrapper();\n\n        container.innerHTML = [\n            '<div',\n            ' class=\"ch-popover ch-hide ' + this._options._className + ' ' + this._options.addClass +\n                (tiny.support.transition && this._options.fx !== 'none' && this._options.fx !== false ? ' ch-fx' : '') + '\"',\n            ' role=\"' + this._options._ariaRole + '\"',\n            ' id=\"ch-' + this.name + '-' + this.uid + '\"',\n            ' style=\"width:' + this._options.width + ';height:' + this._options.height + '\"',\n            '></div>'\n        ].join('');\n\n        /**\n         * The popover container. It's the element that will be shown and hidden.\n         * @type {HTMLDivElement}\n         */\n        this.container = container.querySelector('div');\n\n        tiny.on(this.container, ch.onpointertap, function (event) {\n            event.stopPropagation();\n        });\n\n        /**\n         * Element where the content will be added.\n         * @private\n         * @type {HTMLDivElement}\n         */\n        this._content = document.createElement('div');\n\n        tiny.addClass(this._content, 'ch-popover-content');\n\n        this.container.appendChild(this._content);\n\n        // Add functionality to the trigger if it exists\n        this._configureTrigger();\n\n        this._positioner = new ch.Positioner({\n            'target': this.container,\n            'reference': this._options.reference,\n            'side': this._options.side,\n            'align': this._options.align,\n            'offsetX': this._options.offsetX,\n            'offsetY': this._options.offsetY,\n            'position': this._options.position\n        });\n\n        /**\n         * Handler to execute the positioner refresh() method on layout changes.\n         * @private\n         * @function\n         * @todo Define this function on prototype and use bind(): $document.on(ch.onlayoutchange, this.refreshPosition.bind(this));\n         */\n        this._refreshPositionListener = function () {\n            if (that._shown) {\n                that._positioner.refresh(options);\n            }\n\n            return that;\n        };\n\n        this._hideTimer = function () {\n            that._timeout = window.setTimeout(function () {\n                that.hide();\n            }, that._options._hideDelay);\n        };\n\n        this._hideTimerCleaner = function () {\n            window.clearTimeout(that._timeout);\n        };\n\n        // Configure the way it hides\n        this._configureHiding();\n\n        // Refresh position:\n        // on layout change\n        tiny.on(document, ch.onlayoutchange, this._refreshPositionListener);\n        // on resize\n        ch.viewport.on(ch.onresize, this._refreshPositionListener);\n\n        this\n            .once('_show', this._refreshPositionListener)\n            // on content change\n            .on('_contentchange', this._refreshPositionListener);\n\n        return this;\n    };\n\n    /**\n     * Adds functionality to the trigger. When a non-trigger popover is initialized, this method isn't executed.\n     * @memberof! ch.Popover.prototype\n     * @private\n     * @function\n     */\n    Popover.prototype._configureTrigger = function () {\n\n        if (this._el === undefined) {\n            return;\n        }\n\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this,\n            // It will be triggered on pointertap/pointerenter of the $trigger\n            // It can toggle, show, or do nothing (in specific cases)\n            showHandler = (function () {\n                // Toggle as default\n                var fn = that._toggle;\n                // When a Popover is shown on pointerenter, it will set a timeout to manage when\n                // to close the component. Avoid to toggle and let choise when to close to the timer\n                if (that._options.shownby === 'pointerenter' || that._options.hiddenby === 'none' || that._options.hiddenby === 'button') {\n                    fn = function () {\n                        if (!that._shown) {\n                            that.show();\n                        }\n                    };\n                }\n\n                return fn;\n            }());\n\n        /**\n         * The original and entire element and its state, before initialization.\n         * @private\n         * @type {HTMLDivElement}\n         */\n        // cloneNode(true) > parameters is required. Opera & IE throws and internal error. Opera mobile breaks.\n        this._snippet = this._el.cloneNode(true);\n\n        // Use the trigger as the positioning reference\n        this._options.reference = this._options.reference || this._el;\n\n        // Open event when configured as able to shown anyway\n        if (this._options.shownby !== 'none') {\n\n            tiny.addClass(this._el, 'ch-shownby-' + this._options.shownby);\n\n            if (this._options.shownby === shownbyEvent.pointertap && navigator.pointerEnabled) {\n                tiny.on(this._el, 'click', function(e) {\n                    e.preventDefault();\n                });\n            }\n\n            tiny.on(this._el, shownbyEvent[this._options.shownby], function (event) {\n                event.stopPropagation();\n                event.preventDefault();\n                showHandler();\n            });\n        }\n\n        // Get a content if it's not defined\n        if (this._options.content === undefined) {\n            // Content from anchor href\n            // IE defines the href attribute equal to src attribute on images.\n            if (this._el.nodeName === 'A' && this._el.href !== '') {\n                this._options.content = this._el.href;\n\n            // Content from title or alt\n            } else if (this._el.title !== '' || this._el.alt !== '') {\n                // Set the configuration parameter\n                this._options.content = this._el.title || this._el.alt;\n                // Keep the attributes content into the element for possible usage\n                this._el.setAttribute('data-title', this._options.content);\n                // Avoid to trigger the native tooltip\n                this._el.title = this._el.alt = '';\n            }\n        }\n\n        // Set WAI-ARIA\n        this._el.setAttribute('aria-owns', 'ch-' + this.name + '-' + this.uid);\n        this._el.setAttribute('aria-haspopup', 'true');\n\n        /**\n         * The popover trigger. It's the element that will show and hide the container.\n         * @type {HTMLElement}\n         */\n        this.trigger = this._el;\n    };\n\n    /**\n     * Determines how to hide the component.\n     * @memberof! ch.Popover.prototype\n     * @private\n     * @function\n     */\n    Popover.prototype._configureHiding = function () {\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this,\n            hiddenby = this._options.hiddenby,\n            dummy,\n            button;\n\n\n\n        // Don't hide anytime\n        if (hiddenby === 'none') { return; }\n\n        // Hide by leaving the component\n        if (hiddenby === 'pointerleave' && this.trigger !== undefined) {\n\n            [this.trigger, this.container].forEach(function(el) {\n                tiny.on(el, ch.onpointerenter, that._hideTimerCleaner);\n            });\n            [this.trigger, this.container].forEach(function(el) {\n                tiny.on(el, ch.onpointerleave, that._hideTimer);\n            });\n        }\n\n        // Hide with the button Close\n        if (hiddenby === 'button' || hiddenby === 'all') {\n            dummy = document.createElement('div');\n            dummy.innerHTML = '<i class=\"ch-close\" role=\"button\" aria-label=\"Close\"></i>';\n            button = dummy.querySelector('i');\n\n            tiny.on(button, ch.onpointertap, function () {\n                that.hide();\n            });\n\n            this.container.insertBefore(button, this.container.firstChild);\n\n        }\n\n        if ((hiddenby === 'pointers' || hiddenby === 'all') && this._hidingShortcuts !== undefined) {\n            this._hidingShortcuts();\n        }\n\n    };\n\n    /**\n     * Creates an options object from the parameters arriving to the constructor method.\n     * @memberof! ch.Popover.prototype\n     * @private\n     * @function\n     */\n    Popover.prototype._normalizeOptions = function (options) {\n        // IE8 and earlier don't define the node type constants, 1 === document.ELEMENT_NODE\n        if (typeof options === 'string' || (typeof options === 'object' && options.nodeType === 1)) {\n            options = {\n                'content': options\n            };\n        }\n        return options;\n    };\n\n    /**\n     * Wraps the target element and use the wrapper as the placement for container\n     * @memberof! ch.Popover.prototype\n     * @private\n     * @function\n     */\n    Popover.prototype._configureWrapper = function() {\n        var target = this._el || this._options.reference,\n            wrapper = this._options.wrapper;\n\n        if (wrapper && target && target.nodeType === 1) {\n            // Create the wrapper element and append to it\n            wrapper = document.createElement('span');\n            tiny.addClass(wrapper, 'ch-popover-wrapper');\n\n            if (typeof this._options.wrapper === 'string') {\n                this._options.wrapper.split(' ').forEach(function(className) {\n                    tiny.addClass(wrapper, className);\n                });\n            }\n\n            tiny.parent(target).insertBefore(wrapper, target);\n            wrapper.appendChild(target);\n            if (tiny.css(wrapper, 'position') === 'static') {\n                tiny.css(wrapper, {\n                    display: 'inline-block',\n                    position: 'relative'\n                });\n            }\n\n            this._containerWrapper = wrapper;\n        } else {\n            this._containerWrapper = document.body;\n        }\n    };\n\n    /**\n     * Shows the popover container and appends it to the body.\n     * @memberof! ch.Popover.prototype\n     * @function\n     * @param {(String | HTMLElement)} [content] The content that will be used by popover.\n     * @param {Object} [options] A custom options to be used with content loaded by ajax.\n     * @param {String} [options.method] The type of request (\"POST\" or \"GET\") to load content by ajax. Default: \"GET\".\n     * @param {String} [options.params] Params like query string to be sent to the server.\n     * @param {Boolean} [options.cache] Force to cache the request by the browser. Default: true.\n     * @param {Boolean} [options.async] Force to sent request asynchronously. Default: true.\n     * @param {(String | HTMLElement)} [options.waiting] Temporary content to use while the ajax request is loading.\n     * @returns {popover}\n     * @example\n     * // Shows a basic popover.\n     * popover.show();\n     * @example\n     * // Shows a popover with new content\n     * popover.show('Some new content here!');\n     * @example\n     * // Shows a popover with a new content that will be loaded by ajax with some custom options\n     * popover.show('http://domain.com/ajax/url', {\n     *     'cache': false,\n     *     'params': 'x-request=true'\n     * });\n     */\n    Popover.prototype.show = function (content, options) {\n        // Don't execute when it's disabled\n        if (!this._enabled || this._shown) {\n            return this;\n        }\n\n        // Append to the configured holder\n        this._containerWrapper.appendChild(this.container);\n\n        // Open the collapsible\n        this._show();\n\n        // Request the content\n        if (content !== undefined) {\n            this.content(content, options);\n        }\n\n        return this;\n    };\n\n    /**\n     * Hides the popover container and deletes it from the body.\n     * @memberof! ch.Popover.prototype\n     * @function\n     * @returns {popover}\n     * @example\n     * // Close a popover\n     * popover.hide();\n     */\n    Popover.prototype.hide = function() {\n        var self = this,\n            parent;\n        // Don't execute when it's disabled\n        if (!this._enabled || !this._shown) {\n            return this;\n        }\n\n        // Detach the container from the DOM when it is hidden\n        this.once('hide', function() {\n            // Due to transitions this._shown can be outdated here\n            parent = self.container.parentNode;\n            if (parent !== null) {\n                parent.removeChild(self.container);\n            }\n        });\n\n        // Close the collapsible\n        this._hide();\n\n        return this;\n    };\n\n    /**\n     * Returns a Boolean specifying if the container is shown or not.\n     * @memberof! ch.Popover.prototype\n     * @function\n     * @returns {Boolean}\n     * @example\n     * // Check the popover status\n     * popover.isShown();\n     * @example\n     * // Check the popover status after an user action\n     * $(window).on(ch.onpointertap, function () {\n     *     if (popover.isShown()) {\n     *         alert('Popover: visible');\n     *     } else {\n     *         alert('Popover: not visible');\n     *     }\n     * });\n     */\n    Popover.prototype.isShown = function () {\n        return this._shown;\n    };\n\n    /**\n     * Sets or gets the width of the container.\n     * @memberof! ch.Popover.prototype\n     * @function\n     * @param {String} [data] Set a width for the container.\n     * @returns {(Number | popover)}\n     * @example\n     * // Set a new popover width\n     * component.width('300px');\n     * @example\n     * // Get the current popover width\n     * component.width(); // '300px'\n     */\n    Popover.prototype.width = function (data) {\n\n        if (data === undefined) {\n            return this._options.width;\n        }\n\n        this.container.style.width = data;\n\n        this._options.width = data;\n\n        this.refreshPosition();\n\n        return this;\n    };\n\n    /**\n     * Sets or gets the height of the container.\n     * @memberof! ch.Popover.prototype\n     * @function\n     * @param {String} [data] Set a height for the container.\n     * @returns {(Number | popover)}\n     * @example\n     * // Set a new popover height\n     * component.height('300px');\n     * @example\n     * // Get the current popover height\n     * component.height(); // '300px'\n     */\n    Popover.prototype.height = function (data) {\n\n        if (data === undefined) {\n            return this._options.height;\n        }\n\n        this.container.style.height = data;\n\n        this._options.height = data;\n\n        this.refreshPosition();\n\n        return this;\n    };\n\n    /**\n     * Updates the current position of the container with given options or defaults.\n     * @memberof! ch.Popover.prototype\n     * @function\n     * @params {Object} [options] A configuration object.\n     * @returns {popover}\n     * @example\n     * // Update the current position\n     * popover.refreshPosition();\n     * @example\n     * // Update the current position with a new offsetX and offsetY\n     * popover.refreshPosition({\n     *     'offestX': 100,\n     *     'offestY': 10\n     * });\n     */\n    Popover.prototype.refreshPosition = function (options) {\n\n        if (this._shown) {\n            // Refresh its position.\n            this._positioner.refresh(options);\n\n        } else {\n            // Update its options. It will update position the next time to be shown.\n            this._positioner._configure(options);\n        }\n\n        return this;\n    };\n\n    /**\n     * Enables a Popover instance.\n     * @memberof! ch.Popover.prototype\n     * @function\n     * @returns {popover}\n     * @example\n     * // Enable a popover\n     * popover.enable();\n     */\n    Popover.prototype.enable = function () {\n\n        if (this._el !== undefined) {\n            this._el.setAttribute('aria-disabled', false);\n        }\n\n        parent.enable.call(this);\n\n        return this;\n    };\n\n    /**\n     * Disables a Popover instance.\n     * @memberof! ch.Popover.prototype\n     * @function\n     * @returns {popover}\n     * @example\n     * // Disable a popover\n     * popover.disable();\n     */\n    Popover.prototype.disable = function () {\n\n        if (this._el !== undefined) {\n            this._el.setAttribute('aria-disabled', true);\n        }\n\n        if (this._shown) {\n            this.hide();\n        }\n\n        parent.disable.call(this);\n\n        return this;\n    };\n\n    /**\n     * Destroys a Popover instance.\n     * @memberof! ch.Popover.prototype\n     * @function\n     * @returns {popover}\n     * @example\n     * // Destroy a popover\n     * popover.destroy();\n     * // Empty the popover reference\n     * popover = undefined;\n     */\n    Popover.prototype.destroy = function () {\n\n        if (this.trigger !== undefined) {\n\n            tiny.off(this.trigger, ch.onpointerenter, this._hideTimerCleaner);\n            tiny.off(this.trigger, ch.onpointerleave, this._hideTimer);\n\n            tiny.removeClass(this.trigger, 'ch-' + this.name + '-trigger');\n\n            this.trigger.removeAttribute('data-title');\n            this.trigger.removeAttribute('aria-owns');\n            this.trigger.removeAttribute('aria-haspopup');\n            this.trigger.removeAttribute('data-side');\n            this.trigger.removeAttribute('data-align');\n            this.trigger.removeAttribute('role');\n\n            this._snippet.alt ? this.trigger.setAttribute('alt', this._snippet.alt) : null;\n            this._snippet.title ? this.trigger.setAttribute('title', this._snippet.title) : null;\n        }\n\n        tiny.off(document, ch.onlayoutchange, this._refreshPositionListener);\n\n        ch.viewport.removeListener(ch.onresize, this._refreshPositionListener);\n\n        parent.destroy.call(this);\n\n        return;\n    };\n\n    ch.factory(Popover, Popover.prototype._normalizeOptions);\n\n}(this, this.ch));\n\n(function (window, ch) {\n    'use strict';\n\n    var document = window.document;\n\n    ch.Popover.prototype._hidingShortcuts = function () {\n\n        var that = this;\n\n        function hide(event) {\n            // event.button === 0: Fix issue #933 Right click closes it on Firefox.\n            if (event.target !== that._el && event.target !== that.container && event.button === 0) {\n                that.hide();\n            }\n        }\n\n        ch.shortcuts.add(ch.onkeyesc, this.uid, function () {\n            that.hide();\n        });\n\n        this\n            .on('show', function () {\n                ch.shortcuts.on(that.uid);\n                tiny.on(document, ch.onpointertap, hide);\n            })\n            .on('hide', function () {\n                ch.shortcuts.off(that.uid);\n                tiny.off(document, ch.onpointertap, hide);\n            })\n            .once('destroy', function () {\n                ch.shortcuts.remove(that.uid, ch.onkeyesc);\n            });\n    };\n\n}(this, this.ch));\n\n(function (window, ch) {\n    'use strict';\n\n    /**\n     * Layer is a dialog window that can be shown one at a time.\n     * @memberof ch\n     * @constructor\n     * @augments ch.Popover\n     * @param {String} [el] A HTMLElement to create an instance of ch.Layer.\n     * @param {Object} [options] Options to customize an instance.\n     * @param {String} [options.addClass] CSS class names that will be added to the container on the component initialization.\n     * @param {String} [options.fx] Enable or disable UI effects. You must use: \"slideDown\", \"fadeIn\" or \"none\". Default: \"fadeIn\".\n     * @param {String} [options.width] Set a width for the container. Default: \"auto\".\n     * @param {String} [options.height] Set a height for the container. Default: \"auto\".\n     * @param {String} [options.shownby] Determines how to interact with the trigger to show the container. You must use: \"pointertap\", \"pointerenter\" or \"none\". Default: \"pointerenter\".\n     * @param {String} [options.hiddenby] Determines how to hide the component. You must use: \"button\", \"pointers\", \"pointerleave\", \"all\" or \"none\". Default: \"pointerleave\".\n     * @param {HTMLElement} [options.reference] It's a reference to position and size of element that will be considered to carry out the position. Default: the trigger element.\n     * @param {String} [options.side] The side option where the target element will be positioned. Its value can be: \"left\", \"right\", \"top\", \"bottom\" or \"center\". Default: \"bottom\".\n     * @param {String} [options.align] The align options where the target element will be positioned. Its value can be: \"left\", \"right\", \"top\", \"bottom\" or \"center\". Default: \"left\".\n     * @param {Number} [options.offsetX] Distance to displace the target horizontally. Default: 0.\n     * @param {Number} [options.offsetY] Distance to displace the target vertically. Default: 10.\n     * @param {String} [options.position] The type of positioning used. Its value must be \"absolute\" or \"fixed\". Default: \"absolute\".\n     * @param {String} [options.method] The type of request (\"POST\" or \"GET\") to load content by ajax. Default: \"GET\".\n     * @param {String} [options.params] Params like query string to be sent to the server.\n     * @param {Boolean} [options.cache] Force to cache the request by the browser. Default: true.\n     * @param {Boolean} [options.async] Force to sent request asynchronously. Default: true.\n     * @param {(String | HTMLElement)} [options.waiting] Temporary content to use while the ajax request is loading. Default: '&lt;div class=\"ch-loading ch-loading-centered\"&gt;&lt;/div&gt;'.\n     * @param {( String | HTMLElement)} [options.content] The content to be shown into the Layer container.\n     * @param {(Boolean | String)} [options.wrapper] Wrap the reference element and place the container into it instead of body. When value is a string it will be applied as additional wrapper class. Default: false.\n     *\n     * @returns {layer} Returns a new instance of Layer.\n     * @example\n     * // Create a new Layer.\n     * var layer = new ch.Layer([el], [options]);\n     * @example\n     * // Create a new Layer with disabled effects.\n     * var layer = new ch.Layer({\n     *     'content': 'This is the content of the Layer'\n     * });\n     * @example\n     * // Create a new Layer using the shorthand way (content as parameter).\n     * var layer = new ch.Layer('http://ui.ml.com:3040/ajax');\n     */\n    function Layer(el, options) {\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this;\n\n        this._init(el, options);\n\n        if (this.initialize !== undefined) {\n            /**\n             * If you define an initialize method, it will be executed when a new Layer is created.\n             * @memberof! ch.Layer.prototype\n             * @function\n             */\n            this.initialize();\n        }\n\n        /**\n         * Event emitted when the component is ready to use.\n         * @event ch.Layer#ready\n         * @example\n         * // Subscribe to \"ready\" event.\n         * layer.on('ready', function () {\n         *     // Some code here!\n         * });\n         */\n        window.setTimeout(function () { that.emit('ready'); }, 50);\n    }\n\n    // Inheritance\n    tiny.inherits(Layer, ch.Popover);\n\n    // Reference to the last component open. Allows to close and to deny to\n    // have 2 components open at the same time\n    var lastShown,\n        parent = Layer.super_.prototype;\n\n    /**\n     * The name of the component.\n     * @memberof! ch.Layer.prototype\n     * @type {String}\n     */\n    Layer.prototype.name = 'layer';\n\n    /**\n     * Returns a reference to the constructor function.\n     * @memberof! ch.Layer.prototype\n     * @function\n     */\n    Layer.prototype.constructor = Layer;\n\n    /**\n     * Configuration by default.\n     * @memberof! ch.Layer.prototype\n     * @type {Object}\n     * @private\n     */\n    Layer.prototype._defaults = tiny.extend(tiny.clone(parent._defaults), {\n        '_className': 'ch-layer ch-box-lite ch-cone',\n        '_ariaRole': 'tooltip',\n        'shownby': 'pointerenter',\n        'hiddenby': 'pointerleave',\n        'side': 'bottom',\n        'align': 'left',\n        'offsetX': 0,\n        'offsetY': 10,\n        'waiting': '<div class=\"ch-loading-small\"></div>',\n        'wrapper': false\n    });\n\n    /**\n     * Shows the layer container and hides other layers.\n     * @memberof! ch.Layer.prototype\n     * @function\n     * @param {(String | HTMLElement)} [content] The content that will be used by layer.\n     * @param {Object} [options] A custom options to be used with content loaded by ajax.\n     * @param {String} [options.method] The type of request (\"POST\" or \"GET\") to load content by ajax. Default: \"GET\".\n     * @param {String} [options.params] Params like query string to be sent to the server.\n     * @param {Boolean} [options.cache] Force to cache the request by the browser. Default: true.\n     * @param {Boolean} [options.async] Force to sent request asynchronously. Default: true.\n     * @param {(String | HTMLElement)} [options.waiting] Temporary content to use while the ajax request is loading.\n     * @returns {layer}\n     * @example\n     * // Shows a basic layer.\n     * layer.show();\n     * @example\n     * // Shows a layer with new content\n     * layer.show('Some new content here!');\n     * @example\n     * // Shows a layer with a new content that will be loaded by ajax with some custom options\n     * layer.show('http://domain.com/ajax/url', {\n     *     'cache': false,\n     *     'params': 'x-request=true'\n     * });\n     */\n    Layer.prototype.show = function (content, options) {\n        // Don't execute when it's disabled\n        if (!this._enabled || this._shown) {\n            return this;\n        }\n\n        // Only hide if there was a component opened before\n        if (lastShown !== undefined && lastShown.name === this.name && lastShown !== this) {\n            lastShown.hide();\n        }\n\n        // Only save to future close if this component is closable\n        if (this._options.hiddenby !== 'none' && this._options.hiddenby !== 'button') {\n            lastShown = this;\n        }\n\n        // Execute the original show()\n        parent.show.call(this, content, options);\n\n        return this;\n    };\n\n    ch.factory(Layer, parent._normalizeOptions);\n\n}(this, this.ch));\n\n(function (ch) {\n    'use strict';\n\n    /**\n     * Improves the native tooltips.\n     * @memberof ch\n     * @constructor\n     * @augments ch.Popover\n     * @param {HTMLElement} el A HTMLElement to create an instance of ch.Tooltip.\n     * @param {Object} [options] Options to customize an instance.\n     * @param {String} [options.addClass] CSS class names that will be added to the container on the component initialization.\n     * @param {String} [options.fx] Enable or disable UI effects. You must use: \"slideDown\", \"fadeIn\" or \"none\". Default: \"fadeIn\".\n     * @param {String} [options.width] Set a width for the container. Default: \"auto\".\n     * @param {String} [options.height] Set a height for the container. Default: \"auto\".\n     * @param {String} [options.shownby] Determines how to interact with the trigger to show the container. You must use: \"pointertap\", \"pointerenter\" or \"none\". Default: \"pointerenter\".\n     * @param {String} [options.hiddenby] Determines how to hide the component. You must use: \"button\", \"pointers\", \"pointerleave\", \"all\" or \"none\". Default: \"pointerleave\".\n     * @param {HTMLElement} [options.reference] It's a reference to position and size of element that will be considered to carry out the position. Default: the trigger element.\n     * @param {String} [options.side] The side option where the target element will be positioned. Its value can be: \"left\", \"right\", \"top\", \"bottom\" or \"center\". Default: \"bottom\".\n     * @param {String} [options.align] The align options where the target element will be positioned. Its value can be: \"left\", \"right\", \"top\", \"bottom\" or \"center\". Default: \"left\".\n     * @param {Number} [options.offsetX] Distance to displace the target horizontally. Default: 0.\n     * @param {Number} [options.offsetY] Distance to displace the target vertically. Default: 10.\n     * @param {String} [options.position] The type of positioning used. Its value must be \"absolute\" or \"fixed\". Default: \"absolute\".\n     * @param {String} [options.method] The type of request (\"POST\" or \"GET\") to load content by ajax. Default: \"GET\".\n     * @param {String} [options.params] Params like query string to be sent to the server.\n     * @param {Boolean} [options.cache] Force to cache the request by the browser. Default: true.\n     * @param {Boolean} [options.async] Force to sent request asynchronously. Default: true.\n     * @param {(String | HTMLElement)} [options.waiting] Temporary content to use while the ajax request is loading. Default: '<div class=\"ch-loading ch-loading-centered\"></div>'.\n     * @param {(String | HTMLElement)} [options.content] The content to be shown into the Tooltip container.\n     * @returns {tooltip} Returns a new instance of Tooltip.\n     * @example\n     * // Create a new Tooltip.\n     * var tooltip = new ch.Tooltip(document.querySelector('.trigger'), [options]);\n     * @example\n     * // Create a new Tooltip using the shorthand way (content as parameter).\n     * var tooltip = new ch.Tooltip(document.querySelector('.trigger'), {'content': 'http://ui.ml.com:3040/ajax'});\n     */\n    function Tooltip(el, options) {\n\n        // TODO: Review what's going on here with options\n        /*\n        if (options === undefined && el !== undefined && el.nodeType !== undefined) {\n            options = el;\n            el = undefined;\n        }\n        */\n\n        options = tiny.extend(tiny.clone(this._defaults), options);\n\n        return new ch.Layer(el, options);\n    }\n\n    /**\n     * The name of the component.\n     * @memberof! ch.Tooltip.prototype\n     * @type {String}\n     * @example\n     * // You can reach the associated instance.\n     * var tooltip = $(selector).data('tooltip');\n     */\n    Tooltip.prototype.name = 'tooltip';\n\n    /**\n     * Returns a reference to the constructor function.\n     * @memberof! ch.Tooltip.prototype\n     * @function\n     */\n    Tooltip.prototype.constructor = Tooltip;\n\n    /**\n     * Configuration by default.\n     * @memberof! ch.Tooltip.prototype\n     * @type {Object}\n     * @private\n     */\n    Tooltip.prototype._defaults = tiny.extend(tiny.clone(ch.Layer.prototype._defaults), {\n        '_className': 'ch-tooltip ch-cone'\n    });\n\n    ch.factory(Tooltip, ch.Layer.prototype._normalizeOptions);\n\n}(this.ch));\n\n(function (window, ch) {\n    'use strict';\n\n    /**\n     * Dialog window with an error skin.\n     * @memberof ch\n     * @constructor\n     * @augments ch.Component\n     * @requires ch.Positioner\n     * @param {HTMLElement} el A HTMLElement to create an instance of ch.Bubble.\n     * @param {Object} [options] Options to customize an instance.\n     * @param {String} [options.addClass] CSS class names that will be added to the container on the component initialization.\n     * @param {String} [options.fx] Enable or disable UI effects. You must use: \"slideDown\", \"fadeIn\" or \"none\". Default: \"fadeIn\".\n     * @param {String} [options.width] Set a width for the container. Default: \"auto\".\n     * @param {String} [options.height] Set a height for the container. Default: \"auto\".\n     * @param {String} [options.shownby] Determines how to interact with the trigger to show the container. You must use: \"pointertap\", \"pointerenter\" or \"none\". Default: \"none\".\n     * @param {String} [options.hiddenby] Determines how to hide the component. You must use: \"button\", \"pointers\", \"pointerleave\", \"all\" or \"none\". Default: \"none\".\n     * @param {HTMLElement} [options.reference] It's a reference to position and size of element that will be considered to carry out the position. Default: the trigger element.\n     * @param {String} [options.side] The side option where the target element will be positioned. Its value can be: \"left\", \"right\", \"top\", \"bottom\" or \"center\". Default: \"right\".\n     * @param {String} [options.align] The align options where the target element will be positioned. Its value can be: \"left\", \"right\", \"top\", \"bottom\" or \"center\". Default: \"top\".\n     * @param {Number} [options.offsetX] Distance to displace the target horizontally. Default: 10.\n     * @param {Number} [options.offsetY] Distance to displace the target vertically. Default: 0.\n     * @param {String} [options.position] The type of positioning used. Its value must be \"absolute\" or \"fixed\". Default: \"absolute\".\n     * @param {String} [options.method] The type of request (\"POST\" or \"GET\") to load content by ajax. Default: \"GET\".\n     * @param {String} [options.params] Params like query string to be sent to the server.\n     * @param {Boolean} [options.cache] Force to cache the request by the browser. Default: true.\n     * @param {Boolean} [options.async] Force to sent request asynchronously. Default: true.\n     * @param {(String | HTMLElement)} [options.waiting] Temporary content to use while the ajax request is loading. Default: '&lt;div class=\"ch-loading ch-loading-centered\"&gt;&lt;/div&gt;'.\n     * @param {(String | HTMLElement)} [options.content] The content to be shown into the Bubble container. Default: \"Check the information, please.\"\n     * @returns {bubble} Returns a new instance of Bubble.\n     * @example\n     * // Create a new Bubble.\n     * var bubble = new ch.Bubble($el, [options]);\n     * @example\n     * // Create a new Bubble with disabled effects.\n     * var bubble = new ch.Bubble({\n     *     'fx': 'none'\n     * });\n     * @example\n     * // Create a new Bubble using the shorthand way (content as parameter).\n     * var bubble = new ch.Bubble('http://ui.ml.com:3040/ajax');\n     */\n    function Bubble(el, options) {\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this;\n\n        this._init(el, options);\n\n        if (this.initialize !== undefined) {\n            /**\n             * If you define an initialize method, it will be executed when a new Bubble is created.\n             * @memberof! ch.Bubble.prototype\n             * @function\n             */\n            this.initialize();\n        }\n\n        /**\n         * Event emitted when the component is ready to use.\n         * @event ch.Bubble#ready\n         * @example\n         * // Subscribe to \"ready\" event.\n         * bubble.on('ready', function () {\n         *     // Some code here!\n         * });\n         */\n        window.setTimeout(function () { that.emit('ready'); }, 50);\n    }\n\n    // Inheritance\n    tiny.inherits(Bubble, ch.Popover);\n\n    var parent = Bubble.super_.prototype;\n\n    /**\n     * The name of the component.\n     * @memberof! ch.Bubble.prototype\n     * @type {String}\n     */\n    Bubble.prototype.name = 'bubble';\n\n    /**\n     * Returns a reference to the constructor function.\n     * @memberof! ch.Bubble.prototype\n     * @function\n     */\n    Bubble.prototype.constructor = Bubble;\n\n    /**\n     * Configuration by default.\n     * @memberof! ch.Bubble.prototype\n     * @type {Object}\n     * @private\n     */\n    Bubble.prototype._defaults = tiny.extend(tiny.clone(parent._defaults), {\n        '_className': 'ch-bubble ch-box-icon ch-box-error ch-cone',\n        '_ariaRole': 'alert',\n        'shownby': 'none',\n        'hiddenby': 'none',\n        'side': 'right',\n        'align': 'center',\n        'offsetX': 10,\n        'content': 'Check the information, please.'\n    });\n\n    /**\n     * Initialize a new instance of Bubble and merge custom options with defaults options.\n     * @memberof! ch.Bubble.prototype\n     * @function\n     * @private\n     * @returns {bubble}\n     */\n    Bubble.prototype._init = function (el, options) {\n        // Call to its parent init method\n        parent._init.call(this, el, options);\n\n        this.container.insertAdjacentHTML('beforeend', '<i class=\"ch-icon-remove-sign\"></i>');\n\n        return this;\n    };\n\n    ch.factory(Bubble, parent._normalizeOptions);\n\n}(this, this.ch));\n\n(function (window, ch) {\n    'use strict';\n\n    /**\n     * Modal is a dialog window with an underlay.\n     * @memberof ch\n     * @constructor\n     * @augments ch.Popover\n     * @param {HTMLElement} [el] A HTMLElement to create an instance of ch.Modal.\n     * @param {Object} [options] Options to customize an instance.\n     * @param {String} [options.addClass] CSS class names that will be added to the container on the component initialization.\n     * @param {String} [options.fx] Enable or disable UI effects. You must use: \"slideDown\", \"fadeIn\" or \"none\". Default: \"fadeIn\".\n     * @param {String} [options.width] Set a width for the container. Default: \"50%\".\n     * @param {String} [options.height] Set a height for the container. Default: \"auto\".\n     * @param {String} [options.shownby] Determines how to interact with the trigger to show the container. You must use: \"pointertap\", \"pointerenter\" or \"none\". Default: \"pointertap\".\n     * @param {String} [options.hiddenby] Determines how to hide the component. You must use: \"button\", \"pointers\", \"pointerleave\", \"all\" or \"none\". Default: \"all\".\n     * @param {HTMLElement} [options.reference] It's a reference to position and size of element that will be considered to carry out the position. Default: ch.viewport.\n     * @param {String} [options.side] The side option where the target element will be positioned. Its value can be: \"left\", \"right\", \"top\", \"bottom\" or \"center\". Default: \"center\".\n     * @param {String} [options.align] The align options where the target element will be positioned. Its value can be: \"left\", \"right\", \"top\", \"bottom\" or \"center\". Default: \"center\".\n     * @param {Number} [options.offsetX] Distance to displace the target horizontally. Default: 0.\n     * @param {Number} [options.offsetY] Distance to displace the target vertically. Default: 0.\n     * @param {String} [options.position] The type of positioning used. Its value must be \"absolute\" or \"fixed\". Default: \"fixed\".\n     * @param {String} [options.method] The type of request (\"POST\" or \"GET\") to load content by ajax. Default: \"GET\".\n     * @param {String} [options.params] Params like query string to be sent to the server.\n     * @param {Boolean} [options.cache] Force to cache the request by the browser. Default: true.\n     * @param {Boolean} [options.async] Force to sent request asynchronously. Default: true.\n     * @param {(String | HTMLElement)} [options.waiting] Temporary content to use while the ajax request is loading. Default: '&lt;div class=\"ch-loading-large ch-loading-centered\"&gt;&lt;/div&gt;'.\n     * @param {(String | HTMLElement)} [options.content] The content to be shown into the Modal container.\n     * @returns {modal} Returns a new instance of Modal.\n     * @example\n     * // Create a new Modal.\n     * var modal = new ch.Modal([el], [options]);\n     * @example\n     * // Create a new Modal.\n     * var modal = new ch.Modal([options]);\n     * @example\n     * // Create a new Modal with disabled effects.\n     * var modal = new ch.Modal({\n     *     'content': 'This is the content of the Modal'\n     * });\n     * @example\n     * // Create a new Modal using the shorthand way (content as parameter).\n     * var modal = new ch.Modal('http://ui.ml.com:3040/ajax');\n     */\n    function Modal(el, options) {\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this;\n\n        this._init(el, options);\n\n        if (this.initialize !== undefined) {\n            /**\n             * If you define an initialize method, it will be executed when a new Modal is created.\n             * @memberof! ch.Modal.prototype\n             * @function\n             */\n            this.initialize();\n        }\n\n        /**\n         * Event emitted when the component is ready to use.\n         * @event ch.Modal#ready\n         * @example\n         * // Subscribe to \"ready\" event.\n         * modal.on('ready', function () {\n         *     // Some code here!\n         * });\n         */\n        window.setTimeout(function () { that.emit('ready'); }, 50);\n    }\n\n    // Inheritance\n    tiny.inherits(Modal, ch.Popover);\n\n    var document = window.document,\n        underlay = (function () {\n            var dummyElement = document.createElement('div');\n            dummyElement.innerHTML = '<div class=\"ch-underlay\" tabindex=\"-1\"></div>';\n\n            return dummyElement.querySelector('div');\n        }()),\n        parent = Modal.super_.prototype;\n\n    /**\n     * The name of the component.\n     * @memberof! ch.Modal.prototype\n     * @type {String}\n     */\n    Modal.prototype.name = 'modal';\n\n    /**\n     * Returns a reference to the constructor function.\n     * @memberof! ch.Modal.prototype\n     * @function\n     */\n    Modal.prototype.constructor = Modal;\n\n    /**\n     * Configuration by default.\n     * @memberof! ch.Modal.prototype\n     * @type {Object}\n     * @private\n     */\n    Modal.prototype._defaults = tiny.extend(tiny.clone(parent._defaults), {\n        '_className': 'ch-modal ch-box-lite',\n        '_ariaRole': 'dialog',\n        'width': '50%',\n        'hiddenby': 'all',\n        'reference': ch.viewport,\n        'waiting': '<div class=\"ch-loading-large ch-loading-centered\"></div>',\n        'position': 'fixed'\n    });\n\n    /**\n     * Shows the Modal underlay.\n     * @memberof! ch.Modal.prototype\n     * @function\n     * @private\n     */\n    Modal.prototype._showUnderlay = function () {\n        var useAnimation = tiny.support.transition && this._options.fx !== 'none' && this._options.fx !== false,\n            fxName = 'ch-fx-' + this._options.fx.toLowerCase();\n\n        document.body.appendChild(underlay);\n\n        function showCallback(e) {\n            tiny.removeClass(underlay, fxName + '-enter-active');\n            tiny.removeClass(underlay, fxName + '-enter');\n\n            tiny.off(e.target, e.type, showCallback);\n        }\n\n        if (useAnimation) {\n            tiny.addClass(underlay, fxName + '-enter');\n            setTimeout(function() {\n                tiny.addClass(underlay, fxName + '-enter-active');\n            },10);\n            tiny.on(underlay, tiny.support.transition.end, showCallback);\n        }\n    };\n\n    /**\n     * Hides the Modal underlay.\n     * @memberof! ch.Modal.prototype\n     * @function\n     * @private\n     */\n    Modal.prototype._hideUnderlay = function () {\n        var useAnimation = tiny.support.transition && this._options.fx !== 'none' && this._options.fx !== false,\n            fxName = 'ch-fx-' + this._options.fx.toLowerCase(),\n            parent = underlay.parentNode;\n\n        function hideCallback(e) {\n            tiny.removeClass(underlay, fxName + '-leave-active');\n            tiny.removeClass(underlay, fxName + '-leave');\n\n            tiny.off(e.target, e.type, hideCallback);\n            parent.removeChild(underlay);\n        }\n\n        if (useAnimation) {\n            tiny.addClass(underlay, fxName + '-leave');\n            setTimeout(function() {\n                tiny.addClass(underlay, fxName + '-leave-active');\n            },10);\n            tiny.on(underlay, tiny.support.transition.end, hideCallback);\n        } else {\n            parent.removeChild(underlay);\n        }\n    };\n\n    /**\n     * Shows the modal container and the underlay.\n     * @memberof! ch.Modal.prototype\n     * @function\n     * @param {(String | HTMLElement)} [content] The content that will be used by modal.\n     * @param {Object} [options] A custom options to be used with content loaded by ajax.\n     * @param {String} [options.method] The type of request (\"POST\" or \"GET\") to load content by ajax. Default: \"GET\".\n     * @param {String} [options.params] Params like query string to be sent to the server.\n     * @param {Boolean} [options.cache] Force to cache the request by the browser. Default: true.\n     * @param {Boolean} [options.async] Force to sent request asynchronously. Default: true.\n     * @param {(String | HTMLElement)} [options.waiting] Temporary content to use while the ajax request is loading.\n     * @returns {modal}\n     * @example\n     * // Shows a basic modal.\n     * modal.show();\n     * @example\n     * // Shows a modal with new content\n     * modal.show('Some new content here!');\n     * @example\n     * // Shows a modal with a new content that will be loaded by ajax with some custom options\n     * modal.show('http://domain.com/ajax/url', {\n     *     'cache': false,\n     *     'params': 'x-request=true'\n     * });\n     */\n    Modal.prototype.show = function (content, options) {\n        // Don't execute when it's disabled\n        if (!this._enabled || this._shown) {\n            return this;\n        }\n\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this;\n\n        function hideByUnderlay(e) {\n            that.hide();\n            // Allow only one click to analyze the config every time and to close ONLY THIS modal\n            e.target.removeEventListener(e.type, hideByUnderlay);\n        }\n\n        // Add to the underlay the ability to hide the component\n        if (this._options.hiddenby === 'all' || this._options.hiddenby === 'pointers') {\n            tiny.on(underlay, ch.onpointertap, hideByUnderlay);\n        }\n\n        // Show the underlay\n        this._showUnderlay();\n        // Execute the original show()\n        parent.show.call(this, content, options);\n\n        return this;\n    };\n\n    /**\n     * Hides the modal container and the underlay.\n     * @memberof! ch.Modal.prototype\n     * @function\n     * @returns {modal}\n     * @example\n     * // Close a modal\n     * modal.hide();\n     */\n    Modal.prototype.hide = function () {\n        if (!this._shown) {\n            return this;\n        }\n\n        // Delete the underlay listener\n        tiny.off(underlay, ch.onpointertap);\n        // Hide the underlay element\n        this._hideUnderlay();\n        // Execute the original hide()\n        parent.hide.call(this);\n\n        return this;\n    };\n\n    ch.factory(Modal, parent._normalizeOptions);\n\n}(this, this.ch));\n\n(function (ch) {\n    'use strict';\n\n    /**\n     * Transition lets you give feedback to the users when their have to wait for an action.\n     * @memberof ch\n     * @constructor\n     * @augments ch.Popover\n     * @param {HTMLElement} [el] A HTMLElement to create an instance of ch.Transition.\n     * @param {Object} [options] Options to customize an instance.\n     * @param {String} [options.addClass] CSS class names that will be added to the container on the component initialization.\n     * @param {String} [options.fx] Enable or disable UI effects. You must use: \"slideDown\", \"fadeIn\" or \"none\". Default: \"fadeIn\".\n     * @param {String} [options.width] Set a width for the container. Default: \"50%\".\n     * @param {String} [options.height] Set a height for the container. Default: \"auto\".\n     * @param {String} [options.shownby] Determines how to interact with the trigger to show the container. You must use: \"pointertap\", \"pointerenter\" or \"none\". Default: \"pointertap\".\n     * @param {String} [options.hiddenby] Determines how to hide the component. You must use: \"button\", \"pointers\", \"pointerleave\", \"all\" or \"none\". Default: \"none\".\n     * @param {String} [options.reference] It's a reference to position and size of element that will be considered to carry out the position. Default: ch.viewport.\n     * @param {String} [options.side] The side option where the target element will be positioned. Its value can be: \"left\", \"right\", \"top\", \"bottom\" or \"center\". Default: \"center\".\n     * @param {String} [options.align] The align options where the target element will be positioned. Its value can be: \"left\", \"right\", \"top\", \"bottom\" or \"center\". Default: \"center\".\n     * @param {Number} [options.offsetX] Distance to displace the target horizontally. Default: 0.\n     * @param {Number} [options.offsetY] Distance to displace the target vertically. Default: 0.\n     * @param {String} [options.position] The type of positioning used. Its value must be \"absolute\" or \"fixed\". Default: \"fixed\".\n     * @param {String} [options.method] The type of request (\"POST\" or \"GET\") to load content by ajax. Default: \"GET\".\n     * @param {String} [options.params] Params like query string to be sent to the server.\n     * @param {Boolean} [options.cache] Force to cache the request by the browser. Default: true.\n     * @param {Boolean} [options.async] Force to sent request asynchronously. Default: true.\n     * @param {(HTMLElement | String)} [options.waiting] Temporary content to use while the ajax request is loading. Default: '&lt;div class=\"ch-loading-large ch-loading-centered\"&gt;&lt;/div&gt;'.\n     * @param {(HTMLElement | String)} [options.content] The content to be shown into the Transition container. Default: \"Please wait...\"\n     * @returns {transition} Returns a new instance of Transition.\n     * @example\n     * // Create a new Transition.\n     * var transition = new ch.Transition([el], [options]);\n     * @example\n     * // Create a new Transition with disabled effects.\n     * var transition = new ch.Transition({\n     *     'fx': 'none'\n     * });\n     * @example\n     * // Create a new Transition using the shorthand way (content as parameter).\n     * var transition = new ch.Transition('http://ui.ml.com:3040/ajax');\n     */\n    function Transition(el, options) {\n\n        if (el === undefined || options === undefined) {\n            options = {};\n        }\n\n        options.content = (function () {\n            var dummyElement = document.createElement('div'),\n                content = options.waiting || '';\n\n            // TODO: options.content could be a HTMLElement\n            dummyElement.innerHTML = '<div class=\"ch-loading-large\"></div><p>' + content + '</p>';\n\n            return dummyElement.firstChild;\n        }());\n\n        // el is not defined\n        if (el === undefined) {\n            el = tiny.extend(tiny.clone(this._defaults), options);\n        // el is present as a object configuration\n        } else if (el.nodeType === undefined && typeof el === 'object') {\n            el = tiny.extend(tiny.clone(this._defaults), el);\n        } else if (options !== undefined) {\n            options = tiny.extend(tiny.clone(this._defaults), options);\n        }\n\n        return new ch.Modal(el, options);\n    }\n\n    /**\n     * The name of the component.\n     * @memberof! ch.Transition.prototype\n     * @type {String}\n     */\n    Transition.prototype.name = 'transition';\n\n    /**\n     * Returns a reference to the constructor function.\n     * @memberof! ch.Transition.prototype\n     * @function\n     */\n    Transition.prototype.constructor = Transition;\n\n    /**\n     * Configuration by default.\n     * @memberof! ch.Transition.prototype\n     * @type {Object}\n     * @private\n     */\n    Transition.prototype._defaults = tiny.extend(tiny.clone(ch.Modal.prototype._defaults), {\n        '_className': 'ch-transition ch-box-lite',\n        '_ariaRole': 'alert',\n        'hiddenby': 'none',\n        'content': 'Please wait...'\n    });\n\n    ch.factory(Transition, ch.Modal.prototype._normalizeOptions);\n\n}(this.ch));\n\n(function (window, ch) {\n    'use strict';\n\n    /**\n     * Zoom shows a contextual reference to an augmented version of a declared image.\n     * @memberof ch\n     * @constructor\n     * @augments ch.Layer\n     * @param {String} selector A CSS Selector to create an instance of ch.Zoom.\n     * @param {Object} [options] Options to customize an instance.\n     * @param {String} [options.addClass] CSS class names that will be added to the container on the component initialization.\n     * @param {String} [options.fx] Enable or disable UI effects. You must use: \"slideDown\", \"fadeIn\" or \"none\". Default: \"none\".\n     * @param {String} [options.width] Set a width for the container. Default: \"300px\".\n     * @param {String} [options.height] Set a height for the container. Default: \"300px\".\n     * @param {String} [options.shownby] Determines how to interact with the trigger to show the container. You must use: \"pointertap\", \"pointerenter\" or \"none\". Default: \"pointerenter\".\n     * @param {String} [options.hiddenby] Determines how to hide the component. You must use: \"button\", \"pointers\", \"pointerleave\", \"all\" or \"none\". Default: \"pointerleave\".\n     * @param {String} [options.reference] It's a CSS Selector reference to position and size of element that will be considered to carry out the position. Default: the trigger element.\n     * @param {String} [options.side] The side option where the target element will be positioned. Its value can be: \"left\", \"right\", \"top\", \"bottom\" or \"center\". Default: \"right\".\n     * @param {String} [options.align] The align options where the target element will be positioned. Its value can be: \"left\", \"right\", \"top\", \"bottom\" or \"center\". Default: \"top\".\n     * @param {Number} [options.offsetX] Distance to displace the target horizontally. Default: 20.\n     * @param {Number} [options.offsetY] Distance to displace the target vertically. Default: 0.\n     * @param {String} [options.position] The type of positioning used. Its value must be \"absolute\" or \"fixed\". Default: \"absolute\".\n     * @param {String} [options.method] The type of request (\"POST\" or \"GET\") to load content by ajax. Default: \"GET\".\n     * @param {String} [options.params] Params like query string to be sent to the server.\n     * @param {Boolean} [options.cache] Force to cache the request by the browser. Default: true.\n     * @param {Boolean} [options.async] Force to sent request asynchronously. Default: true.\n     * @param {(String | HTMLElement)} [options.waiting] Temporary content to use while the ajax request is loading. Default: 'Loading zoom...'.\n     * @param {(HTMLElement | String)} [options.content] The content to be shown into the Zoom container.\n     * @returns {zoom} Returns a new instance of Zoom.\n     * @example\n     * // Create a new Zoom.\n     * var zoom = new ch.Zoom([selector], [options]);\n     * @example\n     * // Create a new Zoom with a defined width (half of the screen).\n     * var zoom = new ch.Zoom({\n     *     'width': (ch.viewport.width / 2) + 'px'\n     * });\n     */\n    function Zoom(selector, options) {\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this;\n\n        this._init(selector, options);\n\n        if (this.initialize !== undefined) {\n            /**\n             * If you define an initialize method, it will be executed when a new Zoom is created.\n             * @memberof! ch.Zoom.prototype\n             * @function\n             */\n            this.initialize();\n        }\n\n        /**\n         * Event emitted when the component is ready to use.\n         * @event ch.Zoom#ready\n         * @example\n         * // Subscribe to \"ready\" event.\n         * zoom.on('ready', function () {\n         *     // Some code here!\n         * });\n         */\n        window.setTimeout(function () { that.emit('ready'); }, 50);\n    }\n\n    // Inheritance\n    tiny.inherits(Zoom, ch.Layer);\n\n    var parent = Zoom.super_.prototype;\n\n    /**\n     * The name of the component.\n     * @memberof! ch.Zoom.prototype\n     * @type {String}\n     */\n    Zoom.prototype.name = 'zoom';\n\n    /**\n     * Returns a reference to the constructor function.\n     * @memberof! ch.Zoom.prototype\n     * @function\n     */\n    Zoom.prototype.constructor = Zoom;\n\n    /**\n     * Configuration by default.\n     * @memberof! ch.Zoom.prototype\n     * @type {Object}\n     * @private\n     */\n    Zoom.prototype._defaults = tiny.extend(tiny.clone(parent._defaults), {\n        '_className': 'ch-zoom',\n        '_ariaRole': 'tooltip',\n        '_hideDelay': 0,\n        'fx': 'none',\n        'width': '300px',\n        'height': '300px',\n        'side': 'right',\n        'align': 'top',\n        'offsetX': 20,\n        'offsetY': 0,\n        'waiting': 'Loading zoom...'\n    });\n\n    /**\n     * Initialize a new instance of Zoom and merge custom options with defaults options.\n     * @memberof! ch.Zoom.prototype\n     * @function\n     * @private\n     * @returns {zoom}\n     */\n    Zoom.prototype._init = function (selector, options) {\n        // Call to its parent init method\n        parent._init.call(this, selector, options);\n\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this;\n\n        /**\n         * Flag to control when zoomed image is loaded.\n         * @type {Boolean}\n         * @private\n         */\n        this._loaded = false;\n\n        /**\n         * Feedback showed before the zoomed image is load. It's a transition message and its content can be configured through parameter \"waiting\".\n         * @type {HTMLElement}\n         * @private\n         * @example\n         * // Changing the loading feedback.\n         * var zoom = new ch.Zoom({\n         *     'waiting': 'My custom message'\n         * });\n         */\n        this._loading = (function() {\n            var dummyElement = document.createElement('div');\n            dummyElement.innerHTML = '<div class=\"ch-zoom-loading ch-hide\"><div class=\"ch-loading-large\"></div><p>' + that._options.waiting + '</p></div>';\n\n            return dummyElement.firstChild;\n        }());\n\n        this.trigger.appendChild(this._loading);\n\n\n        /**\n         * HTML Element shape with visual feedback to the relative size of the zoomed area.\n         * @type {HTMLDivElement}\n         * @private\n         */\n        this._seeker = (function (){\n            var dummyElement = document.createElement('div');\n            dummyElement.innerHTML = '<div class=\"ch-zoom-seeker ch-hide\"></div>';\n\n            return dummyElement.firstChild;\n        }());\n\n        this.trigger.appendChild(this._seeker);\n\n        /**\n         * The main specified image with original size (not zoomed).\n         * @type {HTMLElement}\n         * @private\n         */\n        this._original = this.trigger.children[0];\n\n        /**\n         * The zoomed image specified as a link href (see the HTML snippet).\n         * @type {HTMLImageElement}\n         * @private\n         */\n        // Use a new Image to calculate the\n        // size before append the image to DOM, in ALL the browsers.\n        this._zoomed = new window.Image();\n\n        // Assign event handlers to the original image\n        onImagesLoads(this._original, function () {\n            that._originalLoaded();\n        });\n\n        // Assign event handlers to the zoomed image\n        onImagesLoads(this._zoomed, function () {\n            that._zoomedLoaded();\n        });\n\n        // Make the entire Show process if it tried to show before\n        this.on('imageload', function () {\n            if (!tiny.hasClass(this._loading, 'ch-hide')) {\n                that.show();\n                tiny.addClass(this._loading, 'ch-hide');\n            }\n        });\n\n        // Assign event handlers to the anchor\n        tiny.addClass(this.trigger, 'ch-zoom-trigger');\n\n        // Prevent to redirect to the href\n        tiny.on(this.trigger, 'click', function (event) { event.preventDefault(); }, false);\n\n        // Bind move calculations\n        tiny.on(this.trigger, ch.onpointermove, function (event) { that._move(event); }, false);\n\n        return this;\n    };\n\n    /**\n     * Sets the correct size to the wrapper anchor.\n     * @memberof! ch.Zoom.prototype\n     * @function\n     * @private\n     */\n    Zoom.prototype._originalLoaded = function () {\n\n        var width = this._original.width,\n            height = this._original.height,\n            offset = tiny.offset(this._el);\n\n        // Set the wrapper anchor size (same as image)\n        this.trigger.style.width = width + 'px';\n        this.trigger.style.height = height + 'px';\n\n        // Loading position centered into the anchor\n        this._loading.style.display = 'block';\n        this._loading.style.left = (width - this._loading.clientWidth) / 2 + 'px',\n        this._loading.style.top = (height - this._loading.clientHeight) / 2 + 'px';\n        this._loading.style.display = '';\n\n        /**\n         * Width of the original specified image.\n         * @type {Number}\n         * @private\n         */\n        this._originalWidth = width;\n\n        /**\n         * Height of the original specified image.\n         * @type {Number}\n         * @private\n         */\n        this._originalHeight = height;\n\n        /**\n         * Left position of the original specified anchor/image.\n         * @type {Number}\n         * @private\n         */\n        this._originalOffsetLeft = offset.left;\n\n        /**\n         * Top position of the original specified anchor/image.\n         * @type {Number}\n         * @private\n         */\n        this._originalOffsetTop = offset.top;\n    };\n\n    /**\n     * Loads the Zoom content and sets the Seeker size.\n     * @memberof! ch.Zoom.prototype\n     * @function\n     * @private\n     */\n    Zoom.prototype._zoomedLoaded = function () {\n\n        /**\n         * Relation between the zoomed and the original image width.\n         * @type {Number}\n         * @private\n         */\n        this._ratioX = (this._zoomed.width / this._originalWidth);\n\n        /**\n         * Relation between the zoomed and the original image height.\n         * @type {Number}\n         * @private\n         */\n        this._ratioY = (this._zoomed.height / this._originalHeight);\n\n        /**\n         * Width of the Seeker, calculated from ratio.\n         * @type {Number}\n         * @private\n         */\n        this._seekerWidth = window.Math.floor(window.parseInt(this._options.width, 10) / this._ratioX);\n\n        /**\n         * Height of the Seeker, calculated from ratio.\n         * @type {Number}\n         * @private\n         */\n        this._seekerHeight = window.Math.floor(window.parseInt(this._options.height, 10) / this._ratioY);\n\n        /**\n         * Half of the width of the Seeker. Used to position it.\n         * @type {Number}\n         * @private\n         */\n        this._seekerHalfWidth = window.Math.floor(this._seekerWidth / 2);\n\n        /**\n         * Half of the height of the Seeker. Used to position it.\n         * @type {Number}\n         * @private\n         */\n        this._seekerHalfHeight = window.Math.floor(this._seekerHeight / 2);\n\n        // Set size of the Seeker\n        this._seeker.style.cssText = 'width:' + this._seekerWidth + 'px;height:' + this._seekerHeight + 'px';\n\n        // Use the zoomed image as content for the floated element\n        this.content(this._zoomed);\n\n        // Update the flag to allow to zoom\n        this._loaded = true;\n\n        /**\n         * Event emitted when the zoomed image is downloaded.\n         * @event ch.Zoom#imageload\n         * @example\n         * // Subscribe to \"imageload\" event.\n         * zoom.on('imageload', function () {\n         *     alert('Zoomed image ready!');\n         * });\n         */\n        this.emit('imageload');\n    };\n\n    /**\n     * Calculates movement limits and sets it to Seeker and zoomed image.\n     * @memberof! ch.Zoom.prototype\n     * @function\n     * @private\n     * @param {Event} event Used to take the cursor position.\n     */\n    Zoom.prototype._move = function (event) {\n        // Don't execute when it's disabled or it's not loaded\n        if (!this._enabled || !this._loaded) {\n            return;\n        }\n\n        // By defining these variables in here, it avoids to make\n        // the substraction twice if it's a free movement\n        var pageX = (event.pageX || event.clientX + document.documentElement.scrollLeft),\n            pageY = (event.pageY || event.clientY + document.documentElement.scrollTop),\n            seekerLeft = pageX - this._seekerHalfWidth,\n            seekerTop = pageY - this._seekerHalfHeight,\n            x,\n            y;\n\n        // Left side of seeker LESS THAN left side of image\n        if (seekerLeft <= this._originalOffsetLeft) {\n            x = 0;\n        // Right side of seeker GREATER THAN right side of image\n        } else if (pageX + this._seekerHalfWidth > this._originalWidth + this._originalOffsetLeft) {\n            x = this._originalWidth - this._seekerWidth - 2;\n        // Free move\n        } else {\n            x = seekerLeft - this._originalOffsetLeft;\n        }\n\n        // Top side of seeker LESS THAN top side of image\n        if (seekerTop <= this._originalOffsetTop) {\n            y = 0;\n        // Bottom side of seeker GREATER THAN bottom side of image\n        } else if (pageY + this._seekerHalfHeight > this._originalHeight + this._originalOffsetTop) {\n            y = this._originalHeight - this._seekerHeight - 2;\n        // Free move\n        } else {\n            y = seekerTop - this._originalOffsetTop;\n        }\n\n        // Move seeker and the zoomed image\n        this._seeker.style.left = x + 'px';\n        this._seeker.style.top = y + 'px';\n        this._zoomed.style.cssText = 'left:' + (-this._ratioX * x) + 'px;top:' + (-this._ratioY * y) + 'px';\n    };\n\n    /**\n     * Shows the zoom container and the Seeker, or show a loading feedback until the zoomed image loads.\n     * @memberof! ch.Zoom.prototype\n     * @function\n     * @param {(String | HTMLElement)} [content] The content that will be used by dropdown.\n     * @param {Object} [options] A custom options to be used with content loaded by ajax.\n     * @param {String} [options.method] The type of request (\"POST\" or \"GET\") to load content by ajax. Default: \"GET\".\n     * @param {String} [options.params] Params like query string to be sent to the server.\n     * @param {Boolean} [options.cache] Force to cache the request by the browser. Default: true.\n     * @param {Boolean} [options.async] Force to sent request asynchronously. Default: true.\n     * @param {(String | HTMLElement)} [options.waiting] Temporary content to use while the ajax request is loading.\n     * @returns {zoom}\n     * @example\n     * // Shows a basic zoom.\n     * zoom.show();\n     * @example\n     * // Shows a zoom with new content\n     * zoom.show('Some new content here!');\n     * @example\n     * // Shows a zoom with a new content that will be loaded by ajax with some custom options\n     * zoom.show('http://domain.com/ajax/url', {\n     *     'cache': false,\n     *     'params': 'x-request=true'\n     * });\n     */\n    Zoom.prototype.show = function (content, options) {\n        // Don't execute when it's disabled\n        if (!this._enabled || this._shown) {\n            return this;\n        }\n\n        // Show feedback and trigger the image load, if it's not loaded\n        if (!this._loaded) {\n            tiny.removeClass(this._loading, 'ch-hide');\n            this.loadImage();\n            return this;\n        }\n\n        // Delete the Loading and show the Seeker\n        tiny.removeClass(this._seeker, 'ch-hide');\n\n        // Execute the original show()\n        parent.show.call(this, content, options);\n\n        return this;\n    };\n\n    /**\n     * Hides the zoom container and the Seeker.\n     * @memberof! ch.Zoom.prototype\n     * @function\n     * @returns {zoom}\n     * @example\n     * // Close a zoom\n     * zoom.hide();\n     */\n    Zoom.prototype.hide = function () {\n        if (!this._shown) {\n            return this;\n        }\n\n        // Avoid unnecessary execution\n        if (!this._loaded) {\n            tiny.addClass(this._loading, 'ch-hide');\n            return this;\n        }\n\n        tiny.addClass(this._seeker, 'ch-hide');\n\n        parent.hide.call(this);\n\n        return this;\n    };\n\n    /**\n     * Adds the zoomed image source to the <img> tag to trigger the request.\n     * @memberof! ch.Zoom.prototype\n     * @function\n     * @returns {zoom}\n     * @example\n     * // Load the zoomed image on demand.\n     * component.loadImage();\n     */\n    Zoom.prototype.loadImage = function () {\n\n        this._zoomed.src = this._el.href;\n\n        return this;\n    };\n\n    /**\n     * Destroys a Zoom instance.\n     * @memberof! ch.Zoom.prototype\n     * @function\n     * @returns {zoom}\n     * @example\n     * // Destroy a zoom\n     * zoom.destroy();\n     * // Empty the zoom reference\n     * zoom = undefined;\n     */\n    Zoom.prototype.destroy = function () {\n        var parentElement;\n\n        parentElement = tiny.parent(this._seeker);\n        parentElement.removeChild(this._seeker);\n\n        parent.destroy.call(this);\n\n        return;\n    };\n\n    ch.factory(Zoom, parent._normalizeOptions);\n\n\n    /**\n     * Executes a callback function when the images of a query selection loads.\n     * @private\n     * @param {HTMLImageElement} image An image or a collection of images.\n     * @param {Function} [callback] The handler the component will fire after the images loads.\n     *\n     * @example\n     * onImagesLoads(HTMLImageElement, function () {\n     *     console.log('The size of the loaded image is ' + this.width);\n     * });\n     */\n    function onImagesLoads(image, callback) {\n        var images;\n\n        if (Array.isArray(image)) {\n            images = image;\n        } else {\n            images = [image];\n        }\n\n        images.forEach(function (image) {\n            tiny.on(image, 'load', function onImgLoad() {\n                var len = images.length;\n\n                window.setTimeout(function () {\n                    if (--len <= 0) {\n                        callback.call(image);\n                    }\n                }, 200);\n\n                image.removeEventListener('load', onImgLoad);\n            }, false);\n\n            if (image.complete || image.complete === undefined) {\n                var src = image.src;\n                // Data uri fix bug in web-kit browsers\n                image.src = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==';\n                image.src = src;\n            }\n        });\n    }\n\n}(this, this.ch));\n\n(function (window, ch) {\n    'use strict';\n\n    function normalizeOptions(options) {\n        if (typeof options === 'string' || Array.isArray(options)) {\n            options = {\n                'selected': options\n            };\n        }\n        return options;\n    }\n\n    /**\n     * It lets you move across the months of the year and allow to set dates as selected.\n     * @memberof ch\n     * @constructor\n     * @augments ch.Component\n     * @param {HTMLElement} el A HTMLElement to create an instance of ch.Calendar.\n     * @param {Object} [options] Options to customize an instance.\n     * @param {String} [options.format] Sets the date format. You must use \"DD/MM/YYYY\", \"MM/DD/YYYY\" or \"YYYY/MM/DD\". Default: \"DD/MM/YYYY\".\n     * @param {String} [options.selected] Sets a date that should be selected by default. Default: The date of today.\n     * @param {String} [options.from] Set a minimum selectable date. The format of the given date should be YYYY/MM/DD.\n     * @param {String} [options.to] Set a maximum selectable date. The format of the given date should be YYYY/MM/DD.\n     * @param {Array} [options.monthsNames] A collection of months names. Default: [\"Enero\", ... , \"Diciembre\"].\n     * @param {Array} [options.weekdays] A collection of weekdays. Default: [\"Dom\", ... , \"Sab\"].\n     * @returns {calendar} Returns a new instance of Calendar.\n     * @example\n     * // Create a new Calendar.\n     * var calendar = new ch.Calendar([el], [options]);\n     * @example\n     * // Creates a new Calendar with custom options.\n     * var calendar =  new ch.Calendar({\n     *     'format': 'MM/DD/YYYY',\n     *     'selected': '2011/12/25',\n     *     'from': '2010/12/25',\n     *     'to': '2012/12/25',\n     *     'monthsNames': ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n     *     'weekdays': ['Su', 'Mo', 'Tu', 'We', 'Thu', 'Fr', 'Sa']\n     * });\n     * @example\n     * // Creates a new Calendar using a shorthand way (selected date as parameter).\n     * var calendar = new ch.Calendar('2011/12/25');\n     */\n    function Calendar(el, options) {\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this;\n\n        this._init(el, options);\n\n        if (this.initialize !== undefined) {\n            /**\n             * If you define an initialize method, it will be executed when a new Calendar is created.\n             * @memberof! ch.Calendar.prototype\n             * @function\n             */\n            this.initialize();\n        }\n\n        /**\n         * Event emitted when the component is ready to use.\n         * @event ch.Calendar#ready\n         * @example\n         * // Subscribe to \"ready\" event.\n         * calendar.on('ready', function () {\n         *     // Some code here!\n         * });\n         */\n        window.setTimeout(function () { that.emit('ready'); }, 50);\n    }\n\n    // Inheritance\n    tiny.inherits(Calendar, ch.Component);\n\n    /**\n     * Completes with zero the numbers less than 10.\n     * @function\n     * @private\n     * @returns {String}\n     */\n    var addZero = function (num) {\n            return (parseInt(num, 10) < 10) ? '0' + num : num;\n        },\n\n        /**\n         * Map of date formats.\n         * @type {Object}\n         * @private\n         */\n        FORMAT_dates = {\n\n            /**\n             * Converts a given date to \"YYYY/MM/DD\" format.\n             * @params {Date} date A given date to convert.\n             * @function\n             * @returns {String}\n             */\n            'YYYY/MM/DD': function (date) {\n                return [date.year, addZero(date.month), addZero(date.day)].join('/');\n            },\n\n            /**\n             * Converts a given date to \"DD/MM/YYYY\" format.\n             * @params {Date} date A given date to convert.\n             * @function\n             * @returns {String}\n             */\n            'DD/MM/YYYY': function (date) {\n                return [addZero(date.day), addZero(date.month), date.year].join('/');\n            },\n\n            /**\n             * Converts a given date to \"MM/DD/YYYY\" format.\n             * @params {Date} date A given date to convert.\n             * @function\n             * @returns {String}\n             */\n            'MM/DD/YYYY': function (date) {\n                return [addZero(date.month), addZero(date.day), date.year].join('/');\n            }\n        },\n\n        /**\n         * Creates a JSON Object with reference to day, month and year, from a determinated date.\n         * @function\n         * @private\n         * @returns {Object}\n         */\n        createDateObject = function (date) {\n\n            // Uses date parameter or create a date from today\n            date = (date === 'today') ? new Date() : new Date(date);\n\n            /**\n             * Returned custom Date object.\n             * @type {Object}\n             * @private\n             */\n            return {\n\n                /**\n                 * Reference to native Date object.\n                 * @type {Date}\n                 * @private\n                 */\n                'native': date,\n\n                /**\n                 * Number of day.\n                 * @type {Number}\n                 * @private\n                 */\n                'day': date.getDate(),\n\n                /**\n                 * Order of day in a week.\n                 * @type {Number}\n                 * @private\n                 */\n                'order': date.getDay(),\n\n                /**\n                 * Number of month.\n                 * @type {Number}\n                 * @private\n                 */\n                'month': date.getMonth() + 1,\n\n                /**\n                 * Number of full year.\n                 * @type {Number}\n                 * @private\n                 */\n                'year': date.getFullYear()\n            };\n        },\n\n        parent = Calendar.super_.prototype;\n\n    /**\n     * The name of the component.\n     * @memberof! ch.Calendar.prototype\n     * @type {String}\n     */\n    Calendar.prototype.name = 'calendar';\n\n    /**\n     * Returns a reference to the constructor function.\n     * @memberof! ch.Calendar.prototype\n     * @function\n     */\n    Calendar.prototype.constructor = Calendar;\n\n    /**\n     * Configuration by default.\n     * @type {Object}\n     * @private\n     */\n    Calendar.prototype._defaults = {\n        'monthsNames': ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],\n        'weekdays': ['Dom', 'Lun', 'Mar', 'Mie', 'Jue', 'Vie', 'Sab'],\n        'format': 'DD/MM/YYYY'\n    };\n\n    /**\n     * Initialize a new instance of Calendar and merge custom options with defaults options.\n     * @memberof! ch.Calendar.prototype\n     * @function\n     * @private\n     * @returns {calendar}\n     */\n    Calendar.prototype._init = function (el, options) {\n        // Call to its parent init method\n        parent._init.call(this, el, options);\n\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this;\n\n        // cloneNode(true) > parameters is required. Opera & IE throws and internal error. Opera mobile breaks.\n        this._snippet = this._el.cloneNode(true);\n\n        /**\n         * Object to mange the date and its ranges.\n         * @type {Object}\n         * @private\n         */\n        this._dates = {\n            'range': {}\n        };\n\n        this._dates.today = createDateObject('today');\n\n        this._dates.current = this._dates.today;\n\n        /**\n         * Date of selected day.\n         * @type {Object}\n         * @private\n         */\n        this._dates.selected = (function () {\n\n            // Get date from configuration or input value, if configured could be an Array with multiple selections\n            var selected = that._options.selected;\n\n            // Do it only if there are a \"selected\" parameter\n            if (!selected) { return selected; }\n\n            // Simple date selection\n            if (!Array.isArray(selected)) {\n\n                if (selected !== 'today') {\n                    // Return date object and update currentDate\n                    selected = that._dates.current = createDateObject(selected);\n\n                } else {\n                    selected = that._dates.today;\n                }\n\n            // Multiple date selection\n            } else {\n                selected.forEach(function (e, i){\n                    // Simple date\n                    if (!Array.isArray(e)) {\n                        selected[i] = (selected[i] !== 'today') ? createDateObject(e) : that._dates.today;\n                    // Range\n                    } else {\n                        selected[i][0] = (selected[i][0] !== 'today') ? createDateObject(e[0]) : that._dates.today;\n                        selected[i][1] = (selected[i][1] !== 'today') ? createDateObject(e[1]) : that._dates.today;\n                    }\n                });\n            }\n\n            return selected;\n        }());\n\n        // Today's date object\n        this._dates.today = createDateObject('today');\n\n        // Minimum selectable date\n        this._dates.range.from = (function () {\n\n            // Only works when there are a \"from\" parameter on configuration\n            if (that._options.from === undefined || !that._options.from) { return; }\n\n            // Return date object\n            return (that._options.from === 'today') ? that._dates.today : createDateObject(that._options.from);\n\n        }());\n\n        // Maximum selectable date\n        this._dates.range.to = (function () {\n\n            // Only works when there are a \"to\" parameter on configuration\n            if (that._options.to === undefined || !that._options.to) { return; }\n\n            // Return date object\n            return (that._options.to === 'today') ? that._dates.today : createDateObject(that._options.to);\n\n        }());\n\n        /**\n         * Template of previous arrow.\n         * @type {HTMLDivElement}\n         */\n        this._prev = document.createElement('div');\n        this._prev.setAttribute('aria-controls', 'ch-calendar-grid-' + this.uid);\n        this._prev.setAttribute('role', 'button');\n        this._prev.setAttribute('aria-hidden', 'false');\n        tiny.addClass(this._prev, 'ch-calendar-prev');\n\n        /**\n         * Template of next arrow.\n         * @type {HTMLDivElement}\n         */\n        this._next = document.createElement('div');\n        this._next.setAttribute('aria-controls', 'ch-calendar-grid-' + this.uid);\n        this._next.setAttribute('role', 'button');\n        this._next.setAttribute('aria-hidden', 'false');\n        tiny.addClass(this._next, 'ch-calendar-next');\n\n\n        // Show or hide arrows depending on \"from\" and \"to\" limits\n        tiny.on(this._prev, ch.onpointertap, function (event) {\n            event.preventDefault();\n            that.prevMonth();\n        });\n        tiny.on(this._next, ch.onpointertap, function (event) {\n            event.preventDefault();\n            that.nextMonth();\n        });\n\n        /**\n         * The calendar container.\n         * @type {HTMLElement}\n         */\n        this.container = this._el;\n        this.container.insertBefore(this._prev, this.container.firstChild);\n        this.container.insertBefore(this._next, this.container.firstChild);\n        tiny.addClass(this.container, 'ch-calendar');\n        this.container.insertAdjacentHTML('beforeend', this._createTemplate(this._dates.current));\n\n        this._updateControls();\n\n        // Avoid selection on the component\n        that.container.setAttribute('unselectable', 'on');\n        tiny.addClass(that.container, 'ch-user-no-select');\n\n        return this;\n    };\n\n    /**\n     * Checks if it has got a previous month to show depending on \"from\" limit.\n     * @function\n     * @private\n     */\n    Calendar.prototype._hasPrevMonth = function () {\n        return this._dates.range.from === undefined || !(this._dates.range.from.month >= this._dates.current.month && this._dates.range.from.year >= this._dates.current.year);\n    };\n\n    /**\n     * Checks if it has got a next month to show depending on \"to\" limits.\n     * @function\n     * @private\n     */\n    Calendar.prototype._hasNextMonth = function () {\n        return this._dates.range.to === undefined || !(this._dates.range.to.month <= this._dates.current.month && this._dates.range.to.year <= this._dates.current.year);\n    };\n\n    /**\n     * Refresh arrows visibility depending on \"from\" and \"to\" limits.\n     * @function\n     * @private\n     */\n    Calendar.prototype._updateControls = function () {\n\n        // Show previous arrow when it's out of limit\n        if (this._hasPrevMonth()) {\n            tiny.removeClass(this._prev, 'ch-hide');\n            this._prev.setAttribute('aria-hidden', 'false');\n\n        // Hide previous arrow when it's out of limit\n        } else {\n            tiny.addClass(this._prev, 'ch-hide');\n            this._prev.setAttribute('aria-hidden', 'true');\n        }\n\n        // Show next arrow when it's out of limit\n        if (this._hasNextMonth()) {\n            tiny.removeClass(this._next, 'ch-hide');\n            this._next.setAttribute('aria-hidden', 'false');\n\n        // Hide next arrow when it's out of limit\n        } else {\n            tiny.addClass(this._next, 'ch-hide');\n            this._next.setAttribute('aria-hidden', 'true');\n        }\n\n        return this;\n    };\n\n    /**\n     * Refresh the structure of Calendar's table with a new date.\n     * @function\n     * @private\n     */\n    Calendar.prototype._updateTemplate = function (date) {\n        var month;\n\n        // Update \"currentDate\" object\n        this._dates.current = (typeof date === 'string') ? createDateObject(date) : date;\n\n        // Delete old table\n        month = this.container.querySelector('table');\n        this.container.removeChild(month);\n\n        // Append new table to content\n        this.container.insertAdjacentHTML('beforeend', this._createTemplate(this._dates.current));\n\n        // Refresh arrows\n        this._updateControls();\n\n        return this;\n    };\n\n    /**\n     * Creates a complete month in a table.\n     * @function\n     * @private\n     */\n    Calendar.prototype._createTemplate = function (date) {\n\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this,\n            cell,\n            positive,\n            day,\n            isSelected,\n            thead = (function () {\n\n                // Create thead structure\n                var t = ['<thead><tr role=\"row\">'],\n                    dayIndex;\n\n                // Add week names\n                for (dayIndex = 0; dayIndex < 7; dayIndex += 1) {\n                    t.push('<th role=\"columnheader\">' + that._defaults.weekdays[dayIndex] + '</th>');\n                }\n\n                // Close thead structure\n                t.push('</tr></thead>');\n\n                // Join structure and return\n                return t.join('');\n\n            }()),\n\n            table = [\n                '<table class=\"ch-calendar-month\" role=\"grid\" id=\"ch-calendar-grid-' + that.uid + '\">',\n                '<caption>' + that._defaults.monthsNames[date.month - 1] + ' - ' + date.year + '</caption>',\n                thead\n            ],\n\n            // Total amount of days into month\n            cells = (function () {\n\n                // Amount of days of current month\n                var currentMonth = new Date(date.year, date.month, 0).getDate(),\n\n                // Amount of days of previous month\n                    prevMonth = new Date([date.year, date.month, '01'].join('/')).getDay(),\n\n                // Merge amount of previous and current month\n                    subtotal = prevMonth + currentMonth,\n\n                // Amount of days into last week of month\n                    latest = subtotal % 7,\n\n                // Amount of days of next month\n                    nextMonth = (latest > 0) ? 7 - latest : 0;\n\n                return {\n                    'previous': prevMonth,\n                    'subtotal': subtotal,\n                    'total': subtotal + nextMonth\n                };\n\n            }());\n\n        table.push('<tbody><tr class=\"ch-calendar-week\" role=\"row\">');\n\n        // Iteration of weekdays\n        for (cell = 0; cell < cells.total; cell += 1) {\n\n            // Push an empty cell on previous and next month\n            if (cell < cells.previous || cell > cells.subtotal - 1) {\n                table.push('<td role=\"gridcell\" class=\"ch-calendar-other\">X</td>');\n            } else {\n\n                // Positive number of iteration\n                positive = cell + 1;\n\n                // Day number\n                day = positive - cells.previous;\n\n                // Define if it's the day selected\n                isSelected = this._isSelected(date.year, date.month, day);\n\n                // Create cell\n                table.push(\n                    // Open cell structure including WAI-ARIA and classnames space opening\n                    '<td role=\"gridcell\"' + (isSelected ? ' aria-selected=\"true\"' : '') + ' class=\"ch-calendar-day',\n\n                    // Add Today classname if it's necesary\n                    (date.year === that._dates.today.year && date.month === that._dates.today.month && day === that._dates.today.day) ? ' ch-calendar-today' : null,\n\n                    // Add Selected classname if it's necesary\n                    (isSelected ? ' ch-calendar-selected ' : null),\n\n                    // From/to range. Disabling cells\n                    (\n                        // Disable cell if it's out of FROM range\n                        (that._dates.range.from && day < that._dates.range.from.day && date.month === that._dates.range.from.month && date.year === that._dates.range.from.year) ||\n\n                        // Disable cell if it's out of TO range\n                        (that._dates.range.to && day > that._dates.range.to.day && date.month === that._dates.range.to.month && date.year === that._dates.range.to.year)\n\n                    ) ? ' ch-calendar-disabled' : null,\n\n                    // Close classnames attribute and print content closing cell structure\n                    '\">' + day + '</td>'\n                );\n\n                // Cut week if there are seven days\n                if (positive % 7 === 0) {\n                    table.push('</tr><tr class=\"ch-calendar-week\" role=\"row\">');\n                }\n\n            }\n\n        }\n\n        table.push('</tr></tbody></table>');\n\n        // Return table object\n        return table.join('');\n\n    };\n\n    /**\n     * Checks if a given date is into 'from' and 'to' dates.\n     * @function\n     * @private\n     */\n    Calendar.prototype._isInRange = function (date) {\n        var inRangeFrom = true,\n            inRangeTo = true;\n\n        if (this._dates.range.from) {\n            inRangeFrom = (this._dates.range.from.native <= date.native);\n        }\n\n        if (this._dates.range.to) {\n            inRangeTo = (this._dates.range.to.native >= date.native);\n        }\n\n        return inRangeFrom && inRangeTo;\n    };\n\n    /**\n     * Indicates if an specific date is selected or not (including date ranges and simple dates).\n     * @function\n     * @private\n     */\n    Calendar.prototype._isSelected = function (year, month, day) {\n        var yepnope;\n\n        if (!this._dates.selected) { return; }\n\n        yepnope = false;\n\n        // Simple selection\n        if (!Array.isArray(this._dates.selected)) {\n            if (year === this._dates.selected.year && month === this._dates.selected.month && day === this._dates.selected.day) {\n                yepnope = true;\n                return yepnope;\n            }\n\n        // Multiple selection (ranges)\n        } else {\n            this._dates.selected.forEach(function (e) {\n                // Simple date\n                if (!Array.isArray(e)) {\n                    if (year === e.year && month === e.month && day === e.day) {\n                        yepnope = true;\n                        return yepnope;\n                    }\n                // Range\n                } else {\n                    if (\n                        (year >= e[0].year && month >= e[0].month && day >= e[0].day) &&\n                            (year <= e[1].year && month <= e[1].month && day <= e[1].day)\n                    ) {\n                        yepnope = true;\n                        return yepnope;\n                    }\n                }\n            });\n        }\n\n        return yepnope;\n    };\n\n    /**\n     * Selects a specific date or returns the selected date.\n     * @memberof! ch.Calendar.prototype\n     * @function\n     * @param {String} [date] A given date to select. The format of the given date should be \"YYYY/MM/DD\".\n     * @returns {calendar}\n     * @example\n     * // Returns the selected date.\n     * calendar.select();\n     * @example\n     * // Select a specific date.\n     * calendar.select('2014/05/28');\n     */\n    Calendar.prototype.select = function (date) {\n        // Getter\n        if (!date) {\n            if (this._dates.selected === undefined) {\n                return;\n            }\n            return FORMAT_dates[this._options.format](this._dates.selected);\n        }\n\n        // Setter\n        var newDate = createDateObject(date);\n\n\n        if (!this._isInRange(newDate)) {\n            return this;\n        }\n\n        // Update selected date\n        this._dates.selected = (date === 'today') ? this._dates.today : newDate;\n\n        // Create a new table of selected month\n        this._updateTemplate(this._dates.selected);\n\n        /**\n         * Event emitted when a date is selected.\n         * @event ch.Calendar#select\n         * @example\n         * // Subscribe to \"select\" event.\n         * calendar.on('select', function () {\n         *     // Some code here!\n         * });\n         */\n        this.emit('select');\n\n        return this;\n    };\n\n    /**\n     * Returns date of today\n     * @memberof! ch.Calendar.prototype\n     * @function\n     * @returns {String} The date of today\n     * @example\n     * // Get the date of today.\n     * var today = calendar.getToday();\n     */\n    Calendar.prototype.getToday = function () {\n        return FORMAT_dates[this._options.format](this._dates.today);\n    };\n\n    /**\n     * Moves to the next month.\n     * @memberof! ch.Calendar.prototype\n     * @function\n     * @returns {calendar}\n     * @example\n     * // Moves to the next month.\n     * calendar.nextMonth();\n     */\n    Calendar.prototype.nextMonth = function () {\n        if (!this._enabled || !this._hasNextMonth()) {\n            return this;\n        }\n\n        // Next year\n        if (this._dates.current.month === 12) {\n            this._dates.current.month = 0;\n            this._dates.current.year += 1;\n        }\n\n        // Create a new table of selected month\n        this._updateTemplate([this._dates.current.year, this._dates.current.month + 1, '01'].join('/'));\n\n        /**\n         * Event emitted when a next month is shown.\n         * @event ch.Calendar#nextmonth\n         * @example\n         * // Subscribe to \"nextmonth\" event.\n         * calendar.on('nextmonth', function () {\n         *     // Some code here!\n         * });\n         */\n        this.emit('nextmonth');\n\n        return this;\n    };\n\n    /**\n     * Move to the previous month.\n     * @memberof! ch.Calendar.prototype\n     * @function\n     * @returns {calendar}\n     * @example\n     * // Moves to the prev month.\n     * calendar.prevMonth();\n     */\n    Calendar.prototype.prevMonth = function () {\n\n        if (!this._enabled || !this._hasPrevMonth()) {\n            return this;\n        }\n\n        // Previous year\n        if (this._dates.current.month === 1) {\n            this._dates.current.month = 13;\n            this._dates.current.year -= 1;\n        }\n\n        // Create a new table to the prev month\n        this._updateTemplate([this._dates.current.year, this._dates.current.month - 1, '01'].join('/'));\n\n        /**\n         * Event emitted when a previous month is shown.\n         * @event ch.Calendar#prevmonth\n         * @example\n         * // Subscribe to \"prevmonth\" event.\n         * calendar.on('prevmonth', function () {\n         *     // Some code here!\n         * });\n         */\n        this.emit('prevmonth');\n\n        return this;\n    };\n\n    /**\n     * Move to the next year.\n     * @memberof! ch.Calendar.prototype\n     * @function\n     * @returns {calendar}\n     * @example\n     * // Moves to the next year.\n     * calendar.nextYear();\n     */\n    Calendar.prototype.nextYear = function () {\n\n        if (!this._enabled || !this._hasNextMonth()) {\n            return this;\n        }\n\n        // Create a new table of selected month\n        this._updateTemplate([this._dates.current.year + 1, this._dates.current.month, '01'].join('/'));\n\n        /**\n         * Event emitted when a next year is shown.\n         * @event ch.Calendar#nextyear\n         * @example\n         * // Subscribe to \"nextyear\" event.\n         * calendar.on('nextyear', function () {\n         *     // Some code here!\n         * });\n         */\n        this.emit('nextyear');\n\n        return this;\n    };\n\n    /**\n     * Move to the previous year.\n     * @memberof! ch.Calendar.prototype\n     * @function\n     * @returns {calendar}\n     * @example\n     * // Moves to the prev year.\n     * calendar.prevYear();\n     */\n    Calendar.prototype.prevYear = function () {\n\n        if (!this._enabled || !this._hasPrevMonth()) {\n            return this;\n        }\n\n        // Create a new table to the prev year\n        this._updateTemplate([this._dates.current.year - 1, this._dates.current.month, '01'].join('/'));\n\n        /**\n         * Event emitted when a previous year is shown.\n         * @event ch.Calendar#prevyear\n         * @example\n         * // Subscribe to \"prevyear\" event.\n         * calendar.on('prevyear', function () {\n         *     // Some code here!\n         * });\n         */\n        this.emit('prevyear');\n\n        return this;\n    };\n\n    /**\n     * Set a minimum selectable date.\n     * @memberof! ch.Calendar.prototype\n     * @function\n     * @param {String} date A given date to set as minimum selectable date. The format of the given date should be \"YYYY/MM/DD\".\n     * @returns {calendar}\n     * @example\n     * // Set a minimum selectable date.\n     * calendar.setFrom('2010/05/28');\n     */\n    Calendar.prototype.setFrom = function (date) {\n        // this from is a reference to the global form\n        this._dates.range.from = (date === 'auto') ? undefined : createDateObject(date);\n        this._updateTemplate(this._dates.current);\n\n        return this;\n    };\n\n    /**\n     * Set a maximum selectable date.\n     * @memberof! ch.Calendar.prototype\n     * @function\n     * @param {String} date A given date to set as maximum selectable date. The format of the given date should be \"YYYY/MM/DD\".\n     * @returns {calendar}\n     * @example\n     * // Set a maximum selectable date.\n     * calendar.setTo('2014/05/28');\n     */\n    Calendar.prototype.setTo = function (date) {\n        // this to is a reference to the global to\n        this._dates.range.to = (date === 'auto') ? undefined : createDateObject(date);\n        this._updateTemplate(this._dates.current);\n\n        return this;\n    };\n\n    /**\n     * Destroys a Calendar instance.\n     * @memberof! ch.Calendar.prototype\n     * @function\n     * @example\n     * // Destroy a calendar\n     * calendar.destroy();\n     * // Empty the calendar reference\n     * calendar = undefined;\n     */\n    Calendar.prototype.destroy = function () {\n\n        this._el.parentNode.replaceChild(this._snippet, this._el);\n\n        tiny.trigger(window.document, ch.onlayoutchange);\n\n        parent.destroy.call(this);\n\n        return;\n    };\n\n    // Factorize\n    ch.factory(Calendar, normalizeOptions);\n\n}(this, this.ch));\n\n(function (window, ch) {\n    'use strict';\n\n    /**\n     * Dropdown shows a list of options for navigation.\n     * @memberof ch\n     * @constructor\n     * @augments ch.Layer\n     * @param {HTMLElement} el A HTMLElement to create an instance of ch.Dropdown.\n     * @param {Object} [options] Options to customize an instance.\n     * @param {String} [options.addClass] CSS class names that will be added to the container on the component initialization.\n     * @param {String} [options.fx] Enable or disable UI effects. You must use: \"slideDown\", \"fadeIn\" or \"none\". Default: \"none\".\n     * @param {String} [options.width] Set a width for the container. Default: \"auto\".\n     * @param {String} [options.height] Set a height for the container. Default: \"auto\".\n     * @param {String} [options.shownby] Determines how to interact with the trigger to show the container. You must use: \"pointertap\", \"pointerenter\" or \"none\". Default: \"pointertap\".\n     * @param {String} [options.hiddenby] Determines how to hide the component. You must use: \"button\", \"pointers\", \"pointerleave\", \"all\" or \"none\". Default: \"pointers\".\n     * @param {HTMLElement} [options.reference] It's a reference to position and size of element that will be considered to carry out the position. Default: the trigger element.\n     * @param {String} [options.side] The side option where the target element will be positioned. Its value can be: \"left\", \"right\", \"top\", \"bottom\" or \"center\". Default: \"bottom\".\n     * @param {String} [options.align] The align options where the target element will be positioned. Its value can be: \"left\", \"right\", \"top\", \"bottom\" or \"center\". Default: \"left\".\n     * @param {Number} [options.offsetX] The offsetX option specifies a distance to displace the target horizontally. Default: 0.\n     * @param {Number} [options.offsetY] The offsetY option specifies a distance to displace the target vertically. Default: -1.\n     * @param {String} [options.position] The position option specifies the type of positioning used. Its value must be \"absolute\" or \"fixed\". Default: \"absolute\".\n     * @param {String} [options.method] The type of request (\"POST\" or \"GET\") to load content by ajax. Default: \"GET\".\n     * @param {String} [options.params] Params like query string to be sent to the server.\n     * @param {Boolean} [options.cache] Force to cache the request by the browser. Default: true.\n     * @param {Boolean} [options.async] Force to sent request asynchronously. Default: true.\n     * @param {(String | HTMLElement)} [options.waiting] Temporary content to use while the ajax request is loading. Default: '&lt;div class=\"ch-loading ch-loading-centered\"&gt;&lt;/div&gt;'.\n     * @param {Boolean} [options.skin] Sets a CSS class name to the trigger and container to get a variation of Dropdown. Default: false.\n     * @param {Boolean} [options.shortcuts] Configures navigation shortcuts. Default: true.\n     * @param {(String | HTMLElement)} [options.content] The content to be shown into the Dropdown container.\n     * @returns {dropdown} Returns a new instance of Dropdown.\n     * @example\n     * // Create a new Dropdown.\n     * var dropdown = new ch.Dropdown([el], [options]);\n     * @example\n     * // Create a new skinned Dropdown.\n     * var dropdown = new ch.Dropdown({\n     *     'skin': true\n     * });\n     */\n    function Dropdown(el, options) {\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this;\n\n        this._init(el, options);\n\n        if (this.initialize !== undefined) {\n            /**\n             * If you define an initialize method, it will be executed when a new Dropdown is created.\n             * @memberof! ch.Dropdown.prototype\n             * @function\n             */\n            this.initialize();\n        }\n\n        /**\n         * Event emitted when the component is ready to use.\n         * @event ch.Dropdown#ready\n         * @example\n         * // Subscribe to \"ready\" event.\n         * dropdown.on('ready', function () {\n         *     // Some code here!\n         * });\n         */\n        window.setTimeout(function () { that.emit('ready'); }, 50);\n    }\n\n    // Inheritance\n    tiny.inherits(Dropdown, ch.Layer);\n\n    var parent = Dropdown.super_.prototype;\n\n    /**\n     * The name of the component.\n     * @memberof! ch.Dropdown.prototype\n     * @type {String}\n     */\n    Dropdown.prototype.name = 'dropdown';\n\n    /**\n     * Returns a reference to the constructor function.\n     * @memberof! ch.Dropdown.prototype\n     * @function\n     */\n    Dropdown.prototype.constructor = Dropdown;\n\n    /**\n     * Configuration by default.\n     * @memberof! ch.Dropdown.prototype\n     * @type {Object}\n     * @private\n     */\n    Dropdown.prototype._defaults = tiny.extend(tiny.clone(parent._defaults), {\n        '_className': 'ch-dropdown ch-box-lite',\n        '_ariaRole': 'combobox',\n        'fx': 'none',\n        'shownby': 'pointertap',\n        'hiddenby': 'pointers',\n        'offsetY': -1,\n        'skin': false,\n        'shortcuts': true\n    });\n\n    /**\n     * Initialize a new instance of Dropdown and merge custom options with defaults options.\n     * @memberof! ch.Dropdown.prototype\n     * @function\n     * @private\n     * @returns {dropdown}\n     */\n    Dropdown.prototype._init = function (el, options) {\n        // Call to its parent init method\n        parent._init.call(this, el, options);\n\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this,\n            // The second element of the HTML snippet (the dropdown content)\n            content = tiny.next(this.trigger);\n\n        /**\n         * The dropdown trigger. It's the element that will show and hide the container.\n         * @type {HTMLElement}\n         */\n        this.trigger.setAttribute('aria-activedescendant', 'ch-dropdown' + this.uid + '-selected');\n        tiny.addClass(this.trigger, 'ch-dropdown-trigger');\n\n        this.trigger.setAttribute('unselectable', 'on');\n        tiny.addClass(this.trigger, 'ch-user-no-select');\n\n        // Skinned dropdown\n        if (this._options.skin) {\n            tiny.addClass(this.trigger, 'ch-dropdown-trigger-skin');\n            tiny.addClass(this.container, 'ch-dropdown-skin');\n        // Default Skin\n        } else {\n            tiny.addClass(this.trigger, 'ch-btn-skin');\n            tiny.addClass(this.trigger, 'ch-btn-small');\n        }\n\n        /**\n         * A list of links with the navigation options of the component.\n         * @type {NodeList}\n         * @private\n         */\n        this._navigation = (function () {\n            var items = content.querySelectorAll('a');\n            Array.prototype.forEach.call(items, function (item, index) {\n                item.setAttribute('role', 'option');\n                tiny.on(item, ch.onpointerenter, function () {\n                    that._navigation[that._selected = index].focus();\n                });\n            });\n            return items;\n        }());\n\n\n        if (this._options.shortcuts && this._navigationShortcuts !== undefined) {\n            this._navigationShortcuts();\n        }\n\n        this._options.content = content;\n\n        /**\n         * The original and entire element and its state, before initialization.\n         * @private\n         * @type {HTMLElement}\n         */\n        // cloneNode(true) > parameters is required. Opera & IE throws and internal error. Opera mobile breaks.\n        this._snippet = this._options.content.cloneNode(true);\n\n        return this;\n    };\n\n    /**\n     * Shows the dropdown container.\n     * @memberof! ch.Dropdown.prototype\n     * @function\n     * @param {(String | HTMLElement)} [content] The content that will be used by dropdown.\n     * @param {Object} [options] A custom options to be used with content loaded by ajax.\n     * @param {String} [options.method] The type of request (\"POST\" or \"GET\") to load content by ajax. Default: \"GET\".\n     * @param {String} [options.params] Params like query string to be sent to the server.\n     * @param {Boolean} [options.cache] Force to cache the request by the browser. Default: true.\n     * @param {Boolean} [options.async] Force to sent request asynchronously. Default: true.\n     * @param {(String | HTMLElement)} [options.waiting] Temporary content to use while the ajax request is loading.\n     * @returns {dropdown}\n     * @example\n     * // Shows a basic dropdown.\n     * dropdown.show();\n     * @example\n     * // Shows a dropdown with new content\n     * dropdown.show('Some new content here!');\n     * @example\n     * // Shows a dropdown with a new content that will be loaded by ajax with some custom options\n     * dropdown.show('http://domain.com/ajax/url', {\n     *     'cache': false,\n     *     'params': 'x-request=true'\n     * });\n     */\n    Dropdown.prototype.show = function (content, options) {\n        // Don't execute when it's disabled\n        if (!this._enabled) {\n            return this;\n        }\n\n        // Execute the original show()\n        parent.show.call(this, content, options);\n\n        this._selected = -1;\n\n        return this;\n    };\n\n    /**\n     * Destroys a Dropdown instance.\n     * @memberof! ch.Dropdown.prototype\n     * @function\n     * @example\n     * // Destroy a dropdown\n     * dropdown.destroy();\n     * // Empty the dropdown reference\n     * dropdown = undefined;\n     */\n    Dropdown.prototype.destroy = function () {\n        var trigger = this.trigger;\n\n        [\n            'ch-dropdown-trigger',\n            'ch-dropdown-trigger-skin',\n            'ch-user-no-select',\n            'ch-btn-skin',\n            'ch-btn-small'\n        ].forEach(function(className){\n            tiny.removeClass(trigger, className);\n        });\n\n        trigger.removeAttribute('unselectable');\n        trigger.removeAttribute('aria-controls');\n\n        trigger.insertAdjacentHTML('afterend', this._snippet);\n\n        tiny.trigger(window.document, ch.onlayoutchange);\n\n        parent.destroy.call(this);\n\n        return;\n    };\n\n    ch.factory(Dropdown);\n\n}(this, this.ch));\n\n(function (ch) {\n    'use strict';\n\n    /**\n     * Highlights the current option when navigates by keyboard.\n     * @function\n     * @private\n     */\n    ch.Dropdown.prototype._highlightOption = function (key) {\n\n        var optionsLength = this._navigation.length;\n\n        if (!this._shown) { return; }\n\n        // Sets limits behavior\n        if (this._selected === (key === ch.onkeydownarrow ? optionsLength - 1 : 0)) { return; }\n\n        // Unselects current option\n        if (this._selected !== -1) {\n            this._navigation[this._selected].blur();\n            this._navigation[this._selected].removeAttribute('id');\n        }\n\n        if (key === ch.onkeydownarrow) { this._selected += 1; } else { this._selected -= 1; }\n\n        // Selects new current option\n        this._navigation[this._selected].focus();\n        this._navigation[this._selected].id = 'ch-dropdown' + this.uid + '-selected';\n    };\n\n    /**\n     * Add handlers to manage the keyboard on Dropdown navigation.\n     * @function\n     * @private\n     */\n    ch.Dropdown.prototype._navigationShortcuts = function () {\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this;\n\n        ch.shortcuts.add(ch.onkeyuparrow, this.uid, function (event) {\n            // Prevent default behavior\n            event.preventDefault();\n\n            that._highlightOption(event.shortcut);\n        });\n\n        ch.shortcuts.add(ch.onkeydownarrow, this.uid, function (event) {\n            // Prevent default behavior\n            event.preventDefault();\n\n            that._highlightOption(event.shortcut);\n        });\n\n        this.once('destroy', function () {\n            ch.shortcuts.remove(ch.onkeyuparrow, that.uid);\n            ch.shortcuts.remove(ch.onkeydownarrow, that.uid);\n        });\n\n        return this;\n    };\n\n}(this.ch));\n\n(function (window, ch) {\n    'use strict';\n\n    /**\n     * Tabs lets you create tabs for static and dynamic content.\n     * @memberof ch\n     * @constructor\n     * @augments ch.Component\n     * @requires ch.Expandable\n     * @param {HTMLElement} el A HTMLElement to create an instance of ch.Tabs.\n     * @param {Object} [options] Options to customize an instance.\n     * @returns {tabs} Returns a new instance of Tabs.\n     * @example\n     * // Create a new Tabs.\n     * var tabs = new ch.Tabs(el);\n     */\n    function Tabs(el, options) {\n\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this;\n\n        this._init(el, options);\n\n        if (this.initialize !== undefined) {\n            /**\n             * If you define an initialize method, it will be executed when a new Tabs is created.\n             * @memberof! ch.Tabs.prototype\n             * @function\n             */\n            this.initialize();\n        }\n\n        /**\n         * Emits the event 'ready' when the component is ready to use.\n         * @event ch.Tabs#ready\n         * @example\n         * // Subscribe to \"ready\" event.\n         * tabs.on('ready',function () {\n         *     this.show();\n         * });\n         */\n        window.setTimeout(function () { that.emit('ready'); }, 50);\n    }\n\n    // Inheritance\n    tiny.inherits(Tabs, ch.Component);\n\n    // Inheritance\n    var parent = Tabs.super_.prototype,\n\n        location = window.location,\n\n        // Creates methods enable and disable into the prototype.\n        methods = ['enable', 'disable'],\n        len = methods.length,\n\n        // Regular expresion to get hash\n        hashRegExp = new RegExp('\\\\#!?\\\\/?(.[^\\\\?|\\\\&|\\\\s]+)');\n\n    function createMethods(method) {\n        Tabs.prototype[method] = function (tab) {\n            var i;\n\n            // Enables or disables an specifc tab panel\n            if (tab !== undefined) {\n                this.tabpanels[tab - 1][method]();\n\n            // Enables or disables Tabs\n            } else {\n\n                i = this.tabpanels.length;\n\n                while (i) {\n                    this.tabpanels[i -= 1][method]();\n                }\n\n                // Executes parent method\n                parent[method].call(this);\n\n                // Updates \"aria-disabled\" attribute\n                this._el.setAttribute('aria-disabled', !this._enabled);\n            }\n\n            return this;\n        };\n    }\n\n    /**\n     * The name of the component.\n     * @memberof! ch.Tabs.prototype\n     * @type {String}\n     * @example\n     * // You can reach the associated instance.\n     * var tabs = $(selector).data('tabs');\n     */\n    Tabs.prototype.name = 'tabs';\n\n    /**\n     * Returns a reference to the constructor function.\n     * @memberof! ch.Tabs.prototype\n     * @function\n     */\n    Tabs.prototype.constructor = Tabs;\n\n    /**\n     * Initialize a new instance of Tabs and merge custom options with defaults options.\n     * @memberof! ch.Tabs.prototype\n     * @function\n     * @private\n     * @returns {tabs}\n     */\n    Tabs.prototype._init = function (el, options) {\n        parent._init.call(this, el, options);\n\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this;\n\n        /**\n        * The actual location hash, is used to know if there's a specific tab panel shwown.\n        * @type {String}\n        * @private\n        */\n        this._currentHash = (function () {\n            var hash = location.hash.match(hashRegExp);\n            return (hash !== null) ? hash[1] : '';\n        }());\n\n        // cloneNode(true) > parameters is required. Opera & IE throws and internal error. Opera mobile breaks.\n        this._snippet = this._el.cloneNode(true);\n\n        /**\n         * The tabs container.\n         * @type {HTMLElement}\n         */\n        this.container = this._el;\n        tiny.addClass(this.container, 'ch-tabs');\n\n        /**\n         * The tabs triggers.\n         * @type {HTMLElement}\n         */\n        this.triggers = this.container.children[0];\n        this.triggers.setAttribute('role', 'tablist');\n        tiny.addClass(this.triggers, 'ch-tabs-triggers');\n\n        /**\n         * A collection of tab panel.\n         * @type {Array}\n         */\n        this.tabpanels = [];\n\n        /**\n         * The container of tab panels.\n         * @type {HTMLElement}\n         */\n        this.panel = this.container.children[1];\n        this.panel.setAttribute('role', 'presentation');\n        tiny.addClass(this.panel, 'ch-tabs-panel');\n        tiny.addClass(this.panel, 'ch-box-lite');\n\n\n        /**\n         * The tab panel's containers.\n         * @type {HTMLElement}\n         * @private\n         */\n        this._tabsPanels = this.panel.children;\n\n        // Creates tab\n        Array.prototype.forEach.call(this.triggers.getElementsByTagName('a'), function (el, index) {\n            that._createTab(index, el);\n        });\n\n        // Set the default shown tab.\n        this._shown = 1;\n\n        // Checks if the url has a hash to shown the associated tab.\n        this._hasHash();\n\n        return this;\n    };\n\n    /**\n     * Create tab panels.\n     * @function\n     * @private\n     */\n    Tabs.prototype._createTab = function (i, e) {\n\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this,\n            tab,\n\n            panel = this._tabsPanels[i],\n\n            // Create Tab panel's options\n            options = {\n                '_classNameIcon': null,\n                '_classNameTrigger': 'ch-tab',\n                '_classNameContainer': 'ch-tabpanel',\n                'toggle': false\n            };\n\n        // Tab panel async configuration\n        if (panel === undefined) {\n\n            panel = document.createElement('div');\n            panel.setAttribute('id', e.href.split('#')[1]);\n\n            this.panel.appendChild(panel);\n\n            options.content = e.href;\n            options.waiting = this._options.waiting;\n            options.cache = this._options.cache;\n            options.method = this._options.method;\n        }\n\n        // Tab panel container configuration\n        options.container = panel;\n\n        // Creates new Tab panel\n        tab = new ch.Expandable(e, options);\n\n        // Creates tab's hash\n        tab._hash = e.href.split('#')[1];\n\n        // Add ARIA roles\n        tab.trigger.setAttribute('role', 'tab');\n        tab.container.setAttribute('role', 'tabpanel');\n\n        // Binds show event\n        tab.on('show', function () {\n            that._updateShown(i + 1);\n        });\n\n        // Adds tab panel to the collection\n        this.tabpanels.push(tab);\n\n        return this;\n    };\n\n    /**\n     * Checks if the url has a hash to shown the associated tab panel.\n     * @function\n     * @private\n     */\n    Tabs.prototype._hasHash = function () {\n\n        /**\n         * Event emitted when a tab hide a tab panel container.\n         * @event ch.Tabs#hide\n         * @example\n         * // Subscribe to \"hide\" event.\n         * tabs.on('hide', function () {\n         *     // Some code here!\n         * });\n         */\n        this.emit('hide', this._shown);\n\n        var i = 0,\n            // Shows the first tab panel if not hash or it's hash and it isn't from the current tab panel,\n            l = this.tabpanels.length;\n\n        // If hash open that tab panel\n        for (i; i < l; i += 1) {\n            if (this.tabpanels[i]._hash === this._currentHash) {\n                this._shown = i + 1;\n                break;\n            }\n        }\n\n        this.tabpanels[this._shown - 1].show();\n\n        /**\n         * Event emitted when the tabs shows a tab panel container.\n         * @event ch.Tabs#show\n         * @ignore\n         */\n        this.emit('show', this._shown);\n\n        return this;\n    };\n\n    /**\n     * Shows a specific tab panel.\n     * @memberof! ch.Tabs.prototype\n     * @function\n     * @param {Number} tab - A given number of tab panel.\n     * @returns {tabs}\n     * @example\n     * // Shows the second tab panel.\n     * tabs.show(2);\n     */\n    Tabs.prototype.show = function (tab) {\n\n        // Shows the current tab\n        this.tabpanels[tab - 1].show();\n\n        return this;\n    };\n\n    /**\n     * Updates the shown tab panel, hides the previous tab panel, changes window location and emits \"show\" event.\n     * @memberof! ch.Tabs.prototype\n     * @function\n     * @private\n     * @param {Number} tab - A given number of tab panel.\n     */\n    Tabs.prototype._updateShown = function (tab) {\n\n        // If tab doesn't exist or if it's shown do nothing\n        if (this._shown === tab) {\n            return this;\n        }\n\n        /**\n         * Event emitted when a tab hide a tab panel container.\n         * @event ch.Tabs#hide\n         * @example\n         * // Subscribe to \"hide\" event.\n         * tabs.on('hide', function () {\n         *     // Some code here!\n         * });\n         */\n        this.emit('hide', this._shown);\n\n        // Hides the shown tab\n        this.tabpanels[this._shown - 1].hide();\n\n        /**\n         * Get wich tab panel is shown.\n         * @name ch.Tabs#_shown\n         * @type {Number}\n         * @private\n         */\n        this._shown = tab;\n\n        // Update window location hash\n        location.hash = this._currentHash = (this._currentHash === '')\n            // If the current hash is empty, create it.\n            ? '#!/' + this.tabpanels[this._shown - 1]._hash\n            // update only the previous hash\n            : location.hash.replace(location.hash.match(hashRegExp)[1], this.tabpanels[this._shown - 1]._hash);\n\n        /**\n         * Event emitted when the tabs shows a tab panel container.\n         * @event ch.Tabs#show\n         * @example\n         * // Subscribe to \"show\" event.\n         * tabs.on('show', function (shownTab) {\n         *     // Some code here!\n         * });\n         */\n        this.emit('show', this._shown);\n\n        return this;\n    };\n\n    /**\n     * Returns the number of the shown tab panel.\n     * @memberof! ch.Tabs.prototype\n     * @function\n     * @returns {Boolean}\n     * @example\n     * if (tabs.getShown() === 1) {\n     *     fn();\n     * }\n     */\n    Tabs.prototype.getShown = function () {\n        return this._shown;\n    };\n\n    /**\n     * Allows to manage the tabs content.\n     * @param {Number} tab A given tab to change its content.\n     * @param {HTMLElement} content The content that will be used by a tabpanel.\n     * @param {Object} [options] A custom options to be used with content loaded by ajax.\n     * @param {String} [options.method] The type of request (\"POST\" or \"GET\") to load content by ajax. Default: \"GET\".\n     * @param {String} [options.params] Params like query string to be sent to the server.\n     * @param {Boolean} [options.cache] Force to cache the request by the browser. Default: true.\n     * @param {Boolean} [options.async] Force to sent request asynchronously. Default: true.\n     * @param {(String | HTMLElement)} [options.waiting] Temporary content to use while the ajax request is loading.\n     * @example\n     * // Updates the content of the second tab with some string.\n     * tabs.content(2, 'http://ajax.com', {'cache': false});\n     */\n    Tabs.prototype.content = function (tab, content, options) {\n        if (tab === undefined || typeof tab !== 'number') {\n            throw new window.Error('Tabs.content(tab, content, options): Expected a number of tab.');\n        }\n\n        if (content === undefined) {\n            return this.tab[tab - 1].content();\n        }\n\n        this.tabpanels[tab - 1].content(content, options);\n\n        return this;\n    };\n\n    /**\n     * Enables an instance of Tabs or a specific tab panel.\n     * @memberof! ch.Tabs.prototype\n     * @name enable\n     * @function\n     * @param {Number} [tab] - A given number of tab panel to enable.\n     * @returns {tabs} Returns an instance of Tabs.\n     * @example\n     * // Enabling an instance of Tabs.\n     * tabs.enable();\n     * @example\n     * // Enabling the second tab panel of a tabs.\n     * tabs.enable(2);\n     */\n\n    /**\n     * Disables an instance of Tabs or a specific tab panel.\n     * @memberof! ch.Tabs.prototype\n     * @name disable\n     * @function\n     * @param {Number} [tab] - A given number of tab panel to disable.\n     * @returns {tabs} Returns an instance of Tabs.\n     * @example\n     * // Disabling an instance of Tabs.\n     * tabs.disable();\n     * @example\n     * // Disabling the second tab panel.\n     * tabs.disable(2);\n     */\n    while (len) {\n        createMethods(methods[len -= 1]);\n    }\n\n    /**\n     * Destroys a Tabs instance.\n     * @memberof! ch.Tabs.prototype\n     * @function\n     * @example\n     * // Destroying an instance of Tabs.\n     * tabs.destroy();\n     */\n    Tabs.prototype.destroy = function () {\n\n        this._el.parentNode.replaceChild(this._snippet, this._el);\n\n        tiny.trigger(window.document, ch.onlayoutchange);\n\n        parent.destroy.call(this);\n    };\n\n    /**\n     * Factory\n     */\n    ch.factory(Tabs);\n\n}(this, this.ch));\n\n(function (window, ch) {\n    'use strict';\n\n    /**\n     * A large list of elements. Some elements will be shown in a preset area, and others will be hidden waiting for the user interaction to show it.\n     * @memberof ch\n     * @constructor\n     * @param {HTMLElement} el A HTMLElement to create an instance of ch.Carousel.\n     * @param {Object} [options] Options to customize an instance.\n     * @param {Number} [options.async] Defines the number of future asynchronous items to add to the component. Default: 0.\n     * @param {Boolean} [options.arrows] Defines if the arrow-buttons must be created or not at initialization. Default: true.\n     * @param {Boolean} [options.pagination] Defines if a pagination must be created or not at initialization. Default: false.\n     * @param {Boolean} [options.fx] Enable or disable the slide effect. Default: true.\n     * @param {Boolean} [options.autoHeight] Enable or disable the recalculation of item height on a proportional basis maintaining the proportions of an item. Default: true.\n     * @param {Number} [options.limitPerPage] Set the maximum amount of items to show in each page.\n     * @returns {carousel} Returns a new instance of Carousel.\n     * @example\n     * // Create a new carousel.\n     * var carousel = new ch.Carousel(el, [options]);\n     * @example\n     * // Create a new Carousel with disabled effects.\n     * var carousel = new ch.Carousel(el, {\n     *     'fx': false\n     * });\n     * @example\n     * // Create a new Carousel with items asynchronously loaded.\n     * var carousel = new ch.Carousel(el, {\n     *     'async': 10\n     * }).on('itemsadd', function (collection) {\n     *     // Inject content into the added <li> elements\n     *     $.each(collection, function (i, e) {\n     *         e.innerHTML = 'Content into one of newly inserted <li> elements.';\n     *     });\n     * });\n     */\n    function Carousel(el, options) {\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this;\n\n        this._init(el, options);\n\n        if (this.initialize !== undefined) {\n            /**\n             * If you define an initialize method, it will be executed when a new Carousel is created.\n             * @memberof! ch.Carousel.prototype\n             * @function\n             */\n            this.initialize();\n        }\n\n        /**\n         * Event emitted when the component is ready to use.\n         * @event ch.Carousel#ready\n         * @example\n         * // Subscribe to \"ready\" event.\n         * carousel.on('ready', function () {\n         *     // Some code here!\n         * });\n         */\n        window.setTimeout(function () { that.emit('ready'); }, 50);\n    }\n\n    // Inheritance\n    tiny.inherits(Carousel, ch.Component);\n\n    var pointertap = ch.onpointertap,\n        Math = window.Math,\n        setTimeout = window.setTimeout,\n        parent = Carousel.super_.prototype;\n\n    /**\n     * Reference to the vendor prefix of the current browser.\n     *\n     * @private\n     * @constant\n     * @type {String}\n     * @link http://lea.verou.me/2009/02/find-the-vendor-prefix-of-the-current-browser\n     * @example\n     * VENDOR_PREFIX === 'webkit';\n     */\n    var VENDOR_PREFIX = (function () {\n\n        var regex = /^(Webkit|Khtml|Moz|ms|O)(?=[A-Z])/,\n            styleDeclaration = document.getElementsByTagName('script')[0].style,\n            prop;\n\n        for (prop in styleDeclaration) {\n            if (regex.test(prop)) {\n                return prop.match(regex)[0].toLowerCase();\n            }\n        }\n\n        // Nothing found so far? Webkit does not enumerate over the CSS properties of the style object.\n        // However (prop in style) returns the correct value, so we'll have to test for\n        // the precence of a specific property\n        if ('WebkitOpacity' in styleDeclaration) { return 'webkit'; }\n        if ('KhtmlOpacity' in styleDeclaration) { return 'khtml'; }\n\n        return '';\n    }());\n\n    /**\n     * The name of the component.\n     * @memberof! ch.Carousel.prototype\n     * @type {String}\n     */\n    Carousel.prototype.name = 'carousel';\n\n    /**\n     * Returns a reference to the constructor function.\n     * @memberof! ch.Carousel.prototype\n     * @function\n     */\n    Carousel.prototype.constructor = Carousel;\n\n    /**\n     * Configuration by default.\n     * @memberof! ch.Carousel.prototype\n     * @type {Object}\n     * @private\n     */\n    Carousel.prototype._defaults = {\n        'async': 0,\n        'arrows': true,\n        'pagination': false,\n        'fx': true,\n        'autoHeight': true\n    };\n\n    /**\n     * Initialize a new instance of Carousel and merge custom options with defaults options.\n     * @memberof! ch.Carousel.prototype\n     * @function\n     * @private\n     * @returns {carousel}\n     */\n    Carousel.prototype._init = function (el, options) {\n        // Call to its parents init method\n        parent._init.call(this, el, options);\n\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this;\n\n        /**\n         * The original and entire element and its state, before initialization.\n         * @type {HTMLDivElement}\n         * @private\n         */\n        // cloneNode(true) > parameters is required. Opera & IE throws and internal error. Opera mobile breaks.\n        this._snippet = this._el.cloneNode(true);\n\n        /**\n         * Element that moves (slides) across the component (inside the mask).\n         * @private\n         * @type {HTMLElement}\n         */\n        this._list = this._el.children[0];\n\n        tiny.addClass(this._el, 'ch-carousel');\n        tiny.addClass(this._list, 'ch-carousel-list');\n\n        /**\n         * Collection of each child of the slider list.\n         * @private\n         * @type {HTMLCollection}\n         */\n        this._items = (function () {\n            var collection = that._list.querySelectorAll('li');\n\n            Array.prototype.forEach.call(collection, function (item) {\n                tiny.addClass(item, 'ch-carousel-item');\n            });\n\n            return collection;\n        }());\n\n        /**\n         * Element that wraps the list and denies its overflow.\n         * @private\n         * @type {HTMLDivElement}\n         */\n        this._mask = document.createElement('div');\n        this._mask.setAttribute('role', 'tabpanel');\n        this._mask.setAttribute('class','ch-carousel-mask');\n        this._mask.appendChild(this._list);\n\n        this._el.appendChild(this._mask);\n\n        /**\n         * Size of the mask (width). Updated in each refresh.\n         * @private\n         * @type {Number}\n         */\n        this._maskWidth = this._getOuterDimensions(this._mask).width;\n\n        /**\n         * The width of each item, including paddings, margins and borders. Ideal for make calculations.\n         * @private\n         * @type {Number}\n         */\n        this._itemWidth = this._getOuterDimensions(this._items[0]).width;\n\n        /**\n         * The width of each item, without paddings, margins or borders. Ideal for manipulate CSS width property.\n         * @private\n         * @type {Number}\n         */\n        this._itemOuterWidth = parseInt(tiny.css(this._items[0], 'width'));\n\n        /**\n         * The size added to each item to make it elastic/responsive.\n         * @private\n         * @type {Number}\n         */\n        this._itemExtraWidth = 0;\n\n        /**\n         * The height of each item, including paddings, margins and borders. Ideal for make calculations.\n         * @private\n         * @type {Number}\n         */\n        this._itemHeight = this._getOuterDimensions(this._items[0]).height;\n\n        /**\n         * The margin of all items. Updated in each refresh only if it's necessary.\n         * @private\n         * @type {Number}\n         */\n        this._itemMargin = 0;\n\n        /**\n         * Flag to control when arrows were created.\n         * @private\n         * @type {Boolean}\n         */\n        this._arrowsCreated = false;\n\n        /**\n         * Flag to control when pagination was created.\n         * @private\n         * @type {Boolean}\n         */\n        this._paginationCreated = false;\n\n        /**\n         * Amount of items in each page. Updated in each refresh.\n         * @private\n         * @type {Number}\n         */\n        this._limitPerPage = 0;\n\n        /**\n         * Page currently showed.\n         * @private\n         * @type {Number}\n         */\n        this._currentPage = 1;\n\n        /**\n         * Total amount of pages. Data updated in each refresh.\n         * @private\n         * @type {Number}\n         */\n        this._pages = 0;\n\n        /**\n         * Distance needed to move ONLY ONE PAGE. Data updated in each refresh.\n         * @private\n         * @type {Number}\n         */\n        this._pageWidth = 0;\n\n        /**\n         * List of items that should be loaded asynchronously on page movement.\n         * @private\n         * @type {Number}\n         */\n        this._async = this._options.async;\n\n        /**\n         * UI element of arrow that moves the Carousel to the previous page.\n         * @private\n         * @type {HTMLDivElement}\n         */\n        this._prevArrow = document.createElement('div');\n        this._prevArrow.setAttribute('role', 'button');\n        this._prevArrow.setAttribute('aria-hidden', 'true');\n        this._prevArrow.setAttribute('class', 'ch-carousel-prev ch-carousel-disabled');\n        tiny.on(this._prevArrow, pointertap, function () { that.prev(); }, false);\n\n        /**\n         * UI element of arrow that moves the Carousel to the next page.\n         * @private\n         * @type {HTMLDivElement}\n         */\n        this._nextArrow = document.createElement('div');\n        this._nextArrow.setAttribute('role', 'button');\n        this._nextArrow.setAttribute('aria-hidden', 'true');\n        this._nextArrow.setAttribute('class', 'ch-carousel-next');\n        tiny.on(this._nextArrow, pointertap, function () { that.next(); }, false);\n\n        /**\n         * UI element that contains all the thumbnails for pagination.\n         * @private\n         * @type {HTMLDivElement}\n         */\n        this._pagination = document.createElement('div');\n        this._pagination.setAttribute('role', 'navigation');\n        this._pagination.setAttribute('class', 'ch-carousel-pages');\n\n        tiny.on(this._pagination, pointertap, function (event) {\n            // Get the page from the element\n            var page = event.target.getAttribute('data-page');\n            // Allow interactions from a valid page of pagination\n            if (page !== null) { that.select(window.parseInt(page, 10)); }\n        }, false);\n\n        // Refresh calculation when the viewport resizes\n        ch.viewport.on('resize', function () { that.refresh(); });\n\n        // If efects aren't needed, avoid transition on list\n        if (!this._options.fx) { tiny.addClass(this._list, 'ch-carousel-nofx'); }\n\n        // Position absolutelly the list when CSS transitions aren't supported\n        if (!tiny.support.transition) {\n            this._list.style.cssText += 'position:absolute;left:0;';\n        }\n\n        // If there is a parameter specifying a pagination, add it\n        if (this._options.pagination) { this._addPagination(); }\n\n        // Allow to render the arrows\n        if (this._options.arrows !== undefined && this._options.arrows !== false) { this._addArrows(); }\n\n        // Set WAI-ARIA properties to each item depending on the page in which these are\n        this._updateARIA();\n\n        // Calculate items per page and calculate pages, only when the amount of items was changed\n        this._updateLimitPerPage();\n\n        // Update the margin between items and its size\n        this._updateDistribution();\n\n        return this;\n    };\n\n    /**\n     * Set accesibility properties to each item depending on the page in which these are.\n     * @memberof! ch.Carousel.prototype\n     * @private\n     * @function\n     */\n    Carousel.prototype._updateARIA = function () {\n        /**\n         * Reference to an internal component instance, saves all the information and configuration properties.\n         * @type {Object}\n         * @private\n         */\n        var that = this,\n            // Amount of items when ARIA is updated\n            total = this._items.length + this._async,\n            // Page where each item is in\n            page;\n\n        // Update WAI-ARIA properties on all items\n        Array.prototype.forEach.call(this._items, function (item, i) {\n            // Update page where this item is in\n            page = Math.floor(i / that._limitPerPage) + 1;\n            // Update ARIA attributes\n            item.setAttribute('aria-hidden', (page !== that._currentPage));\n            item.setAttribute('aria-setsize', total);\n            item.setAttribute('aria-posinset', (i + 1));\n            item.setAttribute('aria-label', 'page' + page);\n        });\n\n    };\n\n    /**\n     * Adds items when page/pages needs to load it asynchronously.\n     * @memberof! ch.Carousel.prototype\n     * @private\n     * @function\n     */\n    Carousel.prototype._loadAsyncItems = function () {\n\n        // Load only when there are items to load\n        if (this._async === 0) { return; }\n\n        // Amount of items from the beginning to current page\n        var total = this._currentPage * this._limitPerPage,\n            // How many items needs to add to items rendered to complete to this page\n            amount = total - this._items.length,\n            // The new width calculated from current width plus extraWidth\n            width = (this._itemWidth + this._itemExtraWidth),\n            // Get the height using new width and relation between width and height of item (ratio)\n            height = ((width * this._itemHeight) / this._itemWidth).toFixed(3),\n            // Generic <LI> HTML Element to be added to the Carousel\n            item = [\n                '<li',\n                ' class=\"ch-carousel-item\"',\n                ' style=\"width:' + (width % 1 === 0 ? width : width.toFixed(4)) + 'px;',\n                (this._options.autoHeight ? 'height:' + height + 'px;' : ''),\n                'margin-right:' + (this._itemMargin % 1 === 0 ? this._itemMargin : this._itemMargin.toFixed(4)) + 'px\"',\n                '></li>'\n            ].join(''),\n            // It stores <LI> that will be added to the DOM collection\n            items = '',\n            // It stores the items that must be added, it helps to slice the items in the list\n            counter = 0;\n\n        // Load only when there are items to add\n        if (amount < 1) { return; }\n\n        // If next page needs less items than it support, then add that amount\n        amount = (this._async < amount) ? this._async : amount;\n\n        // Add the necessary amount of items\n        while (amount) {\n            items += item;\n            amount -= 1;\n            counter += 1;\n        }\n\n        // Add sample items to the list\n        this._list.insertAdjacentHTML('beforeend', items);\n\n        // Update items collection\n        // uses querySelectorAll because it need a static collection\n        this._items = this._list.querySelectorAll('li');\n\n        // Set WAI-ARIA properties to each item\n        this._updateARIA();\n\n        // Update amount of items to add asynchronously\n        this._async -= amount;\n\n        /**\n         * Event emitted when the component creates new asynchronous empty items.\n         * @event ch.Carousel#itemsadd\n         * @example\n         * // Create a new Carousel with items asynchronously loaded.\n         * var carousel = new ch.Carousel({\n         *     'async': 10\n         * }).on('itemsadd', function (collection) {\n         *     // Inject content into the added <li> elements\n         *     $.each(collection, function (i, e) {\n         *         e.innerHTML = 'Content into one of newly inserted <li> elements.';\n         *     });\n         * });\n         */\n        this.emit('itemsadd', Array.prototype.slice.call(this._items, -counter));\n    };\n\n    /**\n     * Creates the pagination of the component.\n     * @memberof! ch.Carousel.prototype\n     * @private\n     * @function\n     */\n    Carousel.prototype._addPagination = function () {\n        // Remove the current pagination if it's necessary to create again\n        if (this._paginationCreated) {\n            this._removePagination();\n        }\n\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this,\n            thumbs = [],\n            page = that._pages,\n            isSelected;\n\n        // Generate a thumbnail for each page on Carousel\n        while (page) {\n            // Determine if this thumbnail is selected or not\n            isSelected = (page === that._currentPage);\n            // Add string to collection\n            thumbs.unshift(\n                '<span',\n                ' role=\"button\"',\n                ' aria-selected=\"' + isSelected + '\"',\n                ' aria-controls=\"page' + page + '\"',\n                ' data-page=\"' + page + '\"',\n                ' class=\"' + (isSelected ? 'ch-carousel-selected' : '') + '\"',\n                '>' + page + '</span>'\n            );\n\n            page -= 1;\n        }\n\n        // Append thumbnails to pagination and append this to Carousel\n        that._pagination.innerHTML = thumbs.join('');\n        that._el.appendChild(that._pagination);\n\n        // Avoid selection on the pagination\n        that._pagination.setAttribute('unselectable', 'on');\n        tiny.addClass(that._pagination, 'ch-user-no-select');\n\n        // Check pagination as created\n        that._paginationCreated = true;\n    };\n\n    /**\n     * Deletes the pagination from the component.\n     * @memberof! ch.Carousel.prototype\n     * @private\n     * @function\n     */\n    Carousel.prototype._removePagination = function () {\n        // Avoid to change something that not exists\n        if (!this._paginationCreated) { return; }\n        // Delete thumbnails\n        this._pagination.innerHTML = '';\n        // Check pagination as deleted\n        this._paginationCreated = false;\n    };\n\n    /**\n     * It stops the slide effect while the list moves.\n     * @memberof! ch.Carousel.prototype\n     * @private\n     * @function\n     * @param {Function} callback A function to execute after disable the effects.\n     */\n    Carousel.prototype._standbyFX = function (callback) {\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this;\n\n        // Do it if is required\n        if (this._options.fx && tiny.support.transition) {\n            // Delete efects on list to make changes instantly\n            tiny.addClass(this._list, 'ch-carousel-nofx');\n            // Execute the custom method\n            callback.call(this);\n            // Restore efects to list\n            // Use a setTimeout to be sure to do this AFTER changes\n            setTimeout(function () { tiny.removeClass(that._list, 'ch-carousel-nofx'); }, 0);\n        // Avoid to add/remove classes if it hasn't effects\n        } else {\n            callback.call(this);\n        }\n    };\n\n    /**\n     * Calculates the total amount of pages and executes internal methods to load asynchronous items, update WAI-ARIA, update the arrows and update pagination.\n     * @memberof! ch.Carousel.prototype\n     * @private\n     * @function\n     */\n    Carousel.prototype._updatePages = function () {\n        // Update the amount of total pages\n        // The ratio between total amount of items and items in each page\n        this._pages = Math.ceil((this._items.length + this._async) / this._limitPerPage);\n        // Add items to the list, if it's necessary\n        this._loadAsyncItems();\n        // Set WAI-ARIA properties to each item\n        this._updateARIA();\n        // Update arrows (when pages === 1, there is no arrows)\n        this._updateArrows();\n        // Update pagination\n        if (this._options.pagination) {\n            this._addPagination();\n        }\n    };\n\n    /**\n     * Calculates the correct items per page and calculate pages, only when the amount of items was changed.\n     * @memberof! ch.Carousel.prototype\n     * @private\n     * @function\n     */\n    Carousel.prototype._updateLimitPerPage = function () {\n\n        var max = this._options.limitPerPage,\n            // Go to the current first item on the current page to restore if pages amount changes\n            firstItemOnPage,\n            // The width of each item into the width of the mask\n            // Avoid zero items in a page\n            limitPerPage = Math.floor(this._maskWidth / this._itemOuterWidth) || 1;\n\n        // Limit amount of items when user set a limitPerPage amount\n        if (max !== undefined && limitPerPage > max) { limitPerPage = max; }\n\n        // Set data and calculate pages, only when the amount of items was changed\n        if (limitPerPage === this._limitPerPage) { return; }\n\n        // Restore if limitPerPage is NOT the same after calculations (go to the current first item page)\n        firstItemOnPage = ((this._currentPage - 1) * this._limitPerPage) + 1;\n        // Update amount of items into a single page (from conf or auto calculations)\n        this._limitPerPage = limitPerPage;\n        // Calculates the total amount of pages and executes internal methods\n        this._updatePages();\n        // Go to the current first item page\n        this.select(Math.ceil(firstItemOnPage / limitPerPage));\n    };\n\n    /**\n     * Calculates and set the size of the items and its margin to get an adaptive Carousel.\n     * @memberof! ch.Carousel.prototype\n     * @private\n     * @function\n     */\n    Carousel.prototype._updateDistribution = function () {\n        var moreThanOne = this._limitPerPage > 1,\n            // Total space to use as margin into mask\n            // It's the difference between mask width and total width of all items\n            freeSpace = this._maskWidth - (this._itemOuterWidth * this._limitPerPage),\n            // Width to add to each item to get responsivity\n            // When there are more than one item, get extra width for each one\n            // When there are only one item, extraWidth must be just the freeSpace\n            extraWidth = moreThanOne ? (freeSpace / this._limitPerPage / 2) : freeSpace,\n            // Amount of spaces to distribute the free space\n            spaces,\n            // The new width calculated from current width plus extraWidth\n            width,\n            // Styles to update the item element width, height & margin-right\n            cssItemText;\n\n        // Update ONLY IF margin changed from last refresh\n        // If *new* and *old* extra width are 0, continue too\n        if (extraWidth === this._itemExtraWidth && extraWidth > 0) { return; }\n\n        // Update global value of width\n        this._itemExtraWidth = extraWidth;\n\n        // When there are 6 items on a page, there are 5 spaces between them\n        // Except when there are only one page that NO exist spaces\n        spaces = moreThanOne ? this._limitPerPage - 1 : 0;\n        // The new width calculated from current width plus extraWidth\n        width = this._itemWidth + extraWidth;\n\n        // Free space for each space between items\n        // Ceil to delete float numbers (not Floor, because next page is seen)\n        // There is no margin when there are only one item in a page\n        // Update global values\n        this._itemMargin = moreThanOne ? (freeSpace / spaces / 2) : 0;\n\n        // Update distance needed to move ONLY ONE page\n        // The width of all items on a page, plus the width of all margins of items\n        this._pageWidth = (this._itemOuterWidth + extraWidth + this._itemMargin) * this._limitPerPage;\n\n        // Update the list width\n        // Do it before item resizing to make space to all items\n        // Delete efects on list to change width instantly\n        this._standbyFX(function () {\n            this._list.style.cssText = this._list.style.cssText + '; ' + 'width:' + (this._pageWidth * this._pages) + 'px;';\n        });\n\n        // Get the height using new width and relation between width and height of item (ratio)\n        cssItemText = [\n            'width:' + (width % 1 === 0 ? width : width.toFixed(4)) + 'px;',\n            this._options.autoHeight ? 'height:' + ((width * this._itemHeight) / this._itemWidth).toFixed(4) + 'px;' : '',\n            'margin-right:' + (this._itemMargin % 1 === 0 ? this._itemMargin : this._itemMargin.toFixed(4)) + 'px;'\n        ].join('');\n\n        // Update element styles\n        Array.prototype.forEach.call(this._items, function (item){\n            item.setAttribute('style', cssItemText);\n        });\n\n        // Update the mask height with the list height\n        this._mask.style.height = this._getOuterDimensions(this._list).height + 'px';\n\n        // Suit the page in place\n        this._standbyFX(function () {\n            this._translate(-this._pageWidth * (this._currentPage - 1));\n        });\n    };\n\n    /**\n     * Adds arrows to the component.\n     * @memberof! ch.Carousel.prototype\n     * @private\n     * @function\n     */\n    Carousel.prototype._addArrows = function () {\n        // Avoid selection on the arrows\n        [this._prevArrow, this._nextArrow].forEach(function(el){\n            el.setAttribute('unselectable', 'on');\n            tiny.addClass(el, 'ch-user-no-select');\n        });\n\n        // Add arrows to DOM\n        this._el.insertBefore(this._prevArrow, this._el.children[0]);\n        this._el.appendChild(this._nextArrow);\n        // Check arrows as created\n        this._arrowsCreated = true;\n    };\n\n    /**\n     * Set as disabled the arrows by adding a classname and a WAI-ARIA property.\n     * @memberof! ch.Carousel.prototype\n     * @private\n     * @function\n     * @param {Boolean} prev Defines if the \"previous\" arrow must be disabled or not.\n     * @param {Boolean} next Defines if the \"next\" arrow must be disabled or not.\n     */\n    Carousel.prototype._disableArrows = function (prev, next) {\n        this._prevArrow.setAttribute('aria-disabled', prev);\n        this._prevArrow.setAttribute('aria-hidden', prev);\n        tiny[prev ? 'addClass' : 'removeClass'](this._prevArrow, 'ch-carousel-disabled');\n\n        this._nextArrow.setAttribute('aria-disabled', next);\n        this._nextArrow.setAttribute('aria-hidden', next);\n        tiny[next ? 'addClass' : 'removeClass'](this._nextArrow, 'ch-carousel-disabled');\n    };\n\n    /**\n     * Check for arrows behavior on first, last and middle pages, and update class name and WAI-ARIA values.\n     * @memberof! ch.Carousel.prototype\n     * @private\n     * @function\n     */\n    Carousel.prototype._updateArrows = function () {\n        // Check arrows existency\n        if (!this._arrowsCreated) {\n            return;\n        }\n        // Case 1: Disable both arrows if there are ony one page\n        if (this._pages === 1) {\n            this._disableArrows(true, true);\n        // Case 2: \"Previous\" arrow hidden on first page\n        } else if (this._currentPage === 1) {\n            this._disableArrows(true, false);\n        // Case 3: \"Next\" arrow hidden on last page\n        } else if (this._currentPage === this._pages) {\n            this._disableArrows(false, true);\n        // Case 4: Enable both arrows on Carousel's middle\n        } else {\n            this._disableArrows(false, false);\n        }\n    };\n\n    /**\n     * Moves the list corresponding to specified displacement.\n     * @memberof! ch.Carousel.prototype\n     * @private\n     * @function\n     * @param {Number} displacement Distance to move the list.\n     */\n    Carousel.prototype._translate = (function () {\n        // CSS property written as string to use on CSS movement\n        var vendorTransformKey = VENDOR_PREFIX ? VENDOR_PREFIX + 'Transform' : null;\n\n        // Use CSS transform to move\n        if (tiny.support.transition) {\n            return function (displacement) {\n                // Firefox has only \"transform\", Safari only \"webkitTransform\",\n                // Chrome has support for both. Applied required minimum\n                if (vendorTransformKey) {\n                    this._list.style[vendorTransformKey] = 'translateX(' + displacement + 'px)';\n                }\n                this._list.style.transform = 'translateX(' + displacement + 'px)';\n            };\n        }\n\n        // Use left position to move\n        return function (displacement) {\n            this._list.style.left = displacement + 'px';\n        };\n    }());\n\n    /**\n     * Updates the selected page on pagination.\n     * @memberof! ch.Carousel.prototype\n     * @private\n     * @function\n     * @param {Number} from Page previously selected. It will be unselected.\n     * @param {Number} to Page to be selected.\n     */\n    Carousel.prototype._switchPagination = function (from, to) {\n        // Avoid to change something that not exists\n        if (!this._paginationCreated) { return; }\n        // Get all thumbnails of pagination element\n        var children = this._pagination.children,\n            fromItem = children[from - 1],\n            toItem = children[to - 1];\n\n        // Unselect the thumbnail previously selected\n        fromItem.setAttribute('aria-selected', false);\n        tiny.removeClass(fromItem, 'ch-carousel-selected');\n\n        // Select the new thumbnail\n        toItem.setAttribute('aria-selected', true);\n        tiny.addClass(toItem, 'ch-carousel-selected');\n    };\n\n    /**\n     * Get the current outer dimensions of an element.\n     *\n     * @memberof ch.Carousel.prototype\n     * @param {HTMLElement} el A given HTMLElement.\n     * @returns {Object}\n     */\n    Carousel.prototype._getOuterDimensions = function (el) {\n        var obj = el.getBoundingClientRect();\n\n        return {\n            'width': (obj.right - obj.left),\n            'height': (obj.bottom - obj.top)\n        };\n    };\n\n    /**\n     * Triggers all the necessary recalculations to be up-to-date.\n     * @memberof! ch.Carousel.prototype\n     * @function\n     * @returns {carousel}\n     */\n    Carousel.prototype.refresh = function () {\n\n        var that = this,\n            maskWidth = this._getOuterDimensions(this._mask).width;\n\n        // Check for changes on the width of mask, for the elastic carousel\n        // Update the width of the mask\n        if (maskWidth !== this._maskWidth) {\n            // Update the global reference to the with of the mask\n            this._maskWidth = maskWidth;\n            // Calculate items per page and calculate pages, only when the amount of items was changed\n            this._updateLimitPerPage();\n            // Update the margin between items and its size\n            this._updateDistribution();\n\n            /**\n             * Event emitted when the component makes all the necessary recalculations to be up-to-date.\n             * @event ch.Carousel#refresh\n             * @example\n             * // Subscribe to \"refresh\" event.\n             * carousel.on('refresh', function () {\n             *     alert('Carousel was refreshed.');\n             * });\n             */\n            this.emit('refresh');\n        }\n\n        // Check for a change in the total amount of items\n        // Update items collection\n        if (this._list.children.length !== this._items.length) {\n            // Update the entire reference to items\n            // uses querySelectorAll because it need a static collection\n            this._items = this._list.querySelectorAll('li');\n            // Calculates the total amount of pages and executes internal methods\n            this._updatePages();\n            // Go to the last page in case that the current page no longer exists\n            if (this._currentPage > this._pages) {\n                this._standbyFX(function () {\n                    that.select(that._pages);\n                });\n            }\n\n            /**\n             * Event emitted when the component makes all the necessary recalculations to be up-to-date.\n             * @event ch.Carousel#refresh\n             * @ignore\n             */\n            this.emit('refresh');\n        }\n\n        return this;\n    };\n\n    /**\n     * Moves the list to the specified page.\n     * @memberof! ch.Carousel.prototype\n     * @function\n     * @param {Number} page Reference of page where the list has to move.\n     * @returns {carousel}\n     */\n    Carousel.prototype.select = function (page) {\n        // Getter\n        if (page === undefined) {\n            return this._currentPage;\n        }\n\n        // Avoid to move if it's disabled\n        // Avoid to select the same page that is selected yet\n        // Avoid to move beyond first and last pages\n        if (!this._enabled || page === this._currentPage || page < 1 || page > this._pages) {\n            return this;\n        }\n\n        // Perform these tasks in the following order:\n        // Task 1: Move the list from 0 (zero), to page to move (page number beginning in zero)\n        this._translate(-this._pageWidth * (page - 1));\n        // Task 2: Update selected thumbnail on pagination\n        this._switchPagination(this._currentPage, page);\n        // Task 3: Update value of current page\n        this._currentPage = page;\n        // Task 4: Check for arrows behavior on first, last and middle pages\n        this._updateArrows();\n        // Task 5: Add items to the list, if it's necessary\n        this._loadAsyncItems();\n\n        /**\n         * Event emitted when the component moves to another page.\n         * @event ch.Carousel#select\n         * @example\n         * // Subscribe to \"select\" event.\n         * carousel.on('select', function () {\n         *     alert('Carousel was moved.');\n         * });\n         */\n        this.emit('select');\n\n        return this;\n    };\n\n    /**\n     * Moves the list to the previous page.\n     * @memberof! ch.Carousel.prototype\n     * @function\n     * @returns {carousel}\n     */\n    Carousel.prototype.prev = function () {\n\n        this.select(this._currentPage - 1);\n\n        /**\n         * Event emitted when the component moves to the previous page.\n         * @event ch.Carousel#prev\n         * @example\n         * carousel.on('prev', function () {\n         *     alert('Carousel has moved to the previous page.');\n         * });\n         */\n        this.emit('prev');\n\n        return this;\n    };\n\n    /**\n     * Moves the list to the next page.\n     * @memberof! ch.Carousel.prototype\n     * @function\n     * @returns {carousel}\n     */\n    Carousel.prototype.next = function () {\n\n        this.select(this._currentPage + 1);\n\n        /**\n         * Event emitted when the component moves to the next page.\n         * @event ch.Carousel#next\n         * @example\n         * carousel.on('next', function () {\n         *     alert('Carousel has moved to the next page.');\n         * });\n         */\n        this.emit('next');\n\n        return this;\n    };\n\n    /**\n     * Enables a Carousel instance.\n     * @memberof! ch.Carousel.prototype\n     * @function\n     * @returns {carousel}\n     */\n    Carousel.prototype.enable = function () {\n\n        this._el.setAttribute('aria-disabled', false);\n\n        this._disableArrows(false, false);\n\n        parent.enable.call(this);\n\n        return this;\n    };\n\n    /**\n     * Disables a Carousel instance.\n     * @memberof! ch.Carousel.prototype\n     * @function\n     * @returns {carousel}\n     */\n    Carousel.prototype.disable = function () {\n\n        this._el.setAttribute('aria-disabled', true);\n\n        this._disableArrows(true, true);\n\n        parent.disable.call(this);\n\n        return this;\n    };\n\n    /**\n     * Destroys a Carousel instance.\n     * @memberof! ch.Carousel.prototype\n     * @function\n     */\n    Carousel.prototype.destroy = function () {\n\n        this._el.parentNode.replaceChild(this._snippet, this._el);\n\n        tiny.trigger(window.document, ch.onlayoutchange);\n\n        parent.destroy.call(this);\n\n        return;\n    };\n\n    ch.factory(Carousel);\n\n}(this, this.ch));\n\n(function (window, ch) {\n    'use strict';\n\n    function normalizeOptions(options) {\n        var num = window.parseInt(options, 10);\n\n        if (!window.isNaN(num)) {\n            options = {\n                'max': num\n            };\n        }\n\n        return options;\n    }\n\n    /**\n     * Countdown counts the maximum of characters that user can enter in a form control. Countdown could limit the possibility to continue inserting charset.\n     * @memberof ch\n     * @constructor\n     * @augments ch.Component\n     * @param {HTMLElement} el A HTMLElement to create an instance of ch.Countdown.\n     * @param {Object} [options] Options to customize an instance.\n     * @param {Number} [options.max] Number of the maximum amount of characters user can input in form control. Default: 500.\n     * @param {String} [options.plural] Message of remaining amount of characters, when it's different to 1. The variable that represents the number to be replaced, should be a hash. Default: \"# characters left.\".\n     * @param {String} [options.singular] Message of remaining amount of characters, when it's only 1. The variable that represents the number to be replaced, should be a hash. Default: \"# character left.\".\n     * @returns {countdown} Returns a new instance of Countdown.\n     * @example\n     * // Create a new Countdown.\n     * var countdown = new ch.Countdown([el], [options]);\n     * @example\n     * // Create a new Countdown with custom options.\n     * var countdown = new ch.Countdown({\n     *     'max': 250,\n     *     'plural': 'Left: # characters.',\n     *     'singular': 'Left: # character.'\n     * });\n     * @example\n     * // Create a new Countdown using the shorthand way (max as parameter).\n     * var countdown = new ch.Countdown({'max': 500});\n     */\n    function Countdown(el, options) {\n\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this;\n\n        this._init(el, options);\n\n        if (this.initialize !== undefined) {\n            /**\n             * If you define an initialize method, it will be executed when a new Countdown is created.\n             * @memberof! ch.Countdown.prototype\n             * @function\n             */\n            this.initialize();\n        }\n\n        /**\n         * Event emitted when the component is ready to use.\n         * @event ch.Countdown#ready\n         * @example\n         * // Subscribe to \"ready\" event.\n         * countdown.on('ready', function () {\n         *     // Some code here!\n         * });\n         */\n        window.setTimeout(function () { that.emit('ready'); }, 50);\n    }\n\n    // Inheritance\n    tiny.inherits(Countdown, ch.Component);\n\n    var parent = Countdown.super_.prototype;\n\n    /**\n     * The name of the component.\n     * @memberof! ch.Countdown.prototype\n     * @type {String}\n     */\n    Countdown.prototype.name = 'countdown';\n\n    /**\n     * Returns a reference to the constructor function.\n     * @memberof! ch.Countdown.prototype\n     * @function\n     */\n    Countdown.prototype.constructor = Countdown;\n\n    /**\n     * Configuration by default.\n     * @type {Object}\n     * @private\n     */\n    Countdown.prototype._defaults = {\n        'plural': '# characters left.',\n        'singular': '# character left.',\n        'max': 500\n    };\n\n    /**\n     * Initialize a new instance of Countdown and merge custom options with defaults options.\n     * @memberof! ch.Countdown.prototype\n     * @function\n     * @private\n     * @returns {countdown}\n     */\n    Countdown.prototype._init = function (el, options) {\n        // Call to its parent init method\n        parent._init.call(this, el, options);\n\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this,\n\n            /**\n             * Create the \"id\" attribute.\n             * @type {String}\n             * @private\n             */\n            messageID = 'ch-countdown-message-' + that.uid,\n\n           /**\n             * Singular or Plural message depending on amount of remaining characters.\n             * @type {String}\n             * @private\n             */\n            message;\n\n        /**\n         * The countdown trigger.\n         * @type {HTMLTextAreaElement}\n         * @example\n         * // Gets the countdown trigger.\n         * countdown.trigger;\n         */\n        this.trigger = this._el;\n        'keyup keypress keydown input paste cut'.split(' ')\n            .forEach(function(name) {\n                tiny.on(that.trigger, name, function () { that._count(); });\n            });\n\n        /**\n         * Amount of free characters until full the field.\n         * @type {Number}\n         * @private\n         */\n        that._remaining = that._options.max - that._contentLength();\n\n        // Update the message\n        message = ((that._remaining === 1) ? that._options.singular : that._options.plural);\n\n        /**\n         * The countdown container.\n         * @type {HTMLParagraphElement}\n         */\n        that.container = (function () {\n            var parent = tiny.parent(that._el);\n            parent.insertAdjacentHTML('beforeend', '<span class=\"ch-countdown ch-form-hint\" id=\"' + messageID + '\">' + message.replace('#', that._remaining) + '</span>');\n\n            return parent.querySelector('#' + messageID);\n        }());\n\n        this.on('disable', this._removeError);\n\n        return this;\n    };\n\n    /**\n     * Returns the length of value.\n     * @function\n     * @private\n     * @returns {Number}\n     */\n    Countdown.prototype._contentLength = function () {\n        return this._el.value.length;\n    };\n\n    /**\n     * Process input of data on form control and updates remaining amount of characters or limits the content length. Also, change the visible message of remaining characters.\n     * @function\n     * @private\n     * @returns {countdown}\n     */\n    Countdown.prototype._count = function () {\n\n        if (!this._enabled) {\n            return this;\n        }\n\n        var length = this._contentLength(),\n            message;\n\n        this._remaining = this._options.max - length;\n\n        // Limit Count alert the user\n        if (length <= this._options.max) {\n\n            if (this._exceeded) {\n                // Update exceeded flag\n                this._exceeded = false;\n                this._removeError();\n            }\n\n        } else if (length > this._options.max) {\n\n            /**\n             * Event emitted when the lenght of characters is exceeded.\n             * @event ch.Countdown#exceed\n             * @example\n             * // Subscribe to \"exceed\" event.\n             * countdown.on('exceed', function () {\n             *     // Some code here!\n             * });\n             */\n            this.emit('exceed');\n\n            // Update exceeded flag\n            this._exceeded = true;\n\n            this.trigger.setAttribute('aria-invalid', 'true');\n            tiny.addClass(this.trigger, 'ch-validation-error');\n\n            tiny.addClass(this.container, 'ch-countdown-exceeded');\n        }\n\n        // Change visible message of remaining characters\n        // Singular or Plural message depending on amount of remaining characters\n        message = (this._remaining !== 1 ? this._options.plural : this._options.singular).replace(/\\#/g, this._remaining);\n\n        // Update DOM text\n        this.container.innerText  = message;\n\n        return this;\n\n    };\n\n     /**\n     * Process input of data on form control and updates remaining amount of characters or limits the content length. Also, change the visible message of remaining characters.\n     * @function\n     * @private\n     * @returns {countdown}\n     */\n    Countdown.prototype._removeError = function () {\n        tiny.removeClass(this.trigger, 'ch-validation-error');\n        this.trigger.setAttribute('aria-invalid', 'false');\n\n        tiny.removeClass(this.container, 'ch-countdown-exceeded');\n\n        return this;\n    };\n\n    /**\n     * Destroys a Countdown instance.\n     * @memberof! ch.Countdown.prototype\n     * @function\n     * @example\n     * // Destroy a countdown\n     * countdown.destroy();\n     * // Empty the countdown reference\n     * countdown = undefined;\n     */\n    Countdown.prototype.destroy = function () {\n        var parentElement = tiny.parent(this.container);\n        parentElement.removeChild(this.container);\n\n        tiny.trigger(window.document, ch.onlayoutchange);\n\n        parent.destroy.call(this);\n\n        return;\n    };\n\n    // Factorize\n    ch.factory(Countdown, normalizeOptions);\n\n}(this, this.ch));\n\n(function (window, ch) {\n    'use strict';\n\n    /**\n     * Datepicker lets you select dates.\n     * @memberof ch\n     * @constructor\n     * @augments ch.Component\n     * @requires ch.Calendar\n     * @param {HTMLElement} [el] A HTMLElement to create an instance of ch.Datepicker.\n     * @param {Object} [options] Options to customize an instance.\n     * @param {String} [options.format] Sets the date format. Default: \"DD/MM/YYYY\".\n     * @param {String} [options.selected] Sets a date that should be selected by default. Default: \"today\".\n     * @param {String} [options.from] Set a minimum selectable date. The format of the given date should be \"YYYY/MM/DD\".\n     * @param {String} [options.to] Set a maximum selectable date. The format of the given date should be \"YYYY/MM/DD\".\n     * @param {Array} [options.monthsNames] A collection of months names. Default: [\"Enero\", ... , \"Diciembre\"].\n     * @param {Array} [options.weekdays] A collection of weekdays. Default: [\"Dom\", ... , \"Sab\"].\n     * @param {Boolean} [options.hiddenby] Determines how to hide the component. You must use: \"button\", \"pointers\", \"pointerleave\", \"all\" or \"none\". Default: \"pointers\".\n     * @param {HTMLElement} [options.context] It's a reference to position and size of element that will be considered to carry out the position.\n     * @param {String} [options.side] The side option where the target element will be positioned. You must use: \"left\", \"right\", \"top\", \"bottom\" or \"center\". Default: \"bottom\".\n     * @param {String} [options.align] The align options where the target element will be positioned. You must use: \"left\", \"right\", \"top\", \"bottom\" or \"center\". Default: \"center\".\n     * @param {Number} [options.offsetX] Distance to displace the target horizontally.\n     * @param {Number} [options.offsetY] Distance to displace the target vertically.\n     * @param {String} [options.position] The type of positioning used. You must use: \"absolute\" or \"fixed\". Default: \"absolute\".\n     * @returns {datepicker} Returns a new instance of Datepicker.\n     * @example\n     * // Create a new Datepicker.\n     * var datepicker = new ch.Datepicker([selector], [options]);\n     * @example\n     * // Create a new Datepicker with custom options.\n     * var datepicker = new ch.Datepicker({\n     *     \"format\": \"MM/DD/YYYY\",\n     *     \"selected\": \"2011/12/25\",\n     *     \"from\": \"2010/12/25\",\n     *     \"to\": \"2012/12/25\",\n     *     \"monthsNames\": [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n     *     \"weekdays\": [\"Su\", \"Mo\", \"Tu\", \"We\", \"Thu\", \"Fr\", \"Sa\"]\n     * });\n     */\n    function Datepicker(selector, options) {\n\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this;\n\n        this._init(selector, options);\n\n        if (this.initialize !== undefined) {\n            /**\n             * If you define an initialize method, it will be executed when a new Datepicker is created.\n             * @memberof! ch.Datepicker.prototype\n             * @function\n             */\n            this.initialize();\n        }\n\n        /**\n         * Event emitted when the component is ready to use.\n         * @event ch.Datepicker#ready\n         * @example\n         * // Subscribe to \"ready\" event.\n         * datepicker.on('ready', function () {\n         *     // Some code here!\n         * });\n         */\n        window.setTimeout(function () { that.emit('ready'); }, 50);\n    }\n\n    // Inheritance\n    tiny.inherits(Datepicker, ch.Component);\n\n    var parent = Datepicker.super_.prototype,\n        // Creates methods enable and disable into the prototype.\n        methods = ['enable', 'disable'],\n        len = methods.length;\n\n    function createMethods(method) {\n        Datepicker.prototype[method] = function () {\n\n            this._popover[method]();\n\n            parent[method].call(this);\n\n            return this;\n        };\n    }\n\n    /**\n     * The name of the component.\n     * @memberof! ch.Datepicker.prototype\n     * @type {String}\n     * @example\n     * // You can reach the associated instance.\n     * var datepicker = $(selector).data('datepicker');\n     */\n    Datepicker.prototype.name = 'datepicker';\n\n    /**\n     * Returns a reference to the constructor function.\n     * @memberof! ch.Datepicker.prototype\n     * @function\n     */\n    Datepicker.prototype.constructor = Datepicker;\n\n    /**\n     * Configuration by default.\n     * @type {Object}\n     * @private\n     */\n    Datepicker.prototype._defaults = {\n        'format': 'DD/MM/YYYY',\n        'side': 'bottom',\n        'align': 'center',\n        'hiddenby': 'pointers'\n    };\n\n    /**\n     * Initialize a new instance of Datepicker and merge custom options with defaults options.\n     * @memberof! ch.Datepicker.prototype\n     * @function\n     * @private\n     * @returns {datepicker}\n     */\n    Datepicker.prototype._init = function (selector, options) {\n        // Call to its parent init method\n        parent._init.call(this, selector, options);\n\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this;\n\n        /**\n         * The datepicker input field.\n         * @type {HTMLElement}\n         */\n        this.field = this._el;\n        this.field.insertAdjacentHTML('afterend', '<i role=\"button\" class=\"ch-datepicker-trigger ch-icon-calendar\"></i>');\n\n        /**\n         * The datepicker trigger.\n         * @type {HTMLElement}\n         */\n        this.trigger = tiny.next(this.field);\n\n        /**\n         * Reference to the Calendar component instanced.\n         * @type {ch.Calendar}\n         * @private\n         */\n        this._calendar = new ch.Calendar(document.createElement('div'), options);\n\n        /**\n         * Reference to the Popover component instanced.\n         * @type {ch.Popover}\n         * @private\n         */\n        this._popover = new ch.Popover(this.trigger, {\n            '_className': 'ch-datepicker ch-cone',\n            '_ariaRole': 'tooltip',\n            'content': this._calendar.container,\n            'side': this._options.side,\n            'align': this._options.align,\n            'offsetX': 1,\n            'offsetY': 10,\n            'shownby': 'pointertap',\n            'hiddenby': this._options.hiddenby\n        });\n\n        tiny.on(this._popover._content, ch.onpointertap, function (event) {\n            var el = event.target;\n\n            // Day selection\n            if (el.nodeName === 'TD' && el.className.indexOf('ch-calendar-disabled') === -1 && el.className.indexOf('ch-calendar-other') === -1) {\n                that.pick(el.innerHTML);\n            }\n\n        });\n\n        this.field.setAttribute('aria-describedby', 'ch-popover-' + this._popover.uid);\n\n        // Change type of input to \"text\"\n        this.field.type = 'text';\n\n        // Change value of input if there are a selected date\n        this.field.value = (this._options.selected) ? this._calendar.select() : this.field.value;\n\n        // Hide popover\n        this.on('disable', this.hide);\n\n        return this;\n    };\n\n    /**\n     * Shows the datepicker.\n     * @memberof! ch.Datepicker.prototype\n     * @function\n     * @returns {datepicker}\n     * @example\n     * // Shows a datepicker.\n     * datepicker.show();\n     */\n    Datepicker.prototype.show = function () {\n\n        if (!this._enabled) {\n            return this;\n        }\n\n        this._popover.show();\n\n        /**\n         * Event emitted when a datepicker is shown.\n         * @event ch.Datepicker#show\n         * @example\n         * // Subscribe to \"show\" event.\n         * datepicker.on('show', function () {\n         *     // Some code here!\n         * });\n         */\n        this.emit('show');\n\n        return this;\n    };\n\n    /**\n     * Hides the datepicker.\n     * @memberof! ch.Datepicker.prototype\n     * @function\n     * @returns {datepicker}\n     * @example\n     * // Shows a datepicker.\n     * datepicker.hide();\n     */\n    Datepicker.prototype.hide = function () {\n        this._popover.hide();\n\n        /**\n         * Event emitted when a datepicker is hidden.\n         * @event ch.Datepicker#hide\n         * @example\n         * // Subscribe to \"hide\" event.\n         * datepicker.on('hide', function () {\n         *     // Some code here!\n         * });\n         */\n        this.emit('hide');\n\n        return this;\n    };\n\n    /**\n     * Selects a specific day into current month and year.\n     * @memberof! ch.Datepicker.prototype\n     * @function\n     * @private\n     * @param {(String | Number)} day A given day to select.\n     * @returns {datepicker}\n     * @example\n     * // Select a specific day.\n     * datepicker.pick(28);\n     */\n    Datepicker.prototype.pick = function (day) {\n\n        // Select the day and update input value with selected date\n        this.field.value = [this._calendar._dates.current.year, this._calendar._dates.current.month, day].join('/');\n\n        // Hide float\n        this._popover.hide();\n\n        // Select a date\n        this.select(this.field.value);\n\n        return this;\n    };\n\n    /**\n     * Selects a specific date or returns the selected date.\n     * @memberof! ch.Datepicker.prototype\n     * @function\n     * @param {String} [date] A given date to select. The format of the given date should be \"YYYY/MM/DD\".\n     * @returns {(datepicker | String)}\n     * @example\n     * // Returns the selected date.\n     * datepicker.select();\n     * @example\n     * // Select a specific date.\n     * datepicker.select('2014/05/28');\n     */\n    Datepicker.prototype.select = function (date) {\n\n       // Setter\n       // Select the day and update input value with selected date\n        if (date) {\n            this._calendar.select(date);\n            this.field.value = this._calendar.select();\n\n            /**\n             * Event emitted when a date is selected.\n             * @event ch.Datepicker#select\n             * @example\n             * // Subscribe to \"select\" event.\n             * datepicker.on('select', function () {\n             *     // Some code here!\n             * });\n             */\n            this.emit('select');\n\n            return this;\n        }\n\n        // Getter\n        return this._calendar.select();\n    };\n\n    /**\n     * Returns date of today\n     * @memberof! ch.Datepicker.prototype\n     * @function\n     * @returns {String} The date of today\n     * @example\n     * // Get the date of today.\n     * var today = datepicker.getToday();\n     */\n    Datepicker.prototype.getToday = function () {\n        return this._calendar.getToday();\n    };\n\n    /**\n     * Moves to the next month.\n     * @memberof! ch.Datepicker.prototype\n     * @function\n     * @returns {datepicker}\n     * @example\n     * // Moves to the next month.\n     * datepicker.nextMonth();\n     */\n    Datepicker.prototype.nextMonth = function () {\n        this._calendar.nextMonth();\n\n        /**\n         * Event emitted when a next month is shown.\n         * @event ch.Datepicker#nextmonth\n         * @example\n         * // Subscribe to \"nextmonth\" event.\n         * datepicker.on('nextmonth', function () {\n         *     // Some code here!\n         * });\n         */\n        this.emit('nextmonth');\n\n        return this;\n    };\n\n    /**\n     * Move to the previous month.\n     * @memberof! ch.Datepicker.prototype\n     * @function\n     * @returns {datepicker}\n     * @example\n     * // Moves to the prev month.\n     * datepicker.prevMonth();\n     */\n    Datepicker.prototype.prevMonth = function () {\n\n        this._calendar.prevMonth();\n\n        /**\n         * Event emitted when a previous month is shown.\n         * @event ch.Datepicker#prevmonth\n         * @example\n         * // Subscribe to \"prevmonth\" event.\n         * datepicker.on('prevmonth', function () {\n         *     // Some code here!\n         * });\n         */\n        this.emit('prevmonth');\n\n        return this;\n    };\n\n    /**\n     * Move to the next year.\n     * @memberof! ch.Datepicker.prototype\n     * @function\n     * @returns {datepicker}\n     * @example\n     * // Moves to the next year.\n     * datepicker.nextYear();\n     */\n    Datepicker.prototype.nextYear = function () {\n\n        this._calendar.nextYear();\n\n        /**\n         * Event emitted when a next year is shown.\n         * @event ch.Datepicker#nextyear\n         * @example\n         * // Subscribe to \"nextyear\" event.\n         * datepicker.on('nextyear', function () {\n         *     // Some code here!\n         * });\n         */\n        this.emit('nextyear');\n\n        return this;\n    };\n\n    /**\n     * Move to the previous year.\n     * @memberof! ch.Datepicker.prototype\n     * @function\n     * @returns {datepicker}\n     * @example\n     * // Moves to the prev year.\n     * datepicker.prevYear();\n     */\n    Datepicker.prototype.prevYear = function () {\n\n        this._calendar.prevYear();\n\n        /**\n         * Event emitted when a previous year is shown.\n         * @event ch.Datepicker#prevyear\n         * @example\n         * // Subscribe to \"prevyear\" event.\n         * datepicker.on('prevyear', function () {\n         *     // Some code here!\n         * });\n         */\n        this.emit('prevyear');\n\n        return this;\n    };\n\n    /**\n     * Reset the Datepicker to date of today\n     * @memberof! ch.Datepicker.prototype\n     * @function\n     * @returns {datepicker}\n     * @example\n     * // Resset the datepicker\n     * datepicker.reset();\n     */\n    Datepicker.prototype.reset = function () {\n\n        // Delete input value\n        this.field.value = '';\n        this._calendar.reset();\n\n        /**\n         * Event emitter when the datepicker is reseted.\n         * @event ch.Datepicker#reset\n         * @example\n         * // Subscribe to \"reset\" event.\n         * datepicker.on('reset', function () {\n         *     // Some code here!\n         * });\n         */\n        this.emit('reset');\n\n        return this;\n    };\n\n    /**\n     * Set a minimum selectable date.\n     * @memberof! ch.Datepicker.prototype\n     * @function\n     * @param {String} date A given date to set as minimum selectable date. The format of the given date should be \"YYYY/MM/DD\".\n     * @returns {datepicker}\n     * @example\n     * // Set a minimum selectable date.\n     * datepicker.setFrom('2010/05/28');\n     */\n    Datepicker.prototype.setFrom = function (date) {\n        this._calendar.setFrom(date);\n\n        return this;\n    };\n\n    /**\n     * Set a maximum selectable date.\n     * @memberof! ch.Datepicker.prototype\n     * @function\n     * @param {String} date A given date to set as maximum selectable date. The format of the given date should be \"YYYY/MM/DD\".\n     * @returns {datepicker}\n     * @example\n     * // Set a maximum selectable date.\n     * datepicker.setTo('2014/05/28');\n     */\n    Datepicker.prototype.setTo = function (date) {\n        this._calendar.setTo(date);\n\n        return this;\n    };\n\n    /**\n     * Enables an instance of Datepicker.\n     * @memberof! ch.Datepicker.prototype\n     * @function\n     * @returns {datepicker} Returns an instance of Datepicker.\n     * @example\n     * // Enabling an instance of Datepicker.\n     * datepicker.enable();\n     */\n\n    /**\n     * Disables an instance of Datepicker.\n     * @memberof! ch.Datepicker.prototype\n     * @function\n     * @returns {datepicker} Returns an instance of Datepicker.\n     * @example\n     * // Disabling an instance of Datepicker.\n     * datepicker.disable();\n     */\n    while (len) {\n        createMethods(methods[len -= 1]);\n    }\n\n    /**\n     * Destroys a Datepicker instance.\n     * @memberof! ch.Datepicker.prototype\n     * @function\n     * @example\n     * // Destroying an instance of Datepicker.\n     * datepicker.destroy();\n     */\n    Datepicker.prototype.destroy = function () {\n\n        tiny.parent(this.trigger).removeChild(this.trigger);\n\n        this._el.removeAttribute('aria-describedby');\n        this._el.type = 'date';\n\n        this._popover.destroy();\n\n        parent.destroy.call(this);\n    };\n\n    // Factorize\n    ch.factory(Datepicker);\n\n}(this, this.ch));\n\n(function (window, ch) {\n    'use strict';\n\n\n    function highlightSuggestion(target) {\n        var posinset;\n\n        Array.prototype.forEach.call(this._suggestionsList.childNodes, function(e) {\n            if(e.contains(target)){\n                posinset = parseInt(target.getAttribute('aria-posinset'), 10) - 1;\n            }\n        });\n\n        this._highlighted = (typeof posinset === 'number') ? posinset : null;\n\n        this._toogleHighlighted();\n\n        return this;\n    }\n\n    var specialKeyCodeMap = {\n        9: 'tab',\n        27: 'esc',\n        37: 'left',\n        39: 'right',\n        13: 'enter',\n        38: 'up',\n        40: 'down'\n    };\n\n    /**\n     * Autocomplete Component shows a list of suggestions for a HTMLInputElement.\n     * @memberof ch\n     * @constructor\n     * @augments ch.Component\n     * @requires ch.Popover\n     * @param {HTMLElement} [el] A HTMLElement to create an instance of ch.Autocomplete.\n     * @param {Object} [options] Options to customize an instance.\n     * @param {String} [options.loadingClass] Default: \"ch-autocomplete-loading\".\n     * @param {String} [options.highlightedClass] Default: \"ch-autocomplete-highlighted\".\n     * @param {String} [options.itemClass] Default: \"ch-autocomplete-item\".\n     * @param {String} [options.addClass] CSS class names that will be added to the container on the component initialization. Default: \"ch-box-lite ch-autocomplete\".\n     * @param {Number} [options.keystrokesTime] Default: 150.\n     * @param {Boolean} [options.html] Default: false.\n     * @param {String} [options.side] The side option where the target element will be positioned. You must use: \"left\", \"right\", \"top\", \"bottom\" or \"center\". Default: \"bottom\".\n     * @param {String} [options.align] The align options where the target element will be positioned. You must use: \"left\", \"right\", \"top\", \"bottom\" or \"center\". Default: \"left\".\n     * @param {Number} [options.offsetX] The offsetX option specifies a distance to displace the target horitontally.\n     * @param {Number} [options.offsetY] The offsetY option specifies a distance to displace the target vertically.\n     * @param {String} [options.positioned] The positioned option specifies the type of positioning used. You must use: \"absolute\" or \"fixed\". Default: \"absolute\".\n     * @param {(Boolean | String)} [options.wrapper] Wrap the reference element and place the container into it instead of body. When value is a string it will be applied as additional wrapper class. Default: false.\n     *\n     * @returns {autocomplete}\n     * @example\n     * // Create a new AutoComplete.\n     * var autocomplete = new AutoComplete([el], [options]);\n     * @example\n     * // Create a new AutoComplete with configuration.\n     * var autocomplete = new AutoComplete('.my-autocomplete', {\n     *  'loadingClass': 'custom-loading',\n     *  'highlightedClass': 'custom-highlighted',\n     *  'itemClass': 'custom-item',\n     *  'addClass': 'carousel-cities',\n     *  'keystrokesTime': 600,\n     *  'html': true,\n     *  'side': 'center',\n     *  'align': 'center',\n     *  'offsetX': 0,\n     *  'offsetY': 0,\n     *  'positioned': 'fixed'\n     * });\n     */\n    function Autocomplete(el, options) {\n\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this;\n\n        this._init(el, options);\n\n        if (this.initialize !== undefined) {\n            /**\n             * If you define an initialize method, it will be executed when a new Autocomplete is created.\n             * @memberof! ch.Autocomplete.prototype\n             * @function\n             */\n            this.initialize();\n        }\n\n        /**\n         * Event emitted when the component is ready to use.\n         * @event ch.Autocomplete#ready\n         * @example\n         * // Subscribe to \"ready\" event.\n         * autocomplete.on('ready',function () {\n         *     // Some code here!\n         * });\n         */\n        window.setTimeout(function () { that.emit('ready'); }, 50);\n\n        return this;\n    }\n\n    // Inheritance\n    tiny.inherits(Autocomplete, ch.Component);\n\n    var parent = Autocomplete.super_.prototype,\n        // there is no mouseenter to highlight the item, so it happens when the user do mousedown\n        highlightEvent = (tiny.support.touch) ? ch.onpointerdown : 'mouseover';\n\n    /**\n     * The name of the component.\n     * @type {String}\n     */\n    Autocomplete.prototype.name = 'autocomplete';\n\n    /**\n     * Returns a reference to the constructor function.\n     * @memberof! ch.Autocomplete.prototype\n     * @function\n     */\n    Autocomplete.prototype.constructor = Autocomplete;\n\n    /**\n     * Configuration by default.\n     * @type {Object}\n     * @private\n     */\n    Autocomplete.prototype._defaults = {\n        'loadingClass': 'ch-autocomplete-loading',\n        'highlightedClass': 'ch-autocomplete-highlighted',\n        'itemClass': 'ch-autocomplete-item',\n        'addClass': 'ch-box-lite ch-autocomplete',\n        'side': 'bottom',\n        'align': 'left',\n        'html': false,\n        '_hiddenby': 'none',\n        'keystrokesTime': 150,\n        '_itemTemplate': '<li class=\"{{itemClass}}\"{{suggestedData}}>{{term}}<i class=\"ch-icon-arrow-up\" data-js=\"ch-autocomplete-complete-query\"></i></li>',\n        'wrapper': false\n    };\n\n    /**\n     * Initialize a new instance of Autocomplete and merge custom options with defaults options.\n     * @memberof! ch.Autocomplete.prototype\n     * @function\n     * @private\n     * @returns {autocomplete}\n     */\n    Autocomplete.prototype._init = function (el, options) {\n\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this;\n\n        // Call to its parent init method\n        parent._init.call(this, el, options);\n\n        // creates the basic item template for this instance\n        this._options._itemTemplate = this._options._itemTemplate.replace('{{itemClass}}', this._options.itemClass);\n\n        if (this._options.html) {\n            // remove the suggested data space when html is configured\n            this._options._itemTemplate = this._options._itemTemplate.replace('{{suggestedData}}', '');\n        }\n\n        // The component who shows and manage the suggestions.\n        this._popover = new ch.Popover({\n            'reference': this._el,\n            'content': this._suggestionsList,\n            'side': this._options.side,\n            'align': this._options.align,\n            'addClass': this._options.addClass,\n            'hiddenby': this._options._hiddenby,\n            'width': this._el.getBoundingClientRect().width + 'px',\n            'fx': this._options.fx,\n            'wrapper': this._options.wrapper\n        });\n\n        /**\n         * The autocomplete container.\n         * @type {HTMLDivElement}\n         * @example\n         * // Gets the autocomplete container to append or prepend content.\n         * autocomplete.container.appendChild(document.createElement('div'));\n         */\n        this.container = this._popover.container;\n\n        this.container.setAttribute('aria-hidden', 'true');\n\n        /**\n         * The autocomplete suggestion list.\n         * @type {HTMLUListElement}\n         * @private\n         */\n        this._suggestionsList = document.createElement('ul');\n        tiny.addClass(this._suggestionsList, 'ch-autocomplete-list');\n\n        this.container.appendChild(this._suggestionsList);\n\n        /**\n         * Selects the items\n         * @memberof! ch.Autocomplete.prototype\n         * @function\n         * @private\n         * @returns {autocomplete}\n         */\n\n        this._highlightSuggestion = function (event) {\n            var target = event.target || event.srcElement,\n                item = (target.nodeName === 'LI') ? target : (target.parentNode.nodeName === 'LI') ? target.parentNode : null;\n\n            if (item !== null) {\n                highlightSuggestion.call(that, item);\n            }\n\n        };\n\n        tiny.on(this.container, highlightEvent, this._highlightSuggestion);\n\n\n        tiny.on(this.container, ch.onpointertap, function itemEvents(event) {\n            var target = event.target || event.srcElement;\n\n            // completes the value, it is a shortcut to avoid write the complete word\n            if (target.nodeName === 'I' && !that._options.html) {\n                event.preventDefault();\n                that._el.value = that._suggestions[that._highlighted];\n                that.emit('type', that._el.value);\n                return;\n            }\n\n            if ((target.nodeName === 'LI' && target.className.indexOf(that._options.itemClass) !== -1) || (target.parentElement.nodeName === 'LI' && target.parentElement.className.indexOf(that._options.itemClass) !== -1)) {\n                that._selectSuggestion();\n            }\n        });\n\n        /**\n         * The autocomplete trigger.\n         * @type {HTMLElement}\n         */\n        this.trigger = this._el;\n\n        this.trigger.setAttribute('aria-autocomplete', 'list');\n        this.trigger.setAttribute('aria-haspopup', 'true');\n        this.trigger.setAttribute('aria-owns', this.container.getAttribute('id'));\n        this.trigger.setAttribute('autocomplete', 'off');\n\n        tiny.on(this.trigger, 'focus', function turnon() { that._turn('on'); });\n        tiny.on(this.trigger, 'blur', function turnoff() {that._turn('off'); });\n\n        // Turn on when the input element is already has focus\n        if (this._el === document.activeElement && !this._enabled) {\n            this._turn('on');\n        }\n\n        // The number of the selected item or null when no selected item is.\n        this._highlighted = null;\n\n        // Collection of suggestions to be shown.\n        this._suggestions = [];\n\n        // Used to show when the user cancel the suggestions\n        this._originalQuery = this._currentQuery = this._el.value;\n\n        if (this._configureShortcuts !== undefined) {\n            this._configureShortcuts();\n        }\n\n        return this;\n    };\n\n    /**\n     * Turns on the ability off listen the keystrokes\n     * @memberof! ch.Autocomplete.prototype\n     * @function\n     * @private\n     * @returns {autocomplete}\n     */\n    Autocomplete.prototype._turn = function (turn) {\n        var that = this;\n\n        if (!this._enabled) {\n            return this;\n        }\n\n\n        function turnOn() {\n            that._currentQuery = that._el.value.trim();\n\n            // when the user writes\n            window.clearTimeout(that._stopTyping);\n\n            that._stopTyping = window.setTimeout(function () {\n\n                tiny.addClass(that.trigger, that._options.loadingClass);\n                /**\n                 * Event emitted when the user is typing.\n                 * @event ch.Autocomplete#type\n                 * @example\n                 * // Subscribe to \"type\" event with ajax call\n                 * autocomplete.on('type', function (userInput) {\n                 *      $.ajax({\n                 *          'url': '/countries?q=' + userInput,\n                 *          'dataType': 'json',\n                 *          'success': function (response) {\n                 *              autocomplete.suggest(response);\n                 *          }\n                 *      });\n                 * });\n                 * @example\n                 * // Subscribe to \"type\" event with jsonp\n                 * autocomplete.on('type', function (userInput) {\n                 *       $.ajax({\n                 *           'url': '/countries?q='+ userInput +'&callback=parseResults',\n                 *           'dataType': 'jsonp',\n                 *           'cache': false,\n                 *           'global': true,\n                 *           'context': window,\n                 *           'jsonp': 'parseResults',\n                 *           'crossDomain': true\n                 *       });\n                 * });\n                 */\n                that.emit('type', that._currentQuery);\n            }, that._options.keystrokesTime);\n        }\n\n        function turnOnFallback(e) {\n            if (specialKeyCodeMap[e.which || e.keyCode]) {\n                return;\n            }\n            // When keydown is fired that.trigger still has an old value\n            setTimeout(turnOn, 1);\n        }\n\n        this._originalQuery = this._el.value;\n\n        // IE8 don't support the input event at all\n        // IE9 is the only browser that doesn't fire the input event when characters are removed\n        var ua = navigator.userAgent;\n        var MSIE = (/(msie|trident)/i).test(ua) ?\n            ua.match(/(msie |rv:)(\\d+(.\\d+)?)/i)[2] : false;\n\n        if (turn === 'on') {\n            if (!MSIE || MSIE > 9) {\n                tiny.on(this.trigger, ch.onkeyinput, turnOn);\n            } else {\n                'keydown cut paste'.split(' ').forEach(function(evtName) {\n                    tiny.on(that.trigger, evtName, turnOnFallback);\n                });\n            }\n        } else if (turn === 'off') {\n            this.hide();\n            if (!MSIE || MSIE > 9) {\n                tiny.off(this.trigger, ch.onkeyinput, turnOn);\n            } else {\n                'keydown cut paste'.split(' ').forEach(function(evtName) {\n                    tiny.off(that.trigger, evtName, turnOnFallback);\n                });\n            }\n        }\n\n        return this;\n\n    };\n\n    /**\n     * It sets to the HTMLInputElement the selected query and it emits a 'select' event.\n     * @memberof! ch.Autocomplete.prototype\n     * @function\n     * @private\n     * @returns {autocomplete}\n     */\n    Autocomplete.prototype._selectSuggestion = function () {\n\n        window.clearTimeout(this._stopTyping);\n\n        if (this._highlighted === null) {\n            return this;\n        }\n\n        if (!this._options.html) {\n            this._el.value = this._suggestions[this._highlighted];\n        }\n\n        this._el.blur();\n\n        /**\n         * Event emitted when a suggestion is selected.\n         * @event ch.Autocomplete#select\n         * @example\n         * // Subscribe to \"select\" event.\n         * autocomplete.on('select', function () {\n         *     // Some code here!\n         * });\n         */\n        this.emit('select');\n\n        return this;\n    };\n\n    /**\n     * It highlights the item adding the \"ch-autocomplete-highlighted\" class name or the class name that you configured as \"highlightedClass\" option.\n     * @memberof! ch.Autocomplete.prototype\n     * @function\n     * @private\n     * @returns {autocomplete}\n     */\n    Autocomplete.prototype._toogleHighlighted = function () {\n        // null is when is not a selected item but,\n        // increments 1 _highlighted because aria-posinset starts in 1 instead 0 as the collection that stores the data\n        var current = (this._highlighted === null) ? null : (this._highlighted + 1),\n            currentItem = this.container.querySelector('[aria-posinset=\"' + current + '\"]'),\n            selectedItem = this.container.querySelector('[aria-posinset].' + this._options.highlightedClass);\n\n        if (selectedItem !== null) {\n            // background the highlighted item\n            tiny.removeClass(selectedItem, this._options.highlightedClass);\n        }\n\n        if (currentItem !== null) {\n            // highlight the selected item\n            tiny.addClass(currentItem, this._options.highlightedClass);\n        }\n\n        return this;\n    };\n\n    /**\n     * Add suggestions to be shown.\n     * @memberof! ch.Autocomplete.prototype\n     * @function\n     * @returns {autocomplete}\n     * @example\n     * // The suggest method needs an Array of strings to work with default configuration\n     * autocomplete.suggest(['Aruba','Armenia','Argentina']);\n     * @example\n     * // To work with html configuration, it needs an Array of strings. Each string must to be as you wish you watch it\n     * autocomplete.suggest([\n     *  '<strong>Ar</strong>uba <i class=\"flag-aruba\"></i>',\n     *  '<strong>Ar</strong>menia <i class=\"flag-armenia\"></i>',\n     *  '<strong>Ar</strong>gentina <i class=\"flag-argentina\"></i>'\n     * ]);\n     */\n    Autocomplete.prototype.suggest = function (suggestions) {\n\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this,\n            items = [],\n            matchedRegExp = new RegExp('(' + this._currentQuery.replace(/([.*+?^=!:${}()|[\\]\\/\\\\])/g, '\\\\$1') + ')', 'ig'),\n            totalItems = 0,\n            itemDOMCollection,\n            itemTemplate = this._options._itemTemplate,\n            suggestedItem,\n            term,\n            suggestionsLength = suggestions.length,\n            el,\n            itemSelected = this.container.querySelector('.' + this._options.highlightedClass);\n\n        // hide the loading feedback\n        tiny.removeClass(this.trigger, that._options.loadingClass);\n\n        // hides the suggestions list\n        if (suggestionsLength === 0) {\n            this._popover.hide();\n\n            return this;\n        }\n\n        // shows the suggestions list when the is closed and the element is withs focus\n        if (!this._popover.isShown() && window.document.activeElement === this._el) {\n            this._popover.show();\n        }\n\n        // remove the class from the extra added items\n        if (itemSelected !== null) {\n            tiny.removeClass(itemSelected, this._options.highlightedClass);\n        }\n\n        // add each suggested item to the suggestion list\n        for (suggestedItem = 0; suggestedItem < suggestionsLength; suggestedItem += 1) {\n            // get the term to be replaced\n            term = suggestions[suggestedItem];\n\n            // for the html configured component doesn't highlight the term matched it must be done by the user\n            if (!that._options.html) {\n                term = term.replace(matchedRegExp, '<strong>$1</strong>');\n                itemTemplate = this._options._itemTemplate.replace('{{suggestedData}}', ' data-suggested=\"' + suggestions[suggestedItem] + '\"');\n            }\n\n            items.push(itemTemplate.replace('{{term}}', term));\n        }\n\n        this._suggestionsList.innerHTML = items.join('');\n\n        itemDOMCollection = this.container.querySelectorAll('.' + this._options.itemClass);\n\n        // with this we set the aria-setsize value that counts the total\n        totalItems = itemDOMCollection.length;\n\n        // Reset suggestions collection.\n        this._suggestions.length = 0;\n\n        for (suggestedItem = 0; suggestedItem < totalItems; suggestedItem += 1) {\n            el = itemDOMCollection[suggestedItem];\n\n            // add the data to the suggestions collection\n            that._suggestions.push(el.getAttribute('data-suggested'));\n\n            el.setAttribute('aria-posinset', that._suggestions.length);\n            el.setAttribute('aria-setsize', totalItems);\n        }\n\n        this._highlighted = null;\n\n        this._suggestionsQuantity = this._suggestions.length;\n\n        return this;\n    };\n\n    /**\n     * Hides component's container.\n     * @memberof! ch.Autocomplete.prototype\n     * @function\n     * @returns {autocomplete}\n     * @example\n     * // Hides the autocomplete.\n     * autocomplete.hide();\n     */\n    Autocomplete.prototype.hide = function () {\n\n        if (!this._enabled) {\n            return this;\n        }\n\n        this._popover.hide();\n\n        /**\n         * Event emitted when the Autocomplete container is hidden.\n         * @event ch.Autocomplete#hide\n         * @example\n         * // Subscribe to \"hide\" event.\n         * autocomplete.on('hide', function () {\n         *  // Some code here!\n         * });\n         */\n        this.emit('hide');\n\n        return this;\n    };\n\n    /**\n     * Returns a Boolean if the component's core behavior is shown. That means it will return 'true' if the component is on and it will return false otherwise.\n     * @memberof! ch.Autocomplete.prototype\n     * @function\n     * @returns {Boolean}\n     * @example\n     * // Execute a function if the component is shown.\n     * if (autocomplete.isShown()) {\n     *     fn();\n     * }\n     */\n    Autocomplete.prototype.isShown = function () {\n        return this._popover.isShown();\n    };\n\n    Autocomplete.prototype.disable = function () {\n        if (this.isShown()) {\n            this.hide();\n            this._el.blur();\n        }\n\n        parent.disable.call(this);\n\n        return this;\n    };\n\n    /**\n     * Destroys an Autocomplete instance.\n     * @memberof! ch.Autocomplete.prototype\n     * @function\n     * @example\n     * // Destroying an instance of Autocomplete.\n     * autocomplete.destroy();\n     */\n    Autocomplete.prototype.destroy = function () {\n\n        tiny.off(this.container, highlightEvent, this._highlightSuggestion);\n\n        this.trigger.removeAttribute('autocomplete');\n        this.trigger.removeAttribute('aria-autocomplete');\n        this.trigger.removeAttribute('aria-haspopup');\n        this.trigger.removeAttribute('aria-owns');\n\n        this._popover.destroy();\n\n        parent.destroy.call(this);\n\n        return;\n    };\n\n    ch.factory(Autocomplete);\n\n}(this, this.ch));\n\n(function (Autocomplete, ch) {\n    'use strict';\n    /**\n     * Congfigure shortcuts to navigate and set values, or cancel the typed text\n     * @memberof! ch.Autocomplete.prototype\n     * @function\n     * @private\n     * @returns {autocomplete}\n     */\n    Autocomplete.prototype._configureShortcuts = function () {\n\n        /**\n         * Reference to context of an instance.\n         * @type {Object}\n         * @private\n         */\n        var that = this;\n\n        // Shortcuts\n        ch.shortcuts.add(ch.onkeyenter, this.uid, function (event) {\n            event.preventDefault();\n            that._selectSuggestion();\n        });\n\n        ch.shortcuts.add(ch.onkeyesc, this.uid, function () {\n            that.hide();\n            that._el.value = that._originalQuery;\n        });\n\n        ch.shortcuts.add(ch.onkeyuparrow, this.uid, function (event) {\n            event.preventDefault();\n\n            var value;\n\n            // change the selected value & stores the future HTMLInputElement value\n            if (that._highlighted === null) {\n\n                that._highlighted = that._suggestionsQuantity - 1;\n                value = that._suggestions[that._highlighted];\n\n            } else if (that._highlighted <= 0) {\n\n                this._prevHighlighted = this._currentHighlighted = null;\n                value = that._currentQuery;\n\n            } else {\n\n                that._highlighted -= 1;\n                value = that._suggestions[that._highlighted];\n\n            }\n\n            that._toogleHighlighted();\n\n            if (!that._options.html) {\n                that._el.value = value;\n            }\n\n        });\n\n        ch.shortcuts.add(ch.onkeydownarrow, this.uid, function () {\n            var value;\n\n            // change the selected value & stores the future HTMLInputElement value\n            if (that._highlighted === null) {\n\n                that._highlighted = 0;\n\n                value = that._suggestions[that._highlighted];\n\n            } else if (that._highlighted >= that._suggestionsQuantity - 1) {\n\n                that._highlighted = null;\n                value = that._currentQuery;\n\n            } else {\n\n                that._highlighted += 1;\n                value = that._suggestions[that._highlighted];\n\n            }\n\n            that._toogleHighlighted();\n\n            if (!that._options.html) {\n                that._el.value = value;\n            }\n\n        });\n\n        // Activate the shortcuts for this instance\n        this._popover.on('show', function () { ch.shortcuts.on(that.uid); });\n\n        // Deactivate the shortcuts for this instance\n        this._popover.on('hide', function () { ch.shortcuts.off(that.uid); });\n\n        this.on('destroy', function () {\n            ch.shortcuts.remove(this.uid);\n        });\n\n        return this;\n    };\n\n}(this.ch.Autocomplete, this.ch));\n"],"sourceRoot":"/source/"}